var AW=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var dPe=AW((Er,Tr)=>{function PW(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vM={exports:{}},t_={},yM={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=Symbol.for("react.element"),RW=Symbol.for("react.portal"),NW=Symbol.for("react.fragment"),OW=Symbol.for("react.strict_mode"),DW=Symbol.for("react.profiler"),MW=Symbol.for("react.provider"),$W=Symbol.for("react.context"),LW=Symbol.for("react.forward_ref"),FW=Symbol.for("react.suspense"),VW=Symbol.for("react.memo"),jW=Symbol.for("react.lazy"),rA=Symbol.iterator;function BW(t){return t===null||typeof t!="object"?null:(t=rA&&t[rA]||t["@@iterator"],typeof t=="function"?t:null)}var _M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bM=Object.assign,wM={};function Ju(t,e,n){this.props=t,this.context=e,this.refs=wM,this.updater=n||_M}Ju.prototype.isReactComponent={};Ju.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ju.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SM(){}SM.prototype=Ju.prototype;function dT(t,e,n){this.props=t,this.context=e,this.refs=wM,this.updater=n||_M}var hT=dT.prototype=new SM;hT.constructor=dT;bM(hT,Ju.prototype);hT.isPureReactComponent=!0;var iA=Array.isArray,EM=Object.prototype.hasOwnProperty,fT={current:null},TM={key:!0,ref:!0,__self:!0,__source:!0};function CM(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)EM.call(e,r)&&!TM.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_p,type:t,key:s,ref:o,props:i,_owner:fT.current}}function zW(t,e){return{$$typeof:_p,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pT(t){return typeof t=="object"&&t!==null&&t.$$typeof===_p}function UW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sA=/\/+/g;function fb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UW(""+t.key):e.toString(36)}function Cg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _p:case RW:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fb(o,0):r,iA(i)?(n="",t!=null&&(n=t.replace(sA,"$&/")+"/"),Cg(i,e,n,"",function(c){return c})):i!=null&&(pT(i)&&(i=zW(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",iA(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+fb(s,a);o+=Cg(s,e,n,l,i)}else if(l=BW(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+fb(s,a++),o+=Cg(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function km(t,e,n){if(t==null)return t;var r=[],i=0;return Cg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function WW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jn={current:null},xg={transition:null},HW={ReactCurrentDispatcher:Jn,ReactCurrentBatchConfig:xg,ReactCurrentOwner:fT};$e.Children={map:km,forEach:function(t,e,n){km(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return km(t,function(){e++}),e},toArray:function(t){return km(t,function(e){return e})||[]},only:function(t){if(!pT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=Ju;$e.Fragment=NW;$e.Profiler=DW;$e.PureComponent=dT;$e.StrictMode=OW;$e.Suspense=FW;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HW;$e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bM({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)EM.call(e,l)&&!TM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_p,type:t.type,key:i,ref:s,props:r,_owner:o}};$e.createContext=function(t){return t={$$typeof:$W,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MW,_context:t},t.Consumer=t};$e.createElement=CM;$e.createFactory=function(t){var e=CM.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:LW,render:t}};$e.isValidElement=pT;$e.lazy=function(t){return{$$typeof:jW,_payload:{_status:-1,_result:t},_init:WW}};$e.memo=function(t,e){return{$$typeof:VW,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=xg.transition;xg.transition={};try{t()}finally{xg.transition=e}};$e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};$e.useCallback=function(t,e){return Jn.current.useCallback(t,e)};$e.useContext=function(t){return Jn.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return Jn.current.useDeferredValue(t)};$e.useEffect=function(t,e){return Jn.current.useEffect(t,e)};$e.useId=function(){return Jn.current.useId()};$e.useImperativeHandle=function(t,e,n){return Jn.current.useImperativeHandle(t,e,n)};$e.useInsertionEffect=function(t,e){return Jn.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return Jn.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return Jn.current.useMemo(t,e)};$e.useReducer=function(t,e,n){return Jn.current.useReducer(t,e,n)};$e.useRef=function(t){return Jn.current.useRef(t)};$e.useState=function(t){return Jn.current.useState(t)};$e.useSyncExternalStore=function(t,e,n){return Jn.current.useSyncExternalStore(t,e,n)};$e.useTransition=function(){return Jn.current.useTransition()};$e.version="18.2.0";yM.exports=$e;var g=yM.exports;const Cr=yp(g),gS=PW({__proto__:null,default:Cr},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qW=g,GW=Symbol.for("react.element"),KW=Symbol.for("react.fragment"),YW=Object.prototype.hasOwnProperty,QW=qW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XW={key:!0,ref:!0,__self:!0,__source:!0};function xM(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YW.call(e,r)&&!XW.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GW,type:t,key:s,ref:o,props:i,_owner:QW.current}}t_.Fragment=KW;t_.jsx=xM;t_.jsxs=xM;vM.exports=t_;var _=vM.exports;function ZW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function JW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var e8=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(JW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=ZW(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),An="-ms-",pv="-moz-",Ke="-webkit-",IM="comm",mT="rule",gT="decl",t8="@import",kM="@keyframes",n8="@layer",r8=Math.abs,n_=String.fromCharCode,i8=Object.assign;function s8(t,e){return bn(t,0)^45?(((e<<2^bn(t,0))<<2^bn(t,1))<<2^bn(t,2))<<2^bn(t,3):0}function AM(t){return t.trim()}function o8(t,e){return(t=e.exec(t))?t[0]:t}function Qe(t,e,n){return t.replace(e,n)}function vS(t,e){return t.indexOf(e)}function bn(t,e){return t.charCodeAt(e)|0}function Yh(t,e,n){return t.slice(e,n)}function Mi(t){return t.length}function vT(t){return t.length}function Am(t,e){return e.push(t),t}function a8(t,e){return t.map(e).join("")}var r_=1,pu=1,PM=0,mr=0,Gt=0,ed="";function i_(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:r_,column:pu,length:o,return:""}}function kd(t,e){return i8(i_("",null,null,"",null,null,0),t,{length:-t.length},e)}function l8(){return Gt}function c8(){return Gt=mr>0?bn(ed,--mr):0,pu--,Gt===10&&(pu=1,r_--),Gt}function xr(){return Gt=mr<PM?bn(ed,mr++):0,pu++,Gt===10&&(pu=1,r_++),Gt}function Ui(){return bn(ed,mr)}function Ig(){return mr}function bp(t,e){return Yh(ed,t,e)}function Qh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function RM(t){return r_=pu=1,PM=Mi(ed=t),mr=0,[]}function NM(t){return ed="",t}function kg(t){return AM(bp(mr-1,yS(t===91?t+2:t===40?t+1:t)))}function u8(t){for(;(Gt=Ui())&&Gt<33;)xr();return Qh(t)>2||Qh(Gt)>3?"":" "}function d8(t,e){for(;--e&&xr()&&!(Gt<48||Gt>102||Gt>57&&Gt<65||Gt>70&&Gt<97););return bp(t,Ig()+(e<6&&Ui()==32&&xr()==32))}function yS(t){for(;xr();)switch(Gt){case t:return mr;case 34:case 39:t!==34&&t!==39&&yS(Gt);break;case 40:t===41&&yS(t);break;case 92:xr();break}return mr}function h8(t,e){for(;xr()&&t+Gt!==47+10;)if(t+Gt===42+42&&Ui()===47)break;return"/*"+bp(e,mr-1)+"*"+n_(t===47?t:xr())}function f8(t){for(;!Qh(Ui());)xr();return bp(t,mr)}function p8(t){return NM(Ag("",null,null,null,[""],t=RM(t),0,[0],t))}function Ag(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,f=0,p=0,m=1,b=1,y=1,v=0,w="",S=i,C=s,x=r,T=w;b;)switch(p=v,v=xr()){case 40:if(p!=108&&bn(T,d-1)==58){vS(T+=Qe(kg(v),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=kg(v);break;case 9:case 10:case 13:case 32:T+=u8(p);break;case 92:T+=d8(Ig()-1,7);continue;case 47:switch(Ui()){case 42:case 47:Am(m8(h8(xr(),Ig()),e,n),l);break;default:T+="/"}break;case 123*m:a[c++]=Mi(T)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:b=0;case 59+u:y==-1&&(T=Qe(T,/\f/g,"")),f>0&&Mi(T)-d&&Am(f>32?aA(T+";",r,n,d-1):aA(Qe(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(Am(x=oA(T,e,n,c,u,i,a,w,S=[],C=[],d),s),v===123)if(u===0)Ag(T,e,x,x,S,s,d,a,C);else switch(h===99&&bn(T,3)===110?100:h){case 100:case 108:case 109:case 115:Ag(t,x,x,r&&Am(oA(t,x,x,0,0,i,a,w,i,S=[],d),C),i,C,d,a,r?S:C);break;default:Ag(T,x,x,x,[""],C,0,a,C)}}c=u=f=0,m=y=1,w=T="",d=o;break;case 58:d=1+Mi(T),f=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&c8()==125)continue}switch(T+=n_(v),v*m){case 38:y=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Mi(T)-1)*y,y=1;break;case 64:Ui()===45&&(T+=kg(xr())),h=Ui(),u=d=Mi(w=T+=f8(Ig())),v++;break;case 45:p===45&&Mi(T)==2&&(m=0)}}return s}function oA(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],f=vT(h),p=0,m=0,b=0;p<r;++p)for(var y=0,v=Yh(t,d+1,d=r8(m=o[p])),w=t;y<f;++y)(w=AM(m>0?h[y]+" "+v:Qe(v,/&\f/g,h[y])))&&(l[b++]=w);return i_(t,e,n,i===0?mT:a,l,c,u)}function m8(t,e,n){return i_(t,e,n,IM,n_(l8()),Yh(t,2,-2),0)}function aA(t,e,n,r){return i_(t,e,n,gT,Yh(t,0,r),Yh(t,r+1,-1),r)}function Uc(t,e){for(var n="",r=vT(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function g8(t,e,n,r){switch(t.type){case n8:if(t.children.length)break;case t8:case gT:return t.return=t.return||t.value;case IM:return"";case kM:return t.return=t.value+"{"+Uc(t.children,r)+"}";case mT:t.value=t.props.join(",")}return Mi(n=Uc(t.children,r))?t.return=t.value+"{"+n+"}":""}function v8(t){var e=vT(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function y8(t){return function(e){e.root||(e=e.return)&&t(e)}}var lA=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function OM(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var _8=function(e,n,r){for(var i=0,s=0;i=s,s=Ui(),i===38&&s===12&&(n[r]=1),!Qh(s);)xr();return bp(e,mr)},b8=function(e,n){var r=-1,i=44;do switch(Qh(i)){case 0:i===38&&Ui()===12&&(n[r]=1),e[r]+=_8(mr-1,n,r);break;case 2:e[r]+=kg(i);break;case 4:if(i===44){e[++r]=Ui()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=n_(i)}while(i=xr());return e},w8=function(e,n){return NM(b8(RM(e),n))},cA=new WeakMap,S8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!cA.get(r))&&!i){cA.set(e,!0);for(var s=[],o=w8(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},E8=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function DM(t,e){switch(s8(t,e)){case 5103:return Ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+t+pv+t+An+t+t;case 6828:case 4268:return Ke+t+An+t+t;case 6165:return Ke+t+An+"flex-"+t+t;case 5187:return Ke+t+Qe(t,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+An+"flex-$1$2")+t;case 5443:return Ke+t+An+"flex-item-"+Qe(t,/flex-|-self/,"")+t;case 4675:return Ke+t+An+"flex-line-pack"+Qe(t,/align-content|flex-|-self/,"")+t;case 5548:return Ke+t+An+Qe(t,"shrink","negative")+t;case 5292:return Ke+t+An+Qe(t,"basis","preferred-size")+t;case 6060:return Ke+"box-"+Qe(t,"-grow","")+Ke+t+An+Qe(t,"grow","positive")+t;case 4554:return Ke+Qe(t,/([^-])(transform)/g,"$1"+Ke+"$2")+t;case 6187:return Qe(Qe(Qe(t,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),t,"")+t;case 5495:case 3959:return Qe(t,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Qe(Qe(t,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+t+t;case 4095:case 3583:case 4068:case 2532:return Qe(t,/(.+)-inline(.+)/,Ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mi(t)-1-e>6)switch(bn(t,e+1)){case 109:if(bn(t,e+4)!==45)break;case 102:return Qe(t,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+pv+(bn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vS(t,"stretch")?DM(Qe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(bn(t,e+1)!==115)break;case 6444:switch(bn(t,Mi(t)-3-(~vS(t,"!important")&&10))){case 107:return Qe(t,":",":"+Ke)+t;case 101:return Qe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(bn(t,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+An+"$2box$3")+t}break;case 5936:switch(bn(t,e+11)){case 114:return Ke+t+An+Qe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ke+t+An+Qe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ke+t+An+Qe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ke+t+An+t+t}return t}var T8=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case gT:e.return=DM(e.value,e.length);break;case kM:return Uc([kd(e,{value:Qe(e.value,"@","@"+Ke)})],i);case mT:if(e.length)return a8(e.props,function(s){switch(o8(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uc([kd(e,{props:[Qe(s,/:(read-\w+)/,":"+pv+"$1")]})],i);case"::placeholder":return Uc([kd(e,{props:[Qe(s,/:(plac\w+)/,":"+Ke+"input-$1")]}),kd(e,{props:[Qe(s,/:(plac\w+)/,":"+pv+"$1")]}),kd(e,{props:[Qe(s,/:(plac\w+)/,An+"input-$1")]})],i)}return""})}},C8=[T8],x8=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var b=m.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||C8,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var b=m.getAttribute("data-emotion").split(" "),y=1;y<b.length;y++)s[b[y]]=!0;a.push(m)});var l,c=[S8,E8];{var u,d=[g8,y8(function(m){u.insert(m)})],h=v8(c.concat(i,d)),f=function(b){return Uc(p8(b),h)};l=function(b,y,v,w){u=v,f(b?b+"{"+y.styles+"}":y.styles),w&&(p.inserted[y.name]=!0)}}var p={key:n,sheet:new e8({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p};function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}var MM={exports:{}},it={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pn=typeof Symbol=="function"&&Symbol.for,yT=pn?Symbol.for("react.element"):60103,_T=pn?Symbol.for("react.portal"):60106,s_=pn?Symbol.for("react.fragment"):60107,o_=pn?Symbol.for("react.strict_mode"):60108,a_=pn?Symbol.for("react.profiler"):60114,l_=pn?Symbol.for("react.provider"):60109,c_=pn?Symbol.for("react.context"):60110,bT=pn?Symbol.for("react.async_mode"):60111,u_=pn?Symbol.for("react.concurrent_mode"):60111,d_=pn?Symbol.for("react.forward_ref"):60112,h_=pn?Symbol.for("react.suspense"):60113,I8=pn?Symbol.for("react.suspense_list"):60120,f_=pn?Symbol.for("react.memo"):60115,p_=pn?Symbol.for("react.lazy"):60116,k8=pn?Symbol.for("react.block"):60121,A8=pn?Symbol.for("react.fundamental"):60117,P8=pn?Symbol.for("react.responder"):60118,R8=pn?Symbol.for("react.scope"):60119;function $r(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yT:switch(t=t.type,t){case bT:case u_:case s_:case a_:case o_:case h_:return t;default:switch(t=t&&t.$$typeof,t){case c_:case d_:case p_:case f_:case l_:return t;default:return e}}case _T:return e}}}function $M(t){return $r(t)===u_}it.AsyncMode=bT;it.ConcurrentMode=u_;it.ContextConsumer=c_;it.ContextProvider=l_;it.Element=yT;it.ForwardRef=d_;it.Fragment=s_;it.Lazy=p_;it.Memo=f_;it.Portal=_T;it.Profiler=a_;it.StrictMode=o_;it.Suspense=h_;it.isAsyncMode=function(t){return $M(t)||$r(t)===bT};it.isConcurrentMode=$M;it.isContextConsumer=function(t){return $r(t)===c_};it.isContextProvider=function(t){return $r(t)===l_};it.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yT};it.isForwardRef=function(t){return $r(t)===d_};it.isFragment=function(t){return $r(t)===s_};it.isLazy=function(t){return $r(t)===p_};it.isMemo=function(t){return $r(t)===f_};it.isPortal=function(t){return $r(t)===_T};it.isProfiler=function(t){return $r(t)===a_};it.isStrictMode=function(t){return $r(t)===o_};it.isSuspense=function(t){return $r(t)===h_};it.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===s_||t===u_||t===a_||t===o_||t===h_||t===I8||typeof t=="object"&&t!==null&&(t.$$typeof===p_||t.$$typeof===f_||t.$$typeof===l_||t.$$typeof===c_||t.$$typeof===d_||t.$$typeof===A8||t.$$typeof===P8||t.$$typeof===R8||t.$$typeof===k8)};it.typeOf=$r;MM.exports=it;var N8=MM.exports,wT=N8,O8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},D8={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},M8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},LM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ST={};ST[wT.ForwardRef]=M8;ST[wT.Memo]=LM;function uA(t){return wT.isMemo(t)?LM:ST[t.$$typeof]||O8}var $8=Object.defineProperty,L8=Object.getOwnPropertyNames,dA=Object.getOwnPropertySymbols,F8=Object.getOwnPropertyDescriptor,V8=Object.getPrototypeOf,hA=Object.prototype;function FM(t,e,n){if(typeof e!="string"){if(hA){var r=V8(e);r&&r!==hA&&FM(t,r,n)}var i=L8(e);dA&&(i=i.concat(dA(e)));for(var s=uA(t),o=uA(e),a=0;a<i.length;++a){var l=i[a];if(!D8[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=F8(e,l);try{$8(t,l,c)}catch{}}}}return t}var j8=FM;const B8=yp(j8);var z8=!0;function U8(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var VM=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||z8===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},jM=function(e,n,r){VM(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function W8(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var H8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},q8=/[A-Z]|^ms/g,G8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BM=function(e){return e.charCodeAt(1)===45},fA=function(e){return e!=null&&typeof e!="boolean"},pb=OM(function(t){return BM(t)?t:t.replace(q8,"-$&").toLowerCase()}),pA=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(G8,function(r,i,s){return $i={name:i,styles:s,next:$i},i})}return H8[e]!==1&&!BM(e)&&typeof n=="number"&&n!==0?n+"px":n};function Xh(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return $i={name:n.name,styles:n.styles,next:$i},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)$i={name:r.name,styles:r.styles,next:$i},r=r.next;var i=n.styles+";";return i}return K8(t,e,n)}case"function":{if(t!==void 0){var s=$i,o=n(t);return $i=s,Xh(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function K8(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xh(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":fA(o)&&(r+=pb(s)+":"+pA(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)fA(o[a])&&(r+=pb(s)+":"+pA(s,o[a])+";");else{var l=Xh(t,e,o);switch(s){case"animation":case"animationName":{r+=pb(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var mA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,$i,ET=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";$i=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Xh(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Xh(r,n,e[a]),i&&(s+=o[a]);mA.lastIndex=0;for(var l="",c;(c=mA.exec(s))!==null;)l+="-"+c[1];var u=W8(s)+l;return{name:u,styles:s,next:$i}},Y8=function(e){return e()},zM=gS["useInsertionEffect"]?gS["useInsertionEffect"]:!1,Q8=zM||Y8,gA=zM||g.useLayoutEffect,UM=g.createContext(typeof HTMLElement<"u"?x8({key:"css"}):null);UM.Provider;var WM=function(e){return g.forwardRef(function(n,r){var i=g.useContext(UM);return e(n,i,r)})},Zh=g.createContext({}),X8=function(e,n){if(typeof n=="function"){var r=n(e);return r}return al({},e,n)},Z8=lA(function(t){return lA(function(e){return X8(t,e)})}),J8=function(e){var n=g.useContext(Zh);return e.theme!==n&&(n=Z8(n)(e.theme)),g.createElement(Zh.Provider,{value:n},e.children)},m_=WM(function(t,e){var n=t.styles,r=ET([n],void 0,g.useContext(Zh)),i=g.useRef();return gA(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),gA(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&jM(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function eH(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ET(e)}var g_=function(){var e=eH.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},HM=String.raw,qM=HM`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,tH=()=>_.jsx(m_,{styles:qM}),nH=({scope:t=""})=>_.jsx(m_,{styles:HM`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${qM}
    `});function rH(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function yr(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,a=g.createContext(o);a.displayName=e;function l(){var c;const u=g.useContext(a);if(!u&&n){const d=new Error(s??rH(r,i));throw d.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,d,l),d}return u}return[a.Provider,l,a]}var[iH,sH]=yr({strict:!1,name:"PortalManagerContext"});function GM(t){const{children:e,zIndex:n}=t;return _.jsx(iH,{value:{zIndex:n},children:e})}GM.displayName="PortalManager";var Wa=globalThis!=null&&globalThis.document?g.useLayoutEffect:g.useEffect,KM={exports:{}},Lr={},YM={exports:{}},QM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var J=$.length;$.push(U);e:for(;0<J;){var Y=J-1>>>1,ae=$[Y];if(0<i(ae,U))$[Y]=U,$[J]=ae,J=Y;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],J=$.pop();if(J!==U){$[0]=J;e:for(var Y=0,ae=$.length,ce=ae>>>1;Y<ce;){var fe=2*(Y+1)-1,Ie=$[fe],De=fe+1,Be=$[De];if(0>i(Ie,J))De<ae&&0>i(Be,Ie)?($[Y]=Be,$[De]=J,Y=De):($[Y]=Ie,$[fe]=J,Y=fe);else if(De<ae&&0>i(Be,J))$[Y]=Be,$[De]=J,Y=De;else break e}}return U}function i($,U){var J=$.sortIndex-U.sortIndex;return J!==0?J:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=$)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function S($){if(m=!1,w($),!p)if(n(l)!==null)p=!0,me(C);else{var U=n(c);U!==null&&ye(S,U.startTime-$)}}function C($,U){p=!1,m&&(m=!1,y(A),A=-1),f=!0;var J=h;try{for(w(U),d=n(l);d!==null&&(!(d.expirationTime>U)||$&&!z());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var ae=Y(d.expirationTime<=U);U=t.unstable_now(),typeof ae=="function"?d.callback=ae:d===n(l)&&r(l),w(U)}else r(l);d=n(l)}if(d!==null)var ce=!0;else{var fe=n(c);fe!==null&&ye(S,fe.startTime-U),ce=!1}return ce}finally{d=null,h=J,f=!1}}var x=!1,T=null,A=-1,O=5,N=-1;function z(){return!(t.unstable_now()-N<O)}function ve(){if(T!==null){var $=t.unstable_now();N=$;var U=!0;try{U=T(!0,$)}finally{U?ne():(x=!1,T=null)}}else x=!1}var ne;if(typeof v=="function")ne=function(){v(ve)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,xe=le.port2;le.port1.onmessage=ve,ne=function(){xe.postMessage(null)}}else ne=function(){b(ve,0)};function me($){T=$,x||(x=!0,ne())}function ye($,U){A=b(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,me(C))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var J=h;h=U;try{return $()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=h;h=$;try{return U()}finally{h=J}},t.unstable_scheduleCallback=function($,U,J){var Y=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Y+J:Y):J=Y,$){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=J+ae,$={id:u++,callback:U,priorityLevel:$,startTime:J,expirationTime:ae,sortIndex:-1},J>Y?($.sortIndex=J,e(c,$),n(l)===null&&$===n(c)&&(m?(y(A),A=-1):m=!0,ye(S,J-Y))):($.sortIndex=ae,e(l,$),p||f||(p=!0,me(C))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var U=h;return function(){var J=h;h=U;try{return $.apply(this,arguments)}finally{h=J}}}})(QM);YM.exports=QM;var oH=YM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XM=g,Pr=oH;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZM=new Set,Jh={};function Dl(t,e){mu(t,e),mu(t+"Capture",e)}function mu(t,e){for(Jh[t]=e,t=0;t<e.length;t++)ZM.add(e[t])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_S=Object.prototype.hasOwnProperty,aH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vA={},yA={};function lH(t){return _S.call(yA,t)?!0:_S.call(vA,t)?!1:aH.test(t)?yA[t]=!0:(vA[t]=!0,!1)}function cH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uH(t,e,n,r){if(e===null||typeof e>"u"||cH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function er(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cn[t]=new er(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cn[e]=new er(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cn[t]=new er(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cn[t]=new er(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cn[t]=new er(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cn[t]=new er(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cn[t]=new er(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cn[t]=new er(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cn[t]=new er(t,5,!1,t.toLowerCase(),null,!1,!1)});var TT=/[\-:]([a-z])/g;function CT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(TT,CT);Cn[e]=new er(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(TT,CT);Cn[e]=new er(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(TT,CT);Cn[e]=new er(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cn[t]=new er(t,1,!1,t.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cn[t]=new er(t,1,!1,t.toLowerCase(),null,!0,!0)});function xT(t,e,n,r){var i=Cn.hasOwnProperty(e)?Cn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uH(e,n,i,r)&&(n=null),r||i===null?lH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ys=XM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pm=Symbol.for("react.element"),mc=Symbol.for("react.portal"),gc=Symbol.for("react.fragment"),IT=Symbol.for("react.strict_mode"),bS=Symbol.for("react.profiler"),JM=Symbol.for("react.provider"),e$=Symbol.for("react.context"),kT=Symbol.for("react.forward_ref"),wS=Symbol.for("react.suspense"),SS=Symbol.for("react.suspense_list"),AT=Symbol.for("react.memo"),uo=Symbol.for("react.lazy"),t$=Symbol.for("react.offscreen"),_A=Symbol.iterator;function Ad(t){return t===null||typeof t!="object"?null:(t=_A&&t[_A]||t["@@iterator"],typeof t=="function"?t:null)}var At=Object.assign,mb;function Zd(t){if(mb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mb=e&&e[1]||""}return`
`+mb+t}var gb=!1;function vb(t,e){if(!t||gb)return"";gb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zd(t):""}function dH(t){switch(t.tag){case 5:return Zd(t.type);case 16:return Zd("Lazy");case 13:return Zd("Suspense");case 19:return Zd("SuspenseList");case 0:case 2:case 15:return t=vb(t.type,!1),t;case 11:return t=vb(t.type.render,!1),t;case 1:return t=vb(t.type,!0),t;default:return""}}function ES(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gc:return"Fragment";case mc:return"Portal";case bS:return"Profiler";case IT:return"StrictMode";case wS:return"Suspense";case SS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e$:return(t.displayName||"Context")+".Consumer";case JM:return(t._context.displayName||"Context")+".Provider";case kT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case AT:return e=t.displayName||null,e!==null?e:ES(t.type)||"Memo";case uo:e=t._payload,t=t._init;try{return ES(t(e))}catch{}}return null}function hH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ES(e);case 8:return e===IT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ho(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function n$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fH(t){var e=n$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rm(t){t._valueTracker||(t._valueTracker=fH(t))}function r$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=n$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function TS(t,e){var n=e.checked;return At({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ho(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i$(t,e){e=e.checked,e!=null&&xT(t,"checked",e,!1)}function CS(t,e){i$(t,e);var n=Ho(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xS(t,e.type,n):e.hasOwnProperty("defaultValue")&&xS(t,e.type,Ho(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xS(t,e,n){(e!=="number"||mv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jd=Array.isArray;function Wc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ho(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function IS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return At({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function SA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Jd(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ho(n)}}function s$(t,e){var n=Ho(e.value),r=Ho(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function EA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function o$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?o$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nm,a$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nm=Nm||document.createElement("div"),Nm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ef(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ph={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pH=["Webkit","ms","Moz","O"];Object.keys(ph).forEach(function(t){pH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ph[e]=ph[t]})});function l$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ph.hasOwnProperty(t)&&ph[t]?(""+e).trim():e+"px"}function c$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=l$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mH=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function AS(t,e){if(e){if(mH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function PS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RS=null;function PT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var NS=null,Hc=null,qc=null;function TA(t){if(t=Ep(t)){if(typeof NS!="function")throw Error(L(280));var e=t.stateNode;e&&(e=w_(e),NS(t.stateNode,t.type,e))}}function u$(t){Hc?qc?qc.push(t):qc=[t]:Hc=t}function d$(){if(Hc){var t=Hc,e=qc;if(qc=Hc=null,TA(t),e)for(t=0;t<e.length;t++)TA(e[t])}}function h$(t,e){return t(e)}function f$(){}var yb=!1;function p$(t,e,n){if(yb)return t(e,n);yb=!0;try{return h$(t,e,n)}finally{yb=!1,(Hc!==null||qc!==null)&&(f$(),d$())}}function tf(t,e){var n=t.stateNode;if(n===null)return null;var r=w_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var OS=!1;if($s)try{var Pd={};Object.defineProperty(Pd,"passive",{get:function(){OS=!0}}),window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{OS=!1}function gH(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var mh=!1,gv=null,vv=!1,DS=null,vH={onError:function(t){mh=!0,gv=t}};function yH(t,e,n,r,i,s,o,a,l){mh=!1,gv=null,gH.apply(vH,arguments)}function _H(t,e,n,r,i,s,o,a,l){if(yH.apply(this,arguments),mh){if(mh){var c=gv;mh=!1,gv=null}else throw Error(L(198));vv||(vv=!0,DS=c)}}function Ml(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function m$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CA(t){if(Ml(t)!==t)throw Error(L(188))}function bH(t){var e=t.alternate;if(!e){if(e=Ml(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return CA(i),t;if(s===r)return CA(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function g$(t){return t=bH(t),t!==null?v$(t):null}function v$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v$(t);if(e!==null)return e;t=t.sibling}return null}var y$=Pr.unstable_scheduleCallback,xA=Pr.unstable_cancelCallback,wH=Pr.unstable_shouldYield,SH=Pr.unstable_requestPaint,Vt=Pr.unstable_now,EH=Pr.unstable_getCurrentPriorityLevel,RT=Pr.unstable_ImmediatePriority,_$=Pr.unstable_UserBlockingPriority,yv=Pr.unstable_NormalPriority,TH=Pr.unstable_LowPriority,b$=Pr.unstable_IdlePriority,v_=null,Wi=null;function CH(t){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(v_,t,void 0,(t.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:kH,xH=Math.log,IH=Math.LN2;function kH(t){return t>>>=0,t===0?32:31-(xH(t)/IH|0)|0}var Om=64,Dm=4194304;function eh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _v(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=eh(a):(s&=o,s!==0&&(r=eh(s)))}else o=n&~i,o!==0?r=eh(o):s!==0&&(r=eh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gi(e),i=1<<n,r|=t[n],e&=~i;return r}function AH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=AH(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function MS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function w$(){var t=Om;return Om<<=1,!(Om&4194240)&&(Om=64),t}function _b(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gi(e),t[e]=n}function RH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function NT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var nt=0;function S$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var E$,OT,T$,C$,x$,$S=!1,Mm=[],Io=null,ko=null,Ao=null,nf=new Map,rf=new Map,mo=[],NH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IA(t,e){switch(t){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":nf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rf.delete(e.pointerId)}}function Rd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ep(e),e!==null&&OT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OH(t,e,n,r,i){switch(e){case"focusin":return Io=Rd(Io,t,e,n,r,i),!0;case"dragenter":return ko=Rd(ko,t,e,n,r,i),!0;case"mouseover":return Ao=Rd(Ao,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nf.set(s,Rd(nf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rf.set(s,Rd(rf.get(s)||null,t,e,n,r,i)),!0}return!1}function I$(t){var e=Da(t.target);if(e!==null){var n=Ml(e);if(n!==null){if(e=n.tag,e===13){if(e=m$(n),e!==null){t.blockedOn=e,x$(t.priority,function(){T$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=LS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);RS=r,n.target.dispatchEvent(r),RS=null}else return e=Ep(n),e!==null&&OT(e),t.blockedOn=n,!1;e.shift()}return!0}function kA(t,e,n){Pg(t)&&n.delete(e)}function DH(){$S=!1,Io!==null&&Pg(Io)&&(Io=null),ko!==null&&Pg(ko)&&(ko=null),Ao!==null&&Pg(Ao)&&(Ao=null),nf.forEach(kA),rf.forEach(kA)}function Nd(t,e){t.blockedOn===e&&(t.blockedOn=null,$S||($S=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,DH)))}function sf(t){function e(i){return Nd(i,t)}if(0<Mm.length){Nd(Mm[0],t);for(var n=1;n<Mm.length;n++){var r=Mm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Io!==null&&Nd(Io,t),ko!==null&&Nd(ko,t),Ao!==null&&Nd(Ao,t),nf.forEach(e),rf.forEach(e),n=0;n<mo.length;n++)r=mo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mo.length&&(n=mo[0],n.blockedOn===null);)I$(n),n.blockedOn===null&&mo.shift()}var Gc=Ys.ReactCurrentBatchConfig,bv=!0;function MH(t,e,n,r){var i=nt,s=Gc.transition;Gc.transition=null;try{nt=1,DT(t,e,n,r)}finally{nt=i,Gc.transition=s}}function $H(t,e,n,r){var i=nt,s=Gc.transition;Gc.transition=null;try{nt=4,DT(t,e,n,r)}finally{nt=i,Gc.transition=s}}function DT(t,e,n,r){if(bv){var i=LS(t,e,n,r);if(i===null)Ab(t,e,r,wv,n),IA(t,r);else if(OH(i,t,e,n,r))r.stopPropagation();else if(IA(t,r),e&4&&-1<NH.indexOf(t)){for(;i!==null;){var s=Ep(i);if(s!==null&&E$(s),s=LS(t,e,n,r),s===null&&Ab(t,e,r,wv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ab(t,e,r,null,n)}}var wv=null;function LS(t,e,n,r){if(wv=null,t=PT(r),t=Da(t),t!==null)if(e=Ml(t),e===null)t=null;else if(n=e.tag,n===13){if(t=m$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wv=t,null}function k$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EH()){case RT:return 1;case _$:return 4;case yv:case TH:return 16;case b$:return 536870912;default:return 16}default:return 16}}var So=null,MT=null,Rg=null;function A$(){if(Rg)return Rg;var t,e=MT,n=e.length,r,i="value"in So?So.value:So.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Rg=i.slice(t,1<r?1-r:void 0)}function Ng(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $m(){return!0}function AA(){return!1}function Fr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$m:AA,this.isPropagationStopped=AA,this}return At(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$m)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$m)},persist:function(){},isPersistent:$m}),e}var td={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$T=Fr(td),Sp=At({},td,{view:0,detail:0}),LH=Fr(Sp),bb,wb,Od,y_=At({},Sp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Od&&(Od&&t.type==="mousemove"?(bb=t.screenX-Od.screenX,wb=t.screenY-Od.screenY):wb=bb=0,Od=t),bb)},movementY:function(t){return"movementY"in t?t.movementY:wb}}),PA=Fr(y_),FH=At({},y_,{dataTransfer:0}),VH=Fr(FH),jH=At({},Sp,{relatedTarget:0}),Sb=Fr(jH),BH=At({},td,{animationName:0,elapsedTime:0,pseudoElement:0}),zH=Fr(BH),UH=At({},td,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WH=Fr(UH),HH=At({},td,{data:0}),RA=Fr(HH),qH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KH[t])?!!e[t]:!1}function LT(){return YH}var QH=At({},Sp,{key:function(t){if(t.key){var e=qH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ng(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LT,charCode:function(t){return t.type==="keypress"?Ng(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ng(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XH=Fr(QH),ZH=At({},y_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NA=Fr(ZH),JH=At({},Sp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LT}),e7=Fr(JH),t7=At({},td,{propertyName:0,elapsedTime:0,pseudoElement:0}),n7=Fr(t7),r7=At({},y_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i7=Fr(r7),s7=[9,13,27,32],FT=$s&&"CompositionEvent"in window,gh=null;$s&&"documentMode"in document&&(gh=document.documentMode);var o7=$s&&"TextEvent"in window&&!gh,P$=$s&&(!FT||gh&&8<gh&&11>=gh),OA=String.fromCharCode(32),DA=!1;function R$(t,e){switch(t){case"keyup":return s7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vc=!1;function a7(t,e){switch(t){case"compositionend":return N$(e);case"keypress":return e.which!==32?null:(DA=!0,OA);case"textInput":return t=e.data,t===OA&&DA?null:t;default:return null}}function l7(t,e){if(vc)return t==="compositionend"||!FT&&R$(t,e)?(t=A$(),Rg=MT=So=null,vc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return P$&&e.locale!=="ko"?null:e.data;default:return null}}var c7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c7[t.type]:e==="textarea"}function O$(t,e,n,r){u$(r),e=Sv(e,"onChange"),0<e.length&&(n=new $T("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vh=null,of=null;function u7(t){W$(t,0)}function __(t){var e=bc(t);if(r$(e))return t}function d7(t,e){if(t==="change")return e}var D$=!1;if($s){var Eb;if($s){var Tb="oninput"in document;if(!Tb){var $A=document.createElement("div");$A.setAttribute("oninput","return;"),Tb=typeof $A.oninput=="function"}Eb=Tb}else Eb=!1;D$=Eb&&(!document.documentMode||9<document.documentMode)}function LA(){vh&&(vh.detachEvent("onpropertychange",M$),of=vh=null)}function M$(t){if(t.propertyName==="value"&&__(of)){var e=[];O$(e,of,t,PT(t)),p$(u7,e)}}function h7(t,e,n){t==="focusin"?(LA(),vh=e,of=n,vh.attachEvent("onpropertychange",M$)):t==="focusout"&&LA()}function f7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return __(of)}function p7(t,e){if(t==="click")return __(e)}function m7(t,e){if(t==="input"||t==="change")return __(e)}function g7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Si=typeof Object.is=="function"?Object.is:g7;function af(t,e){if(Si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_S.call(e,i)||!Si(t[i],e[i]))return!1}return!0}function FA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function VA(t,e){var n=FA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=FA(n)}}function $$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L$(){for(var t=window,e=mv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mv(t.document)}return e}function VT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function v7(t){var e=L$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$$(n.ownerDocument.documentElement,n)){if(r!==null&&VT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=VA(n,s);var o=VA(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y7=$s&&"documentMode"in document&&11>=document.documentMode,yc=null,FS=null,yh=null,VS=!1;function jA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;VS||yc==null||yc!==mv(r)||(r=yc,"selectionStart"in r&&VT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yh&&af(yh,r)||(yh=r,r=Sv(FS,"onSelect"),0<r.length&&(e=new $T("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yc)))}function Lm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _c={animationend:Lm("Animation","AnimationEnd"),animationiteration:Lm("Animation","AnimationIteration"),animationstart:Lm("Animation","AnimationStart"),transitionend:Lm("Transition","TransitionEnd")},Cb={},F$={};$s&&(F$=document.createElement("div").style,"AnimationEvent"in window||(delete _c.animationend.animation,delete _c.animationiteration.animation,delete _c.animationstart.animation),"TransitionEvent"in window||delete _c.transitionend.transition);function b_(t){if(Cb[t])return Cb[t];if(!_c[t])return t;var e=_c[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F$)return Cb[t]=e[n];return t}var V$=b_("animationend"),j$=b_("animationiteration"),B$=b_("animationstart"),z$=b_("transitionend"),U$=new Map,BA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oa(t,e){U$.set(t,e),Dl(e,[t])}for(var xb=0;xb<BA.length;xb++){var Ib=BA[xb],_7=Ib.toLowerCase(),b7=Ib[0].toUpperCase()+Ib.slice(1);oa(_7,"on"+b7)}oa(V$,"onAnimationEnd");oa(j$,"onAnimationIteration");oa(B$,"onAnimationStart");oa("dblclick","onDoubleClick");oa("focusin","onFocus");oa("focusout","onBlur");oa(z$,"onTransitionEnd");mu("onMouseEnter",["mouseout","mouseover"]);mu("onMouseLeave",["mouseout","mouseover"]);mu("onPointerEnter",["pointerout","pointerover"]);mu("onPointerLeave",["pointerout","pointerover"]);Dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w7=new Set("cancel close invalid load scroll toggle".split(" ").concat(th));function zA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_H(r,e,void 0,t),t.currentTarget=null}function W$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;zA(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;zA(i,a,c),s=l}}}if(vv)throw t=DS,vv=!1,DS=null,t}function ft(t,e){var n=e[WS];n===void 0&&(n=e[WS]=new Set);var r=t+"__bubble";n.has(r)||(H$(e,t,2,!1),n.add(r))}function kb(t,e,n){var r=0;e&&(r|=4),H$(n,t,r,e)}var Fm="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[Fm]){t[Fm]=!0,ZM.forEach(function(n){n!=="selectionchange"&&(w7.has(n)||kb(n,!1,t),kb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fm]||(e[Fm]=!0,kb("selectionchange",!1,e))}}function H$(t,e,n,r){switch(k$(e)){case 1:var i=MH;break;case 4:i=$H;break;default:i=DT}n=i.bind(null,e,n,t),i=void 0,!OS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ab(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Da(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}p$(function(){var c=s,u=PT(n),d=[];e:{var h=U$.get(t);if(h!==void 0){var f=$T,p=t;switch(t){case"keypress":if(Ng(n)===0)break e;case"keydown":case"keyup":f=XH;break;case"focusin":p="focus",f=Sb;break;case"focusout":p="blur",f=Sb;break;case"beforeblur":case"afterblur":f=Sb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=PA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=VH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=e7;break;case V$:case j$:case B$:f=zH;break;case z$:f=n7;break;case"scroll":f=LH;break;case"wheel":f=i7;break;case"copy":case"cut":case"paste":f=WH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=NA}var m=(e&4)!==0,b=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=tf(v,y),S!=null&&m.push(cf(v,S,w)))),b)break;v=v.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==RS&&(p=n.relatedTarget||n.fromElement)&&(Da(p)||p[Ls]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?Da(p):null,p!==null&&(b=Ml(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=PA,S="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=NA,S="onPointerLeave",y="onPointerEnter",v="pointer"),b=f==null?h:bc(f),w=p==null?h:bc(p),h=new m(S,v+"leave",f,n,u),h.target=b,h.relatedTarget=w,S=null,Da(u)===c&&(m=new m(y,v+"enter",p,n,u),m.target=w,m.relatedTarget=b,S=m),b=S,f&&p)t:{for(m=f,y=p,v=0,w=m;w;w=tc(w))v++;for(w=0,S=y;S;S=tc(S))w++;for(;0<v-w;)m=tc(m),v--;for(;0<w-v;)y=tc(y),w--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=tc(m),y=tc(y)}m=null}else m=null;f!==null&&UA(d,h,f,m,!1),p!==null&&b!==null&&UA(d,b,p,m,!0)}}e:{if(h=c?bc(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=d7;else if(MA(h))if(D$)C=m7;else{C=f7;var x=h7}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=p7);if(C&&(C=C(t,c))){O$(d,C,n,u);break e}x&&x(t,h,c),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&xS(h,"number",h.value)}switch(x=c?bc(c):window,t){case"focusin":(MA(x)||x.contentEditable==="true")&&(yc=x,FS=c,yh=null);break;case"focusout":yh=FS=yc=null;break;case"mousedown":VS=!0;break;case"contextmenu":case"mouseup":case"dragend":VS=!1,jA(d,n,u);break;case"selectionchange":if(y7)break;case"keydown":case"keyup":jA(d,n,u)}var T;if(FT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else vc?R$(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(P$&&n.locale!=="ko"&&(vc||A!=="onCompositionStart"?A==="onCompositionEnd"&&vc&&(T=A$()):(So=u,MT="value"in So?So.value:So.textContent,vc=!0)),x=Sv(c,A),0<x.length&&(A=new RA(A,t,null,n,u),d.push({event:A,listeners:x}),T?A.data=T:(T=N$(n),T!==null&&(A.data=T)))),(T=o7?a7(t,n):l7(t,n))&&(c=Sv(c,"onBeforeInput"),0<c.length&&(u=new RA("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}W$(d,e)})}function cf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tf(t,n),s!=null&&r.unshift(cf(t,s,i)),s=tf(t,e),s!=null&&r.push(cf(t,s,i))),t=t.return}return r}function tc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function UA(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=tf(n,s),l!=null&&o.unshift(cf(n,l,a))):i||(l=tf(n,s),l!=null&&o.push(cf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var S7=/\r\n?/g,E7=/\u0000|\uFFFD/g;function WA(t){return(typeof t=="string"?t:""+t).replace(S7,`
`).replace(E7,"")}function Vm(t,e,n){if(e=WA(e),WA(t)!==e&&n)throw Error(L(425))}function Ev(){}var jS=null,BS=null;function zS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var US=typeof setTimeout=="function"?setTimeout:void 0,T7=typeof clearTimeout=="function"?clearTimeout:void 0,HA=typeof Promise=="function"?Promise:void 0,C7=typeof queueMicrotask=="function"?queueMicrotask:typeof HA<"u"?function(t){return HA.resolve(null).then(t).catch(x7)}:US;function x7(t){setTimeout(function(){throw t})}function Pb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sf(e)}function Po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nd=Math.random().toString(36).slice(2),Li="__reactFiber$"+nd,uf="__reactProps$"+nd,Ls="__reactContainer$"+nd,WS="__reactEvents$"+nd,I7="__reactListeners$"+nd,k7="__reactHandles$"+nd;function Da(t){var e=t[Li];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ls]||n[Li]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qA(t);t!==null;){if(n=t[Li])return n;t=qA(t)}return e}t=n,n=t.parentNode}return null}function Ep(t){return t=t[Li]||t[Ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function w_(t){return t[uf]||null}var HS=[],wc=-1;function aa(t){return{current:t}}function _t(t){0>wc||(t.current=HS[wc],HS[wc]=null,wc--)}function ut(t,e){wc++,HS[wc]=t.current,t.current=e}var qo={},jn=aa(qo),ur=aa(!1),ll=qo;function gu(t,e){var n=t.type.contextTypes;if(!n)return qo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dr(t){return t=t.childContextTypes,t!=null}function Tv(){_t(ur),_t(jn)}function GA(t,e,n){if(jn.current!==qo)throw Error(L(168));ut(jn,e),ut(ur,n)}function q$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,hH(t)||"Unknown",i));return At({},n,r)}function Cv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qo,ll=jn.current,ut(jn,t),ut(ur,ur.current),!0}function KA(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=q$(t,e,ll),r.__reactInternalMemoizedMergedChildContext=t,_t(ur),_t(jn),ut(jn,t)):_t(ur),ut(ur,n)}var ys=null,S_=!1,Rb=!1;function G$(t){ys===null?ys=[t]:ys.push(t)}function A7(t){S_=!0,G$(t)}function la(){if(!Rb&&ys!==null){Rb=!0;var t=0,e=nt;try{var n=ys;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ys=null,S_=!1}catch(i){throw ys!==null&&(ys=ys.slice(t+1)),y$(RT,la),i}finally{nt=e,Rb=!1}}return null}var Sc=[],Ec=0,xv=null,Iv=0,Hr=[],qr=0,cl=null,Ss=1,Es="";function Ea(t,e){Sc[Ec++]=Iv,Sc[Ec++]=xv,xv=t,Iv=e}function K$(t,e,n){Hr[qr++]=Ss,Hr[qr++]=Es,Hr[qr++]=cl,cl=t;var r=Ss;t=Es;var i=32-gi(r)-1;r&=~(1<<i),n+=1;var s=32-gi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ss=1<<32-gi(e)+i|n<<i|r,Es=s+t}else Ss=1<<s|n<<i|r,Es=t}function jT(t){t.return!==null&&(Ea(t,1),K$(t,1,0))}function BT(t){for(;t===xv;)xv=Sc[--Ec],Sc[Ec]=null,Iv=Sc[--Ec],Sc[Ec]=null;for(;t===cl;)cl=Hr[--qr],Hr[qr]=null,Es=Hr[--qr],Hr[qr]=null,Ss=Hr[--qr],Hr[qr]=null}var Ir=null,wr=null,Et=!1,ci=null;function Y$(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function YA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ir=t,wr=Po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ir=t,wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cl!==null?{id:Ss,overflow:Es}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ir=t,wr=null,!0):!1;default:return!1}}function qS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function GS(t){if(Et){var e=wr;if(e){var n=e;if(!YA(t,e)){if(qS(t))throw Error(L(418));e=Po(n.nextSibling);var r=Ir;e&&YA(t,e)?Y$(r,n):(t.flags=t.flags&-4097|2,Et=!1,Ir=t)}}else{if(qS(t))throw Error(L(418));t.flags=t.flags&-4097|2,Et=!1,Ir=t}}}function QA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function jm(t){if(t!==Ir)return!1;if(!Et)return QA(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zS(t.type,t.memoizedProps)),e&&(e=wr)){if(qS(t))throw Q$(),Error(L(418));for(;e;)Y$(t,e),e=Po(e.nextSibling)}if(QA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wr=Po(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=Ir?Po(t.stateNode.nextSibling):null;return!0}function Q$(){for(var t=wr;t;)t=Po(t.nextSibling)}function vu(){wr=Ir=null,Et=!1}function zT(t){ci===null?ci=[t]:ci.push(t)}var P7=Ys.ReactCurrentBatchConfig;function ai(t,e){if(t&&t.defaultProps){e=At({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kv=aa(null),Av=null,Tc=null,UT=null;function WT(){UT=Tc=Av=null}function HT(t){var e=kv.current;_t(kv),t._currentValue=e}function KS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Kc(t,e){Av=t,UT=Tc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ar=!0),t.firstContext=null)}function Zr(t){var e=t._currentValue;if(UT!==t)if(t={context:t,memoizedValue:e,next:null},Tc===null){if(Av===null)throw Error(L(308));Tc=t,Av.dependencies={lanes:0,firstContext:t}}else Tc=Tc.next=t;return e}var Ma=null;function qT(t){Ma===null?Ma=[t]:Ma.push(t)}function X$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fs(t,r)}function Fs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ho=!1;function GT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fs(t,n)}return i=r.interleaved,i===null?(e.next=e,qT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fs(t,n)}function Og(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,NT(t,n)}}function XA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pv(t,e,n,r){var i=t.updateQueue;ho=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=At({},d,h);break e;case 2:ho=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dl|=o,t.lanes=o,t.memoizedState=d}}function ZA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var J$=new XM.Component().refs;function YS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:At({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var E_={isMounted:function(t){return(t=t._reactInternals)?Ml(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=Oo(t),s=Ps(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ro(t,s,i),e!==null&&(vi(e,t,i,r),Og(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=Oo(t),s=Ps(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ro(t,s,i),e!==null&&(vi(e,t,i,r),Og(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kn(),r=Oo(t),i=Ps(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ro(t,i,r),e!==null&&(vi(e,t,r,n),Og(e,t,r))}};function JA(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!af(n,r)||!af(i,s):!0}function eL(t,e,n){var r=!1,i=qo,s=e.contextType;return typeof s=="object"&&s!==null?s=Zr(s):(i=dr(e)?ll:jn.current,r=e.contextTypes,s=(r=r!=null)?gu(t,i):qo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=E_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function eP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&E_.enqueueReplaceState(e,e.state,null)}function QS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=J$,GT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zr(s):(s=dr(e)?ll:jn.current,i.context=gu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(YS(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&E_.enqueueReplaceState(i,i.state,null),Pv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Dd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===J$&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function Bm(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tP(t){var e=t._init;return e(t._payload)}function tL(t){function e(y,v){if(t){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Do(y,v),y.index=0,y.sibling=null,y}function s(y,v,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,w,S){return v===null||v.tag!==6?(v=Fb(w,y.mode,S),v.return=y,v):(v=i(v,w),v.return=y,v)}function l(y,v,w,S){var C=w.type;return C===gc?u(y,v,w.props.children,S,w.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===uo&&tP(C)===v.type)?(S=i(v,w.props),S.ref=Dd(y,v,w),S.return=y,S):(S=Vg(w.type,w.key,w.props,null,y.mode,S),S.ref=Dd(y,v,w),S.return=y,S)}function c(y,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Vb(w,y.mode,S),v.return=y,v):(v=i(v,w.children||[]),v.return=y,v)}function u(y,v,w,S,C){return v===null||v.tag!==7?(v=qa(w,y.mode,S,C),v.return=y,v):(v=i(v,w),v.return=y,v)}function d(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Fb(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pm:return w=Vg(v.type,v.key,v.props,null,y.mode,w),w.ref=Dd(y,null,v),w.return=y,w;case mc:return v=Vb(v,y.mode,w),v.return=y,v;case uo:var S=v._init;return d(y,S(v._payload),w)}if(Jd(v)||Ad(v))return v=qa(v,y.mode,w,null),v.return=y,v;Bm(y,v)}return null}function h(y,v,w,S){var C=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(y,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pm:return w.key===C?l(y,v,w,S):null;case mc:return w.key===C?c(y,v,w,S):null;case uo:return C=w._init,h(y,v,C(w._payload),S)}if(Jd(w)||Ad(w))return C!==null?null:u(y,v,w,S,null);Bm(y,w)}return null}function f(y,v,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,a(v,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pm:return y=y.get(S.key===null?w:S.key)||null,l(v,y,S,C);case mc:return y=y.get(S.key===null?w:S.key)||null,c(v,y,S,C);case uo:var x=S._init;return f(y,v,w,x(S._payload),C)}if(Jd(S)||Ad(S))return y=y.get(w)||null,u(v,y,S,C,null);Bm(v,S)}return null}function p(y,v,w,S){for(var C=null,x=null,T=v,A=v=0,O=null;T!==null&&A<w.length;A++){T.index>A?(O=T,T=null):O=T.sibling;var N=h(y,T,w[A],S);if(N===null){T===null&&(T=O);break}t&&T&&N.alternate===null&&e(y,T),v=s(N,v,A),x===null?C=N:x.sibling=N,x=N,T=O}if(A===w.length)return n(y,T),Et&&Ea(y,A),C;if(T===null){for(;A<w.length;A++)T=d(y,w[A],S),T!==null&&(v=s(T,v,A),x===null?C=T:x.sibling=T,x=T);return Et&&Ea(y,A),C}for(T=r(y,T);A<w.length;A++)O=f(T,y,A,w[A],S),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?A:O.key),v=s(O,v,A),x===null?C=O:x.sibling=O,x=O);return t&&T.forEach(function(z){return e(y,z)}),Et&&Ea(y,A),C}function m(y,v,w,S){var C=Ad(w);if(typeof C!="function")throw Error(L(150));if(w=C.call(w),w==null)throw Error(L(151));for(var x=C=null,T=v,A=v=0,O=null,N=w.next();T!==null&&!N.done;A++,N=w.next()){T.index>A?(O=T,T=null):O=T.sibling;var z=h(y,T,N.value,S);if(z===null){T===null&&(T=O);break}t&&T&&z.alternate===null&&e(y,T),v=s(z,v,A),x===null?C=z:x.sibling=z,x=z,T=O}if(N.done)return n(y,T),Et&&Ea(y,A),C;if(T===null){for(;!N.done;A++,N=w.next())N=d(y,N.value,S),N!==null&&(v=s(N,v,A),x===null?C=N:x.sibling=N,x=N);return Et&&Ea(y,A),C}for(T=r(y,T);!N.done;A++,N=w.next())N=f(T,y,A,N.value,S),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?A:N.key),v=s(N,v,A),x===null?C=N:x.sibling=N,x=N);return t&&T.forEach(function(ve){return e(y,ve)}),Et&&Ea(y,A),C}function b(y,v,w,S){if(typeof w=="object"&&w!==null&&w.type===gc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Pm:e:{for(var C=w.key,x=v;x!==null;){if(x.key===C){if(C=w.type,C===gc){if(x.tag===7){n(y,x.sibling),v=i(x,w.props.children),v.return=y,y=v;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===uo&&tP(C)===x.type){n(y,x.sibling),v=i(x,w.props),v.ref=Dd(y,x,w),v.return=y,y=v;break e}n(y,x);break}else e(y,x);x=x.sibling}w.type===gc?(v=qa(w.props.children,y.mode,S,w.key),v.return=y,y=v):(S=Vg(w.type,w.key,w.props,null,y.mode,S),S.ref=Dd(y,v,w),S.return=y,y=S)}return o(y);case mc:e:{for(x=w.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=i(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Vb(w,y.mode,S),v.return=y,y=v}return o(y);case uo:return x=w._init,b(y,v,x(w._payload),S)}if(Jd(w))return p(y,v,w,S);if(Ad(w))return m(y,v,w,S);Bm(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,w),v.return=y,y=v):(n(y,v),v=Fb(w,y.mode,S),v.return=y,y=v),o(y)):n(y,v)}return b}var yu=tL(!0),nL=tL(!1),Tp={},Hi=aa(Tp),df=aa(Tp),hf=aa(Tp);function $a(t){if(t===Tp)throw Error(L(174));return t}function KT(t,e){switch(ut(hf,e),ut(df,t),ut(Hi,Tp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kS(e,t)}_t(Hi),ut(Hi,e)}function _u(){_t(Hi),_t(df),_t(hf)}function rL(t){$a(hf.current);var e=$a(Hi.current),n=kS(e,t.type);e!==n&&(ut(df,t),ut(Hi,n))}function YT(t){df.current===t&&(_t(Hi),_t(df))}var xt=aa(0);function Rv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nb=[];function QT(){for(var t=0;t<Nb.length;t++)Nb[t]._workInProgressVersionPrimary=null;Nb.length=0}var Dg=Ys.ReactCurrentDispatcher,Ob=Ys.ReactCurrentBatchConfig,ul=0,kt=null,Jt=null,cn=null,Nv=!1,_h=!1,ff=0,R7=0;function xn(){throw Error(L(321))}function XT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Si(t[n],e[n]))return!1;return!0}function ZT(t,e,n,r,i,s){if(ul=s,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dg.current=t===null||t.memoizedState===null?M7:$7,t=n(r,i),_h){s=0;do{if(_h=!1,ff=0,25<=s)throw Error(L(301));s+=1,cn=Jt=null,e.updateQueue=null,Dg.current=L7,t=n(r,i)}while(_h)}if(Dg.current=Ov,e=Jt!==null&&Jt.next!==null,ul=0,cn=Jt=kt=null,Nv=!1,e)throw Error(L(300));return t}function JT(){var t=ff!==0;return ff=0,t}function Ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?kt.memoizedState=cn=t:cn=cn.next=t,cn}function Jr(){if(Jt===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=cn===null?kt.memoizedState:cn.next;if(e!==null)cn=e,Jt=t;else{if(t===null)throw Error(L(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},cn===null?kt.memoizedState=cn=t:cn=cn.next=t}return cn}function pf(t,e){return typeof e=="function"?e(t):e}function Db(t){var e=Jr(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=Jt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ul&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,kt.lanes|=u,dl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Si(r,e.memoizedState)||(ar=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,kt.lanes|=s,dl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mb(t){var e=Jr(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Si(s,e.memoizedState)||(ar=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iL(){}function sL(t,e){var n=kt,r=Jr(),i=e(),s=!Si(r.memoizedState,i);if(s&&(r.memoizedState=i,ar=!0),r=r.queue,eC(lL.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||cn!==null&&cn.memoizedState.tag&1){if(n.flags|=2048,mf(9,aL.bind(null,n,r,i,e),void 0,null),hn===null)throw Error(L(349));ul&30||oL(n,e,i)}return i}function oL(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aL(t,e,n,r){e.value=n,e.getSnapshot=r,cL(e)&&uL(t)}function lL(t,e,n){return n(function(){cL(e)&&uL(t)})}function cL(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Si(t,n)}catch{return!0}}function uL(t){var e=Fs(t,1);e!==null&&vi(e,t,1,-1)}function nP(t){var e=Ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:t},e.queue=t,t=t.dispatch=D7.bind(null,kt,t),[e.memoizedState,t]}function mf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dL(){return Jr().memoizedState}function Mg(t,e,n,r){var i=Ni();kt.flags|=t,i.memoizedState=mf(1|e,n,void 0,r===void 0?null:r)}function T_(t,e,n,r){var i=Jr();r=r===void 0?null:r;var s=void 0;if(Jt!==null){var o=Jt.memoizedState;if(s=o.destroy,r!==null&&XT(r,o.deps)){i.memoizedState=mf(e,n,s,r);return}}kt.flags|=t,i.memoizedState=mf(1|e,n,s,r)}function rP(t,e){return Mg(8390656,8,t,e)}function eC(t,e){return T_(2048,8,t,e)}function hL(t,e){return T_(4,2,t,e)}function fL(t,e){return T_(4,4,t,e)}function pL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mL(t,e,n){return n=n!=null?n.concat([t]):null,T_(4,4,pL.bind(null,e,t),n)}function tC(){}function gL(t,e){var n=Jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&XT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vL(t,e){var n=Jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&XT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yL(t,e,n){return ul&21?(Si(n,e)||(n=w$(),kt.lanes|=n,dl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ar=!0),t.memoizedState=n)}function N7(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=Ob.transition;Ob.transition={};try{t(!1),e()}finally{nt=n,Ob.transition=r}}function _L(){return Jr().memoizedState}function O7(t,e,n){var r=Oo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bL(t))wL(e,n);else if(n=X$(t,e,n,r),n!==null){var i=Kn();vi(n,t,r,i),SL(n,e,r)}}function D7(t,e,n){var r=Oo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bL(t))wL(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Si(a,o)){var l=e.interleaved;l===null?(i.next=i,qT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=X$(t,e,i,r),n!==null&&(i=Kn(),vi(n,t,r,i),SL(n,e,r))}}function bL(t){var e=t.alternate;return t===kt||e!==null&&e===kt}function wL(t,e){_h=Nv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,NT(t,n)}}var Ov={readContext:Zr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},M7={readContext:Zr,useCallback:function(t,e){return Ni().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:rP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mg(4194308,4,pL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mg(4,2,t,e)},useMemo:function(t,e){var n=Ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ni();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=O7.bind(null,kt,t),[r.memoizedState,t]},useRef:function(t){var e=Ni();return t={current:t},e.memoizedState=t},useState:nP,useDebugValue:tC,useDeferredValue:function(t){return Ni().memoizedState=t},useTransition:function(){var t=nP(!1),e=t[0];return t=N7.bind(null,t[1]),Ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kt,i=Ni();if(Et){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),hn===null)throw Error(L(349));ul&30||oL(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,rP(lL.bind(null,r,s,t),[t]),r.flags|=2048,mf(9,aL.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ni(),e=hn.identifierPrefix;if(Et){var n=Es,r=Ss;n=(r&~(1<<32-gi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ff++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=R7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$7={readContext:Zr,useCallback:gL,useContext:Zr,useEffect:eC,useImperativeHandle:mL,useInsertionEffect:hL,useLayoutEffect:fL,useMemo:vL,useReducer:Db,useRef:dL,useState:function(){return Db(pf)},useDebugValue:tC,useDeferredValue:function(t){var e=Jr();return yL(e,Jt.memoizedState,t)},useTransition:function(){var t=Db(pf)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:iL,useSyncExternalStore:sL,useId:_L,unstable_isNewReconciler:!1},L7={readContext:Zr,useCallback:gL,useContext:Zr,useEffect:eC,useImperativeHandle:mL,useInsertionEffect:hL,useLayoutEffect:fL,useMemo:vL,useReducer:Mb,useRef:dL,useState:function(){return Mb(pf)},useDebugValue:tC,useDeferredValue:function(t){var e=Jr();return Jt===null?e.memoizedState=t:yL(e,Jt.memoizedState,t)},useTransition:function(){var t=Mb(pf)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:iL,useSyncExternalStore:sL,useId:_L,unstable_isNewReconciler:!1};function bu(t,e){try{var n="",r=e;do n+=dH(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $b(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function XS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var F7=typeof WeakMap=="function"?WeakMap:Map;function EL(t,e,n){n=Ps(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mv||(Mv=!0,a1=r),XS(t,e)},n}function TL(t,e,n){n=Ps(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){XS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){XS(t,e),typeof r!="function"&&(No===null?No=new Set([this]):No.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new F7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Z7.bind(null,t,e,n),e.then(t,t))}function sP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ps(-1,1),e.tag=2,Ro(n,e,1))),n.lanes|=1),t)}var V7=Ys.ReactCurrentOwner,ar=!1;function Hn(t,e,n,r){e.child=t===null?nL(e,null,n,r):yu(e,t.child,n,r)}function aP(t,e,n,r,i){n=n.render;var s=e.ref;return Kc(e,i),r=ZT(t,e,n,r,s,i),n=JT(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vs(t,e,i)):(Et&&n&&jT(e),e.flags|=1,Hn(t,e,r,i),e.child)}function lP(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cC(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CL(t,e,s,r,i)):(t=Vg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:af,n(o,r)&&t.ref===e.ref)return Vs(t,e,i)}return e.flags|=1,t=Do(s,r),t.ref=e.ref,t.return=e,e.child=t}function CL(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(af(s,r)&&t.ref===e.ref)if(ar=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ar=!0);else return e.lanes=t.lanes,Vs(t,e,i)}return ZS(t,e,n,r,i)}function xL(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(xc,br),br|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(xc,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ut(xc,br),br|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ut(xc,br),br|=r;return Hn(t,e,i,n),e.child}function IL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ZS(t,e,n,r,i){var s=dr(n)?ll:jn.current;return s=gu(e,s),Kc(e,i),n=ZT(t,e,n,r,s,i),r=JT(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vs(t,e,i)):(Et&&r&&jT(e),e.flags|=1,Hn(t,e,n,i),e.child)}function cP(t,e,n,r,i){if(dr(n)){var s=!0;Cv(e)}else s=!1;if(Kc(e,i),e.stateNode===null)$g(t,e),eL(e,n,r),QS(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zr(c):(c=dr(n)?ll:jn.current,c=gu(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&eP(e,o,r,c),ho=!1;var h=e.memoizedState;o.state=h,Pv(e,r,o,i),l=e.memoizedState,a!==r||h!==l||ur.current||ho?(typeof u=="function"&&(YS(e,n,u,r),l=e.memoizedState),(a=ho||JA(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Z$(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ai(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zr(l):(l=dr(n)?ll:jn.current,l=gu(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&eP(e,o,r,l),ho=!1,h=e.memoizedState,o.state=h,Pv(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||ur.current||ho?(typeof f=="function"&&(YS(e,n,f,r),p=e.memoizedState),(c=ho||JA(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return JS(t,e,n,r,s,i)}function JS(t,e,n,r,i,s){IL(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&KA(e,n,!1),Vs(t,e,s);r=e.stateNode,V7.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=yu(e,t.child,null,s),e.child=yu(e,null,a,s)):Hn(t,e,a,s),e.memoizedState=r.state,i&&KA(e,n,!0),e.child}function kL(t){var e=t.stateNode;e.pendingContext?GA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&GA(t,e.context,!1),KT(t,e.containerInfo)}function uP(t,e,n,r,i){return vu(),zT(i),e.flags|=256,Hn(t,e,n,r),e.child}var e1={dehydrated:null,treeContext:null,retryLane:0};function t1(t){return{baseLanes:t,cachePool:null,transitions:null}}function AL(t,e,n){var r=e.pendingProps,i=xt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ut(xt,i&1),t===null)return GS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=I_(o,r,0,null),t=qa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=t1(n),e.memoizedState=e1,t):nC(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return j7(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Do(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Do(a,s):(s=qa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?t1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=e1,r}return s=t.child,t=s.sibling,r=Do(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nC(t,e){return e=I_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zm(t,e,n,r){return r!==null&&zT(r),yu(e,t.child,null,n),t=nC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j7(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$b(Error(L(422))),zm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=I_({mode:"visible",children:r.children},i,0,null),s=qa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&yu(e,t.child,null,o),e.child.memoizedState=t1(o),e.memoizedState=e1,s);if(!(e.mode&1))return zm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=$b(s,r,void 0),zm(t,e,o,r)}if(a=(o&t.childLanes)!==0,ar||a){if(r=hn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fs(t,i),vi(r,t,i,-1))}return lC(),r=$b(Error(L(421))),zm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wr=Po(i.nextSibling),Ir=e,Et=!0,ci=null,t!==null&&(Hr[qr++]=Ss,Hr[qr++]=Es,Hr[qr++]=cl,Ss=t.id,Es=t.overflow,cl=e),e=nC(e,r.children),e.flags|=4096,e)}function dP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),KS(t.return,e,n)}function Lb(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PL(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Hn(t,e,r.children,n),r=xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dP(t,n,e);else if(t.tag===19)dP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ut(xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lb(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lb(e,!0,n,null,s);break;case"together":Lb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $g(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Do(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Do(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function B7(t,e,n){switch(e.tag){case 3:kL(e),vu();break;case 5:rL(e);break;case 1:dr(e.type)&&Cv(e);break;case 4:KT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ut(kv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ut(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?AL(t,e,n):(ut(xt,xt.current&1),t=Vs(t,e,n),t!==null?t.sibling:null);ut(xt,xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(xt,xt.current),r)break;return null;case 22:case 23:return e.lanes=0,xL(t,e,n)}return Vs(t,e,n)}var RL,n1,NL,OL;RL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};n1=function(){};NL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$a(Hi.current);var s=null;switch(n){case"input":i=TS(t,i),r=TS(t,r),s=[];break;case"select":i=At({},i,{value:void 0}),r=At({},r,{value:void 0}),s=[];break;case"textarea":i=IS(t,i),r=IS(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ev)}AS(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ft("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};OL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Md(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function z7(t,e,n){var r=e.pendingProps;switch(BT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return dr(e.type)&&Tv(),In(e),null;case 3:return r=e.stateNode,_u(),_t(ur),_t(jn),QT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ci!==null&&(u1(ci),ci=null))),n1(t,e),In(e),null;case 5:YT(e);var i=$a(hf.current);if(n=e.type,t!==null&&e.stateNode!=null)NL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return In(e),null}if(t=$a(Hi.current),jm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Li]=e,r[uf]=s,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<th.length;i++)ft(th[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":bA(r,s),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ft("invalid",r);break;case"textarea":SA(r,s),ft("invalid",r)}AS(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vm(r.textContent,a,t),i=["children",""+a]):Jh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":Rm(r),wA(r,s,!0);break;case"textarea":Rm(r),EA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ev)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=o$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Li]=e,t[uf]=r,RL(t,e,!1,!1),e.stateNode=t;e:{switch(o=PS(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<th.length;i++)ft(th[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":bA(t,r),i=TS(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=At({},r,{value:void 0}),ft("invalid",t);break;case"textarea":SA(t,r),i=IS(t,r),ft("invalid",t);break;default:i=r}AS(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?c$(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a$(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ef(t,l):typeof l=="number"&&ef(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ft("scroll",t):l!=null&&xT(t,s,l,o))}switch(n){case"input":Rm(t),wA(t,r,!1);break;case"textarea":Rm(t),EA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ho(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ev)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return In(e),null;case 6:if(t&&e.stateNode!=null)OL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=$a(hf.current),$a(Hi.current),jm(e)){if(r=e.stateNode,n=e.memoizedProps,r[Li]=e,(s=r.nodeValue!==n)&&(t=Ir,t!==null))switch(t.tag){case 3:Vm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Li]=e,e.stateNode=r}return In(e),null;case 13:if(_t(xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&wr!==null&&e.mode&1&&!(e.flags&128))Q$(),vu(),e.flags|=98560,s=!1;else if(s=jm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[Li]=e}else vu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),s=!1}else ci!==null&&(u1(ci),ci=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?tn===0&&(tn=3):lC())),e.updateQueue!==null&&(e.flags|=4),In(e),null);case 4:return _u(),n1(t,e),t===null&&lf(e.stateNode.containerInfo),In(e),null;case 10:return HT(e.type._context),In(e),null;case 17:return dr(e.type)&&Tv(),In(e),null;case 19:if(_t(xt),s=e.memoizedState,s===null)return In(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Md(s,!1);else{if(tn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rv(t),o!==null){for(e.flags|=128,Md(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(xt,xt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Vt()>wu&&(e.flags|=128,r=!0,Md(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rv(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Md(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Et)return In(e),null}else 2*Vt()-s.renderingStartTime>wu&&n!==1073741824&&(e.flags|=128,r=!0,Md(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Vt(),e.sibling=null,n=xt.current,ut(xt,r?n&1|2:n&1),e):(In(e),null);case 22:case 23:return aC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?br&1073741824&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function U7(t,e){switch(BT(e),e.tag){case 1:return dr(e.type)&&Tv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _u(),_t(ur),_t(jn),QT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return YT(e),null;case 13:if(_t(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));vu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(xt),null;case 4:return _u(),null;case 10:return HT(e.type._context),null;case 22:case 23:return aC(),null;case 24:return null;default:return null}}var Um=!1,Rn=!1,W7=typeof WeakSet=="function"?WeakSet:Set,G=null;function Cc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(t,e,r)}else n.current=null}function r1(t,e,n){try{n()}catch(r){Nt(t,e,r)}}var hP=!1;function H7(t,e){if(jS=bv,t=L$(),VT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(BS={focusedElem:t,selectionRange:n},bv=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,b=p.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ai(e.type,m),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){Nt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return p=hP,hP=!1,p}function bh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&r1(e,n,s)}i=i.next}while(i!==r)}}function C_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function i1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DL(t){var e=t.alternate;e!==null&&(t.alternate=null,DL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Li],delete e[uf],delete e[WS],delete e[I7],delete e[k7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ML(t){return t.tag===5||t.tag===3||t.tag===4}function fP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ML(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function s1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ev));else if(r!==4&&(t=t.child,t!==null))for(s1(t,e,n),t=t.sibling;t!==null;)s1(t,e,n),t=t.sibling}function o1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(o1(t,e,n),t=t.sibling;t!==null;)o1(t,e,n),t=t.sibling}var _n=null,li=!1;function ro(t,e,n){for(n=n.child;n!==null;)$L(t,e,n),n=n.sibling}function $L(t,e,n){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(v_,n)}catch{}switch(n.tag){case 5:Rn||Cc(n,e);case 6:var r=_n,i=li;_n=null,ro(t,e,n),_n=r,li=i,_n!==null&&(li?(t=_n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_n.removeChild(n.stateNode));break;case 18:_n!==null&&(li?(t=_n,n=n.stateNode,t.nodeType===8?Pb(t.parentNode,n):t.nodeType===1&&Pb(t,n),sf(t)):Pb(_n,n.stateNode));break;case 4:r=_n,i=li,_n=n.stateNode.containerInfo,li=!0,ro(t,e,n),_n=r,li=i;break;case 0:case 11:case 14:case 15:if(!Rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&r1(n,e,o),i=i.next}while(i!==r)}ro(t,e,n);break;case 1:if(!Rn&&(Cc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nt(n,e,a)}ro(t,e,n);break;case 21:ro(t,e,n);break;case 22:n.mode&1?(Rn=(r=Rn)||n.memoizedState!==null,ro(t,e,n),Rn=r):ro(t,e,n);break;default:ro(t,e,n)}}function pP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new W7),e.forEach(function(r){var i=eq.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function si(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_n=a.stateNode,li=!1;break e;case 3:_n=a.stateNode.containerInfo,li=!0;break e;case 4:_n=a.stateNode.containerInfo,li=!0;break e}a=a.return}if(_n===null)throw Error(L(160));$L(s,o,i),_n=null,li=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LL(e,t),e=e.sibling}function LL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),Pi(t),r&4){try{bh(3,t,t.return),C_(3,t)}catch(m){Nt(t,t.return,m)}try{bh(5,t,t.return)}catch(m){Nt(t,t.return,m)}}break;case 1:si(e,t),Pi(t),r&512&&n!==null&&Cc(n,n.return);break;case 5:if(si(e,t),Pi(t),r&512&&n!==null&&Cc(n,n.return),t.flags&32){var i=t.stateNode;try{ef(i,"")}catch(m){Nt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&i$(i,s),PS(a,o);var c=PS(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?c$(i,d):u==="dangerouslySetInnerHTML"?a$(i,d):u==="children"?ef(i,d):xT(i,u,d,c)}switch(a){case"input":CS(i,s);break;case"textarea":s$(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Wc(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Wc(i,!!s.multiple,s.defaultValue,!0):Wc(i,!!s.multiple,s.multiple?[]:"",!1))}i[uf]=s}catch(m){Nt(t,t.return,m)}}break;case 6:if(si(e,t),Pi(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Nt(t,t.return,m)}}break;case 3:if(si(e,t),Pi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sf(e.containerInfo)}catch(m){Nt(t,t.return,m)}break;case 4:si(e,t),Pi(t);break;case 13:si(e,t),Pi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sC=Vt())),r&4&&pP(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Rn=(c=Rn)||u,si(e,t),Rn=c):si(e,t),Pi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(G=t,u=t.child;u!==null;){for(d=G=u;G!==null;){switch(h=G,f=h.child,h.tag){case 0:case 11:case 14:case 15:bh(4,h,h.return);break;case 1:Cc(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Nt(r,n,m)}}break;case 5:Cc(h,h.return);break;case 22:if(h.memoizedState!==null){gP(d);continue}}f!==null?(f.return=h,G=f):gP(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=l$("display",o))}catch(m){Nt(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Nt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:si(e,t),Pi(t),r&4&&pP(t);break;case 21:break;default:si(e,t),Pi(t)}}function Pi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ML(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ef(i,""),r.flags&=-33);var s=fP(t);o1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fP(t);s1(t,a,o);break;default:throw Error(L(161))}}catch(l){Nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function q7(t,e,n){G=t,FL(t)}function FL(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Um;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rn;a=Um;var c=Rn;if(Um=o,(Rn=l)&&!c)for(G=i;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?vP(i):l!==null?(l.return=o,G=l):vP(i);for(;s!==null;)G=s,FL(s),s=s.sibling;G=i,Um=a,Rn=c}mP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):mP(t)}}function mP(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rn||C_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ai(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ZA(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ZA(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&sf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Rn||e.flags&512&&i1(e)}catch(h){Nt(e,e.return,h)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function gP(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function vP(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{C_(4,e)}catch(l){Nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Nt(e,i,l)}}var s=e.return;try{i1(e)}catch(l){Nt(e,s,l)}break;case 5:var o=e.return;try{i1(e)}catch(l){Nt(e,o,l)}}}catch(l){Nt(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var G7=Math.ceil,Dv=Ys.ReactCurrentDispatcher,rC=Ys.ReactCurrentOwner,Yr=Ys.ReactCurrentBatchConfig,Ue=0,hn=null,Kt=null,En=0,br=0,xc=aa(0),tn=0,gf=null,dl=0,x_=0,iC=0,wh=null,rr=null,sC=0,wu=1/0,vs=null,Mv=!1,a1=null,No=null,Wm=!1,Eo=null,$v=0,Sh=0,l1=null,Lg=-1,Fg=0;function Kn(){return Ue&6?Vt():Lg!==-1?Lg:Lg=Vt()}function Oo(t){return t.mode&1?Ue&2&&En!==0?En&-En:P7.transition!==null?(Fg===0&&(Fg=w$()),Fg):(t=nt,t!==0||(t=window.event,t=t===void 0?16:k$(t.type)),t):1}function vi(t,e,n,r){if(50<Sh)throw Sh=0,l1=null,Error(L(185));wp(t,n,r),(!(Ue&2)||t!==hn)&&(t===hn&&(!(Ue&2)&&(x_|=n),tn===4&&go(t,En)),hr(t,r),n===1&&Ue===0&&!(e.mode&1)&&(wu=Vt()+500,S_&&la()))}function hr(t,e){var n=t.callbackNode;PH(t,e);var r=_v(t,t===hn?En:0);if(r===0)n!==null&&xA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xA(n),e===1)t.tag===0?A7(yP.bind(null,t)):G$(yP.bind(null,t)),C7(function(){!(Ue&6)&&la()}),n=null;else{switch(S$(r)){case 1:n=RT;break;case 4:n=_$;break;case 16:n=yv;break;case 536870912:n=b$;break;default:n=yv}n=qL(n,VL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VL(t,e){if(Lg=-1,Fg=0,Ue&6)throw Error(L(327));var n=t.callbackNode;if(Yc()&&t.callbackNode!==n)return null;var r=_v(t,t===hn?En:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lv(t,r);else{e=r;var i=Ue;Ue|=2;var s=BL();(hn!==t||En!==e)&&(vs=null,wu=Vt()+500,Ha(t,e));do try{Q7();break}catch(a){jL(t,a)}while(1);WT(),Dv.current=s,Ue=i,Kt!==null?e=0:(hn=null,En=0,e=tn)}if(e!==0){if(e===2&&(i=MS(t),i!==0&&(r=i,e=c1(t,i))),e===1)throw n=gf,Ha(t,0),go(t,r),hr(t,Vt()),n;if(e===6)go(t,r);else{if(i=t.current.alternate,!(r&30)&&!K7(i)&&(e=Lv(t,r),e===2&&(s=MS(t),s!==0&&(r=s,e=c1(t,s))),e===1))throw n=gf,Ha(t,0),go(t,r),hr(t,Vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:Ta(t,rr,vs);break;case 3:if(go(t,r),(r&130023424)===r&&(e=sC+500-Vt(),10<e)){if(_v(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=US(Ta.bind(null,t,rr,vs),e);break}Ta(t,rr,vs);break;case 4:if(go(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G7(r/1960))-r,10<r){t.timeoutHandle=US(Ta.bind(null,t,rr,vs),r);break}Ta(t,rr,vs);break;case 5:Ta(t,rr,vs);break;default:throw Error(L(329))}}}return hr(t,Vt()),t.callbackNode===n?VL.bind(null,t):null}function c1(t,e){var n=wh;return t.current.memoizedState.isDehydrated&&(Ha(t,e).flags|=256),t=Lv(t,e),t!==2&&(e=rr,rr=n,e!==null&&u1(e)),t}function u1(t){rr===null?rr=t:rr.push.apply(rr,t)}function K7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Si(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function go(t,e){for(e&=~iC,e&=~x_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gi(e),r=1<<n;t[n]=-1,e&=~r}}function yP(t){if(Ue&6)throw Error(L(327));Yc();var e=_v(t,0);if(!(e&1))return hr(t,Vt()),null;var n=Lv(t,e);if(t.tag!==0&&n===2){var r=MS(t);r!==0&&(e=r,n=c1(t,r))}if(n===1)throw n=gf,Ha(t,0),go(t,e),hr(t,Vt()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ta(t,rr,vs),hr(t,Vt()),null}function oC(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(wu=Vt()+500,S_&&la())}}function hl(t){Eo!==null&&Eo.tag===0&&!(Ue&6)&&Yc();var e=Ue;Ue|=1;var n=Yr.transition,r=nt;try{if(Yr.transition=null,nt=1,t)return t()}finally{nt=r,Yr.transition=n,Ue=e,!(Ue&6)&&la()}}function aC(){br=xc.current,_t(xc)}function Ha(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,T7(n)),Kt!==null)for(n=Kt.return;n!==null;){var r=n;switch(BT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tv();break;case 3:_u(),_t(ur),_t(jn),QT();break;case 5:YT(r);break;case 4:_u();break;case 13:_t(xt);break;case 19:_t(xt);break;case 10:HT(r.type._context);break;case 22:case 23:aC()}n=n.return}if(hn=t,Kt=t=Do(t.current,null),En=br=e,tn=0,gf=null,iC=x_=dl=0,rr=wh=null,Ma!==null){for(e=0;e<Ma.length;e++)if(n=Ma[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ma=null}return t}function jL(t,e){do{var n=Kt;try{if(WT(),Dg.current=Ov,Nv){for(var r=kt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nv=!1}if(ul=0,cn=Jt=kt=null,_h=!1,ff=0,rC.current=null,n===null||n.return===null){tn=1,gf=e,Kt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=En,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=sP(o);if(f!==null){f.flags&=-257,oP(f,o,a,s,e),f.mode&1&&iP(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){iP(s,c,e),lC();break e}l=Error(L(426))}}else if(Et&&a.mode&1){var b=sP(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),oP(b,o,a,s,e),zT(bu(l,a));break e}}s=l=bu(l,a),tn!==4&&(tn=2),wh===null?wh=[s]:wh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=EL(s,l,e);XA(s,y);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(No===null||!No.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=TL(s,a,e);XA(s,S);break e}}s=s.return}while(s!==null)}UL(n)}catch(C){e=C,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(1)}function BL(){var t=Dv.current;return Dv.current=Ov,t===null?Ov:t}function lC(){(tn===0||tn===3||tn===2)&&(tn=4),hn===null||!(dl&268435455)&&!(x_&268435455)||go(hn,En)}function Lv(t,e){var n=Ue;Ue|=2;var r=BL();(hn!==t||En!==e)&&(vs=null,Ha(t,e));do try{Y7();break}catch(i){jL(t,i)}while(1);if(WT(),Ue=n,Dv.current=r,Kt!==null)throw Error(L(261));return hn=null,En=0,tn}function Y7(){for(;Kt!==null;)zL(Kt)}function Q7(){for(;Kt!==null&&!wH();)zL(Kt)}function zL(t){var e=HL(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?UL(t):Kt=e,rC.current=null}function UL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=U7(n,e),n!==null){n.flags&=32767,Kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tn=6,Kt=null;return}}else if(n=z7(n,e,br),n!==null){Kt=n;return}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);tn===0&&(tn=5)}function Ta(t,e,n){var r=nt,i=Yr.transition;try{Yr.transition=null,nt=1,X7(t,e,n,r)}finally{Yr.transition=i,nt=r}return null}function X7(t,e,n,r){do Yc();while(Eo!==null);if(Ue&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(RH(t,s),t===hn&&(Kt=hn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wm||(Wm=!0,qL(yv,function(){return Yc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yr.transition,Yr.transition=null;var o=nt;nt=1;var a=Ue;Ue|=4,rC.current=null,H7(t,n),LL(n,t),v7(BS),bv=!!jS,BS=jS=null,t.current=n,q7(n),SH(),Ue=a,nt=o,Yr.transition=s}else t.current=n;if(Wm&&(Wm=!1,Eo=t,$v=i),s=t.pendingLanes,s===0&&(No=null),CH(n.stateNode),hr(t,Vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mv)throw Mv=!1,t=a1,a1=null,t;return $v&1&&t.tag!==0&&Yc(),s=t.pendingLanes,s&1?t===l1?Sh++:(Sh=0,l1=t):Sh=0,la(),null}function Yc(){if(Eo!==null){var t=S$($v),e=Yr.transition,n=nt;try{if(Yr.transition=null,nt=16>t?16:t,Eo===null)var r=!1;else{if(t=Eo,Eo=null,$v=0,Ue&6)throw Error(L(331));var i=Ue;for(Ue|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:bh(8,u,s)}var d=u.child;if(d!==null)d.return=u,G=d;else for(;G!==null;){u=G;var h=u.sibling,f=u.return;if(DL(u),u===c){G=null;break}if(h!==null){h.return=f,G=h;break}G=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bh(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,G=y;break e}G=s.return}}var v=t.current;for(G=v;G!==null;){o=G;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,G=w;else e:for(o=v;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:C_(9,a)}}catch(C){Nt(a,a.return,C)}if(a===o){G=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,G=S;break e}G=a.return}}if(Ue=i,la(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(v_,t)}catch{}r=!0}return r}finally{nt=n,Yr.transition=e}}return!1}function _P(t,e,n){e=bu(n,e),e=EL(t,e,1),t=Ro(t,e,1),e=Kn(),t!==null&&(wp(t,1,e),hr(t,e))}function Nt(t,e,n){if(t.tag===3)_P(t,t,n);else for(;e!==null;){if(e.tag===3){_P(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(No===null||!No.has(r))){t=bu(n,t),t=TL(e,t,1),e=Ro(e,t,1),t=Kn(),e!==null&&(wp(e,1,t),hr(e,t));break}}e=e.return}}function Z7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kn(),t.pingedLanes|=t.suspendedLanes&n,hn===t&&(En&n)===n&&(tn===4||tn===3&&(En&130023424)===En&&500>Vt()-sC?Ha(t,0):iC|=n),hr(t,e)}function WL(t,e){e===0&&(t.mode&1?(e=Dm,Dm<<=1,!(Dm&130023424)&&(Dm=4194304)):e=1);var n=Kn();t=Fs(t,e),t!==null&&(wp(t,e,n),hr(t,n))}function J7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WL(t,n)}function eq(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),WL(t,n)}var HL;HL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)ar=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ar=!1,B7(t,e,n);ar=!!(t.flags&131072)}else ar=!1,Et&&e.flags&1048576&&K$(e,Iv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$g(t,e),t=e.pendingProps;var i=gu(e,jn.current);Kc(e,n),i=ZT(null,e,r,t,i,n);var s=JT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(r)?(s=!0,Cv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,GT(e),i.updater=E_,e.stateNode=i,i._reactInternals=e,QS(e,r,t,n),e=JS(null,e,r,!0,s,n)):(e.tag=0,Et&&s&&jT(e),Hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($g(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nq(r),t=ai(r,t),i){case 0:e=ZS(null,e,r,t,n);break e;case 1:e=cP(null,e,r,t,n);break e;case 11:e=aP(null,e,r,t,n);break e;case 14:e=lP(null,e,r,ai(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ai(r,i),ZS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ai(r,i),cP(t,e,r,i,n);case 3:e:{if(kL(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Z$(t,e),Pv(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=bu(Error(L(423)),e),e=uP(t,e,r,n,i);break e}else if(r!==i){i=bu(Error(L(424)),e),e=uP(t,e,r,n,i);break e}else for(wr=Po(e.stateNode.containerInfo.firstChild),Ir=e,Et=!0,ci=null,n=nL(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vu(),r===i){e=Vs(t,e,n);break e}Hn(t,e,r,n)}e=e.child}return e;case 5:return rL(e),t===null&&GS(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,zS(r,i)?o=null:s!==null&&zS(r,s)&&(e.flags|=32),IL(t,e),Hn(t,e,o,n),e.child;case 6:return t===null&&GS(e),null;case 13:return AL(t,e,n);case 4:return KT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yu(e,null,r,n):Hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ai(r,i),aP(t,e,r,i,n);case 7:return Hn(t,e,e.pendingProps,n),e.child;case 8:return Hn(t,e,e.pendingProps.children,n),e.child;case 12:return Hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ut(kv,r._currentValue),r._currentValue=o,s!==null)if(Si(s.value,o)){if(s.children===i.children&&!ur.current){e=Vs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ps(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),KS(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),KS(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Kc(e,n),i=Zr(i),r=r(i),e.flags|=1,Hn(t,e,r,n),e.child;case 14:return r=e.type,i=ai(r,e.pendingProps),i=ai(r.type,i),lP(t,e,r,i,n);case 15:return CL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ai(r,i),$g(t,e),e.tag=1,dr(r)?(t=!0,Cv(e)):t=!1,Kc(e,n),eL(e,r,i),QS(e,r,i,n),JS(null,e,r,!0,t,n);case 19:return PL(t,e,n);case 22:return xL(t,e,n)}throw Error(L(156,e.tag))};function qL(t,e){return y$(t,e)}function tq(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,n,r){return new tq(t,e,n,r)}function cC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nq(t){if(typeof t=="function")return cC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kT)return 11;if(t===AT)return 14}return 2}function Do(t,e){var n=t.alternate;return n===null?(n=Kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")cC(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gc:return qa(n.children,i,s,e);case IT:o=8,i|=8;break;case bS:return t=Kr(12,n,e,i|2),t.elementType=bS,t.lanes=s,t;case wS:return t=Kr(13,n,e,i),t.elementType=wS,t.lanes=s,t;case SS:return t=Kr(19,n,e,i),t.elementType=SS,t.lanes=s,t;case t$:return I_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JM:o=10;break e;case e$:o=9;break e;case kT:o=11;break e;case AT:o=14;break e;case uo:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Kr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qa(t,e,n,r){return t=Kr(7,t,r,e),t.lanes=n,t}function I_(t,e,n,r){return t=Kr(22,t,r,e),t.elementType=t$,t.lanes=n,t.stateNode={isHidden:!1},t}function Fb(t,e,n){return t=Kr(6,t,null,e),t.lanes=n,t}function Vb(t,e,n){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rq(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_b(0),this.expirationTimes=_b(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_b(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uC(t,e,n,r,i,s,o,a,l){return t=new rq(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},GT(s),t}function iq(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GL(t){if(!t)return qo;t=t._reactInternals;e:{if(Ml(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(dr(n))return q$(t,n,e)}return e}function KL(t,e,n,r,i,s,o,a,l){return t=uC(n,r,!0,t,i,s,o,a,l),t.context=GL(null),n=t.current,r=Kn(),i=Oo(n),s=Ps(r,i),s.callback=e??null,Ro(n,s,i),t.current.lanes=i,wp(t,i,r),hr(t,r),t}function k_(t,e,n,r){var i=e.current,s=Kn(),o=Oo(i);return n=GL(n),e.context===null?e.context=n:e.pendingContext=n,e=Ps(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ro(i,e,o),t!==null&&(vi(t,i,o,s),Og(t,i,o)),o}function Fv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dC(t,e){bP(t,e),(t=t.alternate)&&bP(t,e)}function sq(){return null}var YL=typeof reportError=="function"?reportError:function(t){console.error(t)};function hC(t){this._internalRoot=t}A_.prototype.render=hC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));k_(t,e,null,null)};A_.prototype.unmount=hC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hl(function(){k_(null,t,null,null)}),e[Ls]=null}};function A_(t){this._internalRoot=t}A_.prototype.unstable_scheduleHydration=function(t){if(t){var e=C$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mo.length&&e!==0&&e<mo[n].priority;n++);mo.splice(n,0,t),n===0&&I$(t)}};function fC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function P_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wP(){}function oq(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Fv(o);s.call(c)}}var o=KL(e,r,t,0,null,!1,!1,"",wP);return t._reactRootContainer=o,t[Ls]=o.current,lf(t.nodeType===8?t.parentNode:t),hl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Fv(l);a.call(c)}}var l=uC(t,0,!1,null,null,!1,!1,"",wP);return t._reactRootContainer=l,t[Ls]=l.current,lf(t.nodeType===8?t.parentNode:t),hl(function(){k_(e,l,n,r)}),l}function R_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fv(o);a.call(l)}}k_(e,o,t,i)}else o=oq(n,e,t,i,r);return Fv(o)}E$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eh(e.pendingLanes);n!==0&&(NT(e,n|1),hr(e,Vt()),!(Ue&6)&&(wu=Vt()+500,la()))}break;case 13:hl(function(){var r=Fs(t,1);if(r!==null){var i=Kn();vi(r,t,1,i)}}),dC(t,1)}};OT=function(t){if(t.tag===13){var e=Fs(t,134217728);if(e!==null){var n=Kn();vi(e,t,134217728,n)}dC(t,134217728)}};T$=function(t){if(t.tag===13){var e=Oo(t),n=Fs(t,e);if(n!==null){var r=Kn();vi(n,t,e,r)}dC(t,e)}};C$=function(){return nt};x$=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};NS=function(t,e,n){switch(e){case"input":if(CS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=w_(r);if(!i)throw Error(L(90));r$(r),CS(r,i)}}}break;case"textarea":s$(t,n);break;case"select":e=n.value,e!=null&&Wc(t,!!n.multiple,e,!1)}};h$=oC;f$=hl;var aq={usingClientEntryPoint:!1,Events:[Ep,bc,w_,u$,d$,oC]},$d={findFiberByHostInstance:Da,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lq={bundleType:$d.bundleType,version:$d.version,rendererPackageName:$d.rendererPackageName,rendererConfig:$d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=g$(t),t===null?null:t.stateNode},findFiberByHostInstance:$d.findFiberByHostInstance||sq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hm.isDisabled&&Hm.supportsFiber)try{v_=Hm.inject(lq),Wi=Hm}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aq;Lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fC(e))throw Error(L(200));return iq(t,e,null,n)};Lr.createRoot=function(t,e){if(!fC(t))throw Error(L(299));var n=!1,r="",i=YL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uC(t,1,!1,null,null,n,!1,r,i),t[Ls]=e.current,lf(t.nodeType===8?t.parentNode:t),new hC(e)};Lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=g$(e),t=t===null?null:t.stateNode,t};Lr.flushSync=function(t){return hl(t)};Lr.hydrate=function(t,e,n){if(!P_(e))throw Error(L(200));return R_(null,t,e,!0,n)};Lr.hydrateRoot=function(t,e,n){if(!fC(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=YL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KL(e,null,t,1,n??null,i,!1,s,o),t[Ls]=e.current,lf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new A_(e)};Lr.render=function(t,e,n){if(!P_(e))throw Error(L(200));return R_(null,t,e,!1,n)};Lr.unmountComponentAtNode=function(t){if(!P_(t))throw Error(L(40));return t._reactRootContainer?(hl(function(){R_(null,null,t,!1,function(){t._reactRootContainer=null,t[Ls]=null})}),!0):!1};Lr.unstable_batchedUpdates=oC;Lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!P_(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return R_(t,e,n,!1,r)};Lr.version="18.2.0-next-9e3b772b8-20220608";function QL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QL)}catch(t){console.error(t)}}QL(),KM.exports=Lr;var pC=KM.exports,[XL,cq]=yr({strict:!1,name:"PortalContext"}),mC="chakra-portal",uq=".chakra-portal",dq=t=>_.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),hq=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=g.useState(null),s=g.useRef(null),[,o]=g.useState({});g.useEffect(()=>o({}),[]);const a=cq(),l=sH();Wa(()=>{if(!r)return;const u=r.ownerDocument,d=e?a??u.body:u.body;if(!d)return;s.current=u.createElement("div"),s.current.className=mC,d.appendChild(s.current),o({});const h=s.current;return()=>{d.contains(h)&&d.removeChild(h)}},[r]);const c=l!=null&&l.zIndex?_.jsx(dq,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return s.current?pC.createPortal(_.jsx(XL,{value:s.current,children:c}),s.current):_.jsx("span",{ref:u=>{u&&i(u)}})},fq=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,s=i??(typeof window<"u"?document.body:void 0),o=g.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=mC),l},[i]),[,a]=g.useState({});return Wa(()=>a({}),[]),Wa(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?pC.createPortal(_.jsx(XL,{value:r?o:null,children:e}),o):null};function rd(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?_.jsx(fq,{containerRef:n,...r}):_.jsx(hq,{...r})}rd.className=mC;rd.selector=uq;rd.displayName="Portal";function ZL(){const t=g.useContext(Zh);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var gC=g.createContext({});gC.displayName="ColorModeContext";function N_(){const t=g.useContext(gC);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}var qm={light:"chakra-ui-light",dark:"chakra-ui-dark"};function pq(t={}){const{preventTransition:e=!0}=t,n={setDataset:r=>{const i=e?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?qm.dark:qm.light),document.body.classList.remove(r?qm.light:qm.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),s=o=>{r(o.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var mq="chakra-ui-color-mode";function gq(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}var vq=gq(mq),SP=()=>{};function EP(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}function JL(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:o=vq}=t,a=i==="dark"?"dark":"light",[l,c]=g.useState(()=>EP(o,a)),[u,d]=g.useState(()=>EP(o)),{getSystemTheme:h,setClassName:f,setDataset:p,addListener:m}=g.useMemo(()=>pq({preventTransition:s}),[s]),b=i==="system"&&!l?u:l,y=g.useCallback(S=>{const C=S==="system"?h():S;c(C),f(C==="dark"),p(C),o.set(C)},[o,h,f,p]);Wa(()=>{i==="system"&&d(h())},[]),g.useEffect(()=>{const S=o.get();if(S){y(S);return}if(i==="system"){y("system");return}y(a)},[o,a,i,y]);const v=g.useCallback(()=>{y(b==="dark"?"light":"dark")},[b,y]);g.useEffect(()=>{if(r)return m(y)},[r,m,y]);const w=g.useMemo(()=>({colorMode:e??b,toggleColorMode:e?SP:v,setColorMode:e?SP:y,forced:e!==void 0}),[b,v,y,e]);return _.jsx(gC.Provider,{value:w,children:n})}JL.displayName="ColorModeProvider";var yq=new Set(["dark","light","system"]);function _q(t){let e=t;return yq.has(e)||(e="light"),e}function bq(t={}){const{initialColorMode:e="light",type:n="localStorage",storageKey:r="chakra-ui-color-mode"}=t,i=_q(e),s=n==="cookie",o=`(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,m=document.body,i="chakra-ui-light",n="chakra-ui-dark",s=e==="dark";return m.classList.add(s?n:i),m.classList.remove(s?i:n),d.style.colorScheme=e,d.dataset.theme=e,e},u=a,h="${i}",r="${r}",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();
  `,a=`(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="${i}",e="${r}",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();
  `;return`!${s?o:a}`.trim()}function wq(t={}){const{nonce:e}=t;return _.jsx("script",{id:"chakra-script",nonce:e,dangerouslySetInnerHTML:{__html:bq(t)}})}function Sq(){const t=N_(),e=ZL();return{...t,theme:e}}var Ae=(...t)=>t.filter(Boolean).join(" ");function yi(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}function To(t,...e){return Eq(t)?t(...e):t}var Eq=t=>typeof t=="function",Ye=t=>t?"":void 0,jb=t=>t?!0:void 0;function Tt(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function Tq(...t){return function(n){t.forEach(r=>{r==null||r(n)})}}var Vv={exports:{}};Vv.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",m="[object Map]",b="[object Number]",y="[object Null]",v="[object Object]",w="[object Proxy]",S="[object RegExp]",C="[object Set]",x="[object String]",T="[object Undefined]",A="[object WeakMap]",O="[object ArrayBuffer]",N="[object DataView]",z="[object Float32Array]",ve="[object Float64Array]",ne="[object Int8Array]",le="[object Int16Array]",xe="[object Int32Array]",me="[object Uint8Array]",ye="[object Uint8ClampedArray]",$="[object Uint16Array]",U="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,ae=/^(?:0|[1-9]\d*)$/,ce={};ce[z]=ce[ve]=ce[ne]=ce[le]=ce[xe]=ce[me]=ce[ye]=ce[$]=ce[U]=!0,ce[a]=ce[l]=ce[O]=ce[u]=ce[N]=ce[d]=ce[h]=ce[f]=ce[m]=ce[b]=ce[v]=ce[S]=ce[C]=ce[x]=ce[A]=!1;var fe=typeof Im=="object"&&Im&&Im.Object===Object&&Im,Ie=typeof self=="object"&&self&&self.Object===Object&&self,De=fe||Ie||Function("return this")(),Be=e&&!e.nodeType&&e,tt=Be&&!0&&t&&!t.nodeType&&t,Lt=tt&&tt.exports===Be,Ut=Lt&&fe.process,Pt=function(){try{var E=tt&&tt.require&&tt.require("util").types;return E||Ut&&Ut.binding&&Ut.binding("util")}catch{}}(),ze=Pt&&Pt.isTypedArray;function Ft(E,I,R){switch(R.length){case 0:return E.call(I);case 1:return E.call(I,R[0]);case 2:return E.call(I,R[0],R[1]);case 3:return E.call(I,R[0],R[1],R[2])}return E.apply(I,R)}function fs(E,I){for(var R=-1,H=Array(E);++R<E;)H[R]=I(R);return H}function Se(E){return function(I){return E(I)}}function Zt(E,I){return E==null?void 0:E[I]}function vn(E,I){return function(R){return E(I(R))}}var ki=Array.prototype,ga=Function.prototype,tr=Object.prototype,Ai=De["__core-js_shared__"],P=ga.toString,j=tr.hasOwnProperty,Q=function(){var E=/[^.]+$/.exec(Ai&&Ai.keys&&Ai.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),te=tr.toString,Ee=P.call(Object),Fe=RegExp("^"+P.call(j).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=Lt?De.Buffer:void 0,Vr=De.Symbol,Xl=De.Uint8Array,Zl=at?at.allocUnsafe:void 0,bm=vn(Object.getPrototypeOf,Object),tb=Object.create,wm=tr.propertyIsEnumerable,nb=ki.splice,va=Vr?Vr.toStringTag:void 0,Sm=function(){try{var E=sb(Object,"defineProperty");return E({},"",{}),E}catch{}}(),I6=at?at.isBuffer:void 0,Hk=Math.max,k6=Date.now,qk=sb(De,"Map"),Cd=sb(Object,"create"),A6=function(){function E(){}return function(I){if(!_a(I))return{};if(tb)return tb(I);E.prototype=I;var R=new E;return E.prototype=void 0,R}}();function ya(E){var I=-1,R=E==null?0:E.length;for(this.clear();++I<R;){var H=E[I];this.set(H[0],H[1])}}function P6(){this.__data__=Cd?Cd(null):{},this.size=0}function R6(E){var I=this.has(E)&&delete this.__data__[E];return this.size-=I?1:0,I}function N6(E){var I=this.__data__;if(Cd){var R=I[E];return R===r?void 0:R}return j.call(I,E)?I[E]:void 0}function O6(E){var I=this.__data__;return Cd?I[E]!==void 0:j.call(I,E)}function D6(E,I){var R=this.__data__;return this.size+=this.has(E)?0:1,R[E]=Cd&&I===void 0?r:I,this}ya.prototype.clear=P6,ya.prototype.delete=R6,ya.prototype.get=N6,ya.prototype.has=O6,ya.prototype.set=D6;function ps(E){var I=-1,R=E==null?0:E.length;for(this.clear();++I<R;){var H=E[I];this.set(H[0],H[1])}}function M6(){this.__data__=[],this.size=0}function $6(E){var I=this.__data__,R=Em(I,E);if(R<0)return!1;var H=I.length-1;return R==H?I.pop():nb.call(I,R,1),--this.size,!0}function L6(E){var I=this.__data__,R=Em(I,E);return R<0?void 0:I[R][1]}function F6(E){return Em(this.__data__,E)>-1}function V6(E,I){var R=this.__data__,H=Em(R,E);return H<0?(++this.size,R.push([E,I])):R[H][1]=I,this}ps.prototype.clear=M6,ps.prototype.delete=$6,ps.prototype.get=L6,ps.prototype.has=F6,ps.prototype.set=V6;function Jl(E){var I=-1,R=E==null?0:E.length;for(this.clear();++I<R;){var H=E[I];this.set(H[0],H[1])}}function j6(){this.size=0,this.__data__={hash:new ya,map:new(qk||ps),string:new ya}}function B6(E){var I=Cm(this,E).delete(E);return this.size-=I?1:0,I}function z6(E){return Cm(this,E).get(E)}function U6(E){return Cm(this,E).has(E)}function W6(E,I){var R=Cm(this,E),H=R.size;return R.set(E,I),this.size+=R.size==H?0:1,this}Jl.prototype.clear=j6,Jl.prototype.delete=B6,Jl.prototype.get=z6,Jl.prototype.has=U6,Jl.prototype.set=W6;function ec(E){var I=this.__data__=new ps(E);this.size=I.size}function H6(){this.__data__=new ps,this.size=0}function q6(E){var I=this.__data__,R=I.delete(E);return this.size=I.size,R}function G6(E){return this.__data__.get(E)}function K6(E){return this.__data__.has(E)}function Y6(E,I){var R=this.__data__;if(R instanceof ps){var H=R.__data__;if(!qk||H.length<n-1)return H.push([E,I]),this.size=++R.size,this;R=this.__data__=new Jl(H)}return R.set(E,I),this.size=R.size,this}ec.prototype.clear=H6,ec.prototype.delete=q6,ec.prototype.get=G6,ec.prototype.has=K6,ec.prototype.set=Y6;function Q6(E,I){var R=lb(E),H=!R&&ab(E),Ve=!R&&!H&&Xk(E),st=!R&&!H&&!Ve&&Jk(E),wt=R||H||Ve||st,Le=wt?fs(E.length,String):[],St=Le.length;for(var jr in E)(I||j.call(E,jr))&&!(wt&&(jr=="length"||Ve&&(jr=="offset"||jr=="parent")||st&&(jr=="buffer"||jr=="byteLength"||jr=="byteOffset")||Yk(jr,St)))&&Le.push(jr);return Le}function rb(E,I,R){(R!==void 0&&!xm(E[I],R)||R===void 0&&!(I in E))&&ib(E,I,R)}function X6(E,I,R){var H=E[I];(!(j.call(E,I)&&xm(H,R))||R===void 0&&!(I in E))&&ib(E,I,R)}function Em(E,I){for(var R=E.length;R--;)if(xm(E[R][0],I))return R;return-1}function ib(E,I,R){I=="__proto__"&&Sm?Sm(E,I,{configurable:!0,enumerable:!0,value:R,writable:!0}):E[I]=R}var Z6=dW();function Tm(E){return E==null?E===void 0?T:y:va&&va in Object(E)?hW(E):yW(E)}function Gk(E){return xd(E)&&Tm(E)==a}function J6(E){if(!_a(E)||gW(E))return!1;var I=ub(E)?Fe:Y;return I.test(SW(E))}function eW(E){return xd(E)&&Zk(E.length)&&!!ce[Tm(E)]}function tW(E){if(!_a(E))return vW(E);var I=Qk(E),R=[];for(var H in E)H=="constructor"&&(I||!j.call(E,H))||R.push(H);return R}function Kk(E,I,R,H,Ve){E!==I&&Z6(I,function(st,wt){if(Ve||(Ve=new ec),_a(st))nW(E,I,wt,R,Kk,H,Ve);else{var Le=H?H(ob(E,wt),st,wt+"",E,I,Ve):void 0;Le===void 0&&(Le=st),rb(E,wt,Le)}},eA)}function nW(E,I,R,H,Ve,st,wt){var Le=ob(E,R),St=ob(I,R),jr=wt.get(St);if(jr){rb(E,R,jr);return}var _r=st?st(Le,St,R+"",E,I,wt):void 0,Id=_r===void 0;if(Id){var db=lb(St),hb=!db&&Xk(St),nA=!db&&!hb&&Jk(St);_r=St,db||hb||nA?lb(Le)?_r=Le:EW(Le)?_r=lW(Le):hb?(Id=!1,_r=sW(St,!0)):nA?(Id=!1,_r=aW(St,!0)):_r=[]:TW(St)||ab(St)?(_r=Le,ab(Le)?_r=CW(Le):(!_a(Le)||ub(Le))&&(_r=fW(St))):Id=!1}Id&&(wt.set(St,_r),Ve(_r,St,H,st,wt),wt.delete(St)),rb(E,R,_r)}function rW(E,I){return bW(_W(E,I,tA),E+"")}var iW=Sm?function(E,I){return Sm(E,"toString",{configurable:!0,enumerable:!1,value:IW(I),writable:!0})}:tA;function sW(E,I){if(I)return E.slice();var R=E.length,H=Zl?Zl(R):new E.constructor(R);return E.copy(H),H}function oW(E){var I=new E.constructor(E.byteLength);return new Xl(I).set(new Xl(E)),I}function aW(E,I){var R=I?oW(E.buffer):E.buffer;return new E.constructor(R,E.byteOffset,E.length)}function lW(E,I){var R=-1,H=E.length;for(I||(I=Array(H));++R<H;)I[R]=E[R];return I}function cW(E,I,R,H){var Ve=!R;R||(R={});for(var st=-1,wt=I.length;++st<wt;){var Le=I[st],St=H?H(R[Le],E[Le],Le,R,E):void 0;St===void 0&&(St=E[Le]),Ve?ib(R,Le,St):X6(R,Le,St)}return R}function uW(E){return rW(function(I,R){var H=-1,Ve=R.length,st=Ve>1?R[Ve-1]:void 0,wt=Ve>2?R[2]:void 0;for(st=E.length>3&&typeof st=="function"?(Ve--,st):void 0,wt&&pW(R[0],R[1],wt)&&(st=Ve<3?void 0:st,Ve=1),I=Object(I);++H<Ve;){var Le=R[H];Le&&E(I,Le,H,st)}return I})}function dW(E){return function(I,R,H){for(var Ve=-1,st=Object(I),wt=H(I),Le=wt.length;Le--;){var St=wt[E?Le:++Ve];if(R(st[St],St,st)===!1)break}return I}}function Cm(E,I){var R=E.__data__;return mW(I)?R[typeof I=="string"?"string":"hash"]:R.map}function sb(E,I){var R=Zt(E,I);return J6(R)?R:void 0}function hW(E){var I=j.call(E,va),R=E[va];try{E[va]=void 0;var H=!0}catch{}var Ve=te.call(E);return H&&(I?E[va]=R:delete E[va]),Ve}function fW(E){return typeof E.constructor=="function"&&!Qk(E)?A6(bm(E)):{}}function Yk(E,I){var R=typeof E;return I=I??o,!!I&&(R=="number"||R!="symbol"&&ae.test(E))&&E>-1&&E%1==0&&E<I}function pW(E,I,R){if(!_a(R))return!1;var H=typeof I;return(H=="number"?cb(R)&&Yk(I,R.length):H=="string"&&I in R)?xm(R[I],E):!1}function mW(E){var I=typeof E;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?E!=="__proto__":E===null}function gW(E){return!!Q&&Q in E}function Qk(E){var I=E&&E.constructor,R=typeof I=="function"&&I.prototype||tr;return E===R}function vW(E){var I=[];if(E!=null)for(var R in Object(E))I.push(R);return I}function yW(E){return te.call(E)}function _W(E,I,R){return I=Hk(I===void 0?E.length-1:I,0),function(){for(var H=arguments,Ve=-1,st=Hk(H.length-I,0),wt=Array(st);++Ve<st;)wt[Ve]=H[I+Ve];Ve=-1;for(var Le=Array(I+1);++Ve<I;)Le[Ve]=H[Ve];return Le[I]=R(wt),Ft(E,this,Le)}}function ob(E,I){if(!(I==="constructor"&&typeof E[I]=="function")&&I!="__proto__")return E[I]}var bW=wW(iW);function wW(E){var I=0,R=0;return function(){var H=k6(),Ve=s-(H-R);if(R=H,Ve>0){if(++I>=i)return arguments[0]}else I=0;return E.apply(void 0,arguments)}}function SW(E){if(E!=null){try{return P.call(E)}catch{}try{return E+""}catch{}}return""}function xm(E,I){return E===I||E!==E&&I!==I}var ab=Gk(function(){return arguments}())?Gk:function(E){return xd(E)&&j.call(E,"callee")&&!wm.call(E,"callee")},lb=Array.isArray;function cb(E){return E!=null&&Zk(E.length)&&!ub(E)}function EW(E){return xd(E)&&cb(E)}var Xk=I6||kW;function ub(E){if(!_a(E))return!1;var I=Tm(E);return I==f||I==p||I==c||I==w}function Zk(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=o}function _a(E){var I=typeof E;return E!=null&&(I=="object"||I=="function")}function xd(E){return E!=null&&typeof E=="object"}function TW(E){if(!xd(E)||Tm(E)!=v)return!1;var I=bm(E);if(I===null)return!0;var R=j.call(I,"constructor")&&I.constructor;return typeof R=="function"&&R instanceof R&&P.call(R)==Ee}var Jk=ze?Se(ze):eW;function CW(E){return cW(E,eA(E))}function eA(E){return cb(E)?Q6(E,!0):tW(E)}var xW=uW(function(E,I,R,H){Kk(E,I,R,H)});function IW(E){return function(){return E}}function tA(E){return E}function kW(){return!1}t.exports=xW})(Vv,Vv.exports);var Cq=Vv.exports;const ji=yp(Cq);var xq=t=>/!(important)?$/.test(t),TP=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,Iq=(t,e)=>n=>{const r=String(e),i=xq(r),s=TP(r),o=t?`${t}.${s}`:s;let a=yi(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=TP(a),i?`${a} !important`:a};function vC(t){const{scale:e,transform:n,compose:r}=t;return(s,o)=>{var a;const l=Iq(e,s)(o);let c=(a=n==null?void 0:n(l,o))!=null?a:l;return r&&(c=r(c,o)),c}}var Gm=(...t)=>e=>t.reduce((n,r)=>r(n),e);function Br(t,e){return n=>{const r={property:n,scale:t};return r.transform=vC({scale:t,transform:e}),r}}var kq=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function Aq(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:kq(e),transform:n?vC({scale:n,compose:r}):r}}var eF=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function Pq(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...eF].join(" ")}function Rq(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...eF].join(" ")}var Nq={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},Oq={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function Dq(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var Mq={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},d1={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},$q=new Set(Object.values(d1)),h1=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Lq=t=>t.trim();function Fq(t,e){if(t==null||h1.has(t))return t;if(!(f1(t)||h1.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),s=i==null?void 0:i[1],o=i==null?void 0:i[2];if(!s||!o)return t;const a=s.includes("-gradient")?s:`${s}-gradient`,[l,...c]=o.split(",").map(Lq).filter(Boolean);if((c==null?void 0:c.length)===0)return t;const u=l in d1?d1[l]:l;c.unshift(u);const d=c.map(h=>{if($q.has(h))return h;const f=h.indexOf(" "),[p,m]=f!==-1?[h.substr(0,f),h.substr(f+1)]:[h],b=f1(m)?m:m&&m.split(" "),y=`colors.${p}`,v=y in e.__cssMap?e.__cssMap[y].varRef:p;return b?[v,...Array.isArray(b)?b:[b]].join(" "):v});return`${a}(${d.join(", ")})`}var f1=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),Vq=(t,e)=>Fq(t,e??{});function jq(t){return/^var\(--.+\)$/.test(t)}var Bq=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},Ri=t=>e=>`${t}(${e})`,We={filter(t){return t!=="auto"?t:Nq},backdropFilter(t){return t!=="auto"?t:Oq},ring(t){return Dq(We.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?Pq():t==="auto-gpu"?Rq():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=Bq(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(jq(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:Vq,blur:Ri("blur"),opacity:Ri("opacity"),brightness:Ri("brightness"),contrast:Ri("contrast"),dropShadow:Ri("drop-shadow"),grayscale:Ri("grayscale"),hueRotate:Ri("hue-rotate"),invert:Ri("invert"),saturate:Ri("saturate"),sepia:Ri("sepia"),bgImage(t){return t==null||f1(t)||h1.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=(e=Mq[t])!=null?e:{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},k={borderWidths:Br("borderWidths"),borderStyles:Br("borderStyles"),colors:Br("colors"),borders:Br("borders"),gradients:Br("gradients",We.gradient),radii:Br("radii",We.px),space:Br("space",Gm(We.vh,We.px)),spaceT:Br("space",Gm(We.vh,We.px)),degreeT(t){return{property:t,transform:We.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:vC({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:Br("sizes",Gm(We.vh,We.px)),sizesT:Br("sizes",Gm(We.vh,We.fraction)),shadows:Br("shadows"),logical:Aq,blur:Br("blur",We.blur)},jg={background:k.colors("background"),backgroundColor:k.colors("backgroundColor"),backgroundImage:k.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:We.bgClip},bgSize:k.prop("backgroundSize"),bgPosition:k.prop("backgroundPosition"),bg:k.colors("background"),bgColor:k.colors("backgroundColor"),bgPos:k.prop("backgroundPosition"),bgRepeat:k.prop("backgroundRepeat"),bgAttachment:k.prop("backgroundAttachment"),bgGradient:k.gradients("backgroundImage"),bgClip:{transform:We.bgClip}};Object.assign(jg,{bgImage:jg.backgroundImage,bgImg:jg.backgroundImage});var Ge={border:k.borders("border"),borderWidth:k.borderWidths("borderWidth"),borderStyle:k.borderStyles("borderStyle"),borderColor:k.colors("borderColor"),borderRadius:k.radii("borderRadius"),borderTop:k.borders("borderTop"),borderBlockStart:k.borders("borderBlockStart"),borderTopLeftRadius:k.radii("borderTopLeftRadius"),borderStartStartRadius:k.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:k.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:k.radii("borderTopRightRadius"),borderStartEndRadius:k.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:k.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:k.borders("borderRight"),borderInlineEnd:k.borders("borderInlineEnd"),borderBottom:k.borders("borderBottom"),borderBlockEnd:k.borders("borderBlockEnd"),borderBottomLeftRadius:k.radii("borderBottomLeftRadius"),borderBottomRightRadius:k.radii("borderBottomRightRadius"),borderLeft:k.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:k.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:k.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:k.borders(["borderLeft","borderRight"]),borderInline:k.borders("borderInline"),borderY:k.borders(["borderTop","borderBottom"]),borderBlock:k.borders("borderBlock"),borderTopWidth:k.borderWidths("borderTopWidth"),borderBlockStartWidth:k.borderWidths("borderBlockStartWidth"),borderTopColor:k.colors("borderTopColor"),borderBlockStartColor:k.colors("borderBlockStartColor"),borderTopStyle:k.borderStyles("borderTopStyle"),borderBlockStartStyle:k.borderStyles("borderBlockStartStyle"),borderBottomWidth:k.borderWidths("borderBottomWidth"),borderBlockEndWidth:k.borderWidths("borderBlockEndWidth"),borderBottomColor:k.colors("borderBottomColor"),borderBlockEndColor:k.colors("borderBlockEndColor"),borderBottomStyle:k.borderStyles("borderBottomStyle"),borderBlockEndStyle:k.borderStyles("borderBlockEndStyle"),borderLeftWidth:k.borderWidths("borderLeftWidth"),borderInlineStartWidth:k.borderWidths("borderInlineStartWidth"),borderLeftColor:k.colors("borderLeftColor"),borderInlineStartColor:k.colors("borderInlineStartColor"),borderLeftStyle:k.borderStyles("borderLeftStyle"),borderInlineStartStyle:k.borderStyles("borderInlineStartStyle"),borderRightWidth:k.borderWidths("borderRightWidth"),borderInlineEndWidth:k.borderWidths("borderInlineEndWidth"),borderRightColor:k.colors("borderRightColor"),borderInlineEndColor:k.colors("borderInlineEndColor"),borderRightStyle:k.borderStyles("borderRightStyle"),borderInlineEndStyle:k.borderStyles("borderInlineEndStyle"),borderTopRadius:k.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:k.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:k.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:k.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Ge,{rounded:Ge.borderRadius,roundedTop:Ge.borderTopRadius,roundedTopLeft:Ge.borderTopLeftRadius,roundedTopRight:Ge.borderTopRightRadius,roundedTopStart:Ge.borderStartStartRadius,roundedTopEnd:Ge.borderStartEndRadius,roundedBottom:Ge.borderBottomRadius,roundedBottomLeft:Ge.borderBottomLeftRadius,roundedBottomRight:Ge.borderBottomRightRadius,roundedBottomStart:Ge.borderEndStartRadius,roundedBottomEnd:Ge.borderEndEndRadius,roundedLeft:Ge.borderLeftRadius,roundedRight:Ge.borderRightRadius,roundedStart:Ge.borderInlineStartRadius,roundedEnd:Ge.borderInlineEndRadius,borderStart:Ge.borderInlineStart,borderEnd:Ge.borderInlineEnd,borderTopStartRadius:Ge.borderStartStartRadius,borderTopEndRadius:Ge.borderStartEndRadius,borderBottomStartRadius:Ge.borderEndStartRadius,borderBottomEndRadius:Ge.borderEndEndRadius,borderStartRadius:Ge.borderInlineStartRadius,borderEndRadius:Ge.borderInlineEndRadius,borderStartWidth:Ge.borderInlineStartWidth,borderEndWidth:Ge.borderInlineEndWidth,borderStartColor:Ge.borderInlineStartColor,borderEndColor:Ge.borderInlineEndColor,borderStartStyle:Ge.borderInlineStartStyle,borderEndStyle:Ge.borderInlineEndStyle});var zq={color:k.colors("color"),textColor:k.colors("color"),fill:k.colors("fill"),stroke:k.colors("stroke")},p1={boxShadow:k.shadows("boxShadow"),mixBlendMode:!0,blendMode:k.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:k.prop("backgroundBlendMode"),opacity:!0};Object.assign(p1,{shadow:p1.boxShadow});var Uq={filter:{transform:We.filter},blur:k.blur("--chakra-blur"),brightness:k.propT("--chakra-brightness",We.brightness),contrast:k.propT("--chakra-contrast",We.contrast),hueRotate:k.degreeT("--chakra-hue-rotate"),invert:k.propT("--chakra-invert",We.invert),saturate:k.propT("--chakra-saturate",We.saturate),dropShadow:k.propT("--chakra-drop-shadow",We.dropShadow),backdropFilter:{transform:We.backdropFilter},backdropBlur:k.blur("--chakra-backdrop-blur"),backdropBrightness:k.propT("--chakra-backdrop-brightness",We.brightness),backdropContrast:k.propT("--chakra-backdrop-contrast",We.contrast),backdropHueRotate:k.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:k.propT("--chakra-backdrop-invert",We.invert),backdropSaturate:k.propT("--chakra-backdrop-saturate",We.saturate)},jv={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:We.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:k.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:k.space("gap"),rowGap:k.space("rowGap"),columnGap:k.space("columnGap")};Object.assign(jv,{flexDir:jv.flexDirection});var tF={gridGap:k.space("gridGap"),gridColumnGap:k.space("gridColumnGap"),gridRowGap:k.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},Wq={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:We.outline},outlineOffset:!0,outlineColor:k.colors("outlineColor")},Wr={width:k.sizesT("width"),inlineSize:k.sizesT("inlineSize"),height:k.sizes("height"),blockSize:k.sizes("blockSize"),boxSize:k.sizes(["width","height"]),minWidth:k.sizes("minWidth"),minInlineSize:k.sizes("minInlineSize"),minHeight:k.sizes("minHeight"),minBlockSize:k.sizes("minBlockSize"),maxWidth:k.sizes("maxWidth"),maxInlineSize:k.sizes("maxInlineSize"),maxHeight:k.sizes("maxHeight"),maxBlockSize:k.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r.minW)!=null?i:t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r._minW)!=null?i:t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:k.propT("float",We.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Wr,{w:Wr.width,h:Wr.height,minW:Wr.minWidth,maxW:Wr.maxWidth,minH:Wr.minHeight,maxH:Wr.maxHeight,overscroll:Wr.overscrollBehavior,overscrollX:Wr.overscrollBehaviorX,overscrollY:Wr.overscrollBehaviorY});var Hq={listStyleType:!0,listStylePosition:!0,listStylePos:k.prop("listStylePosition"),listStyleImage:!0,listStyleImg:k.prop("listStyleImage")};function qq(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var Gq=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},Kq=Gq(qq),Yq={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Qq={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Bb=(t,e,n)=>{const r={},i=Kq(t,e,{});for(const s in i)s in n&&n[s]!=null||(r[s]=i[s]);return r},Xq={srOnly:{transform(t){return t===!0?Yq:t==="focusable"?Qq:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>Bb(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>Bb(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>Bb(e,t,n)}},Eh={position:!0,pos:k.prop("position"),zIndex:k.prop("zIndex","zIndices"),inset:k.spaceT("inset"),insetX:k.spaceT(["left","right"]),insetInline:k.spaceT("insetInline"),insetY:k.spaceT(["top","bottom"]),insetBlock:k.spaceT("insetBlock"),top:k.spaceT("top"),insetBlockStart:k.spaceT("insetBlockStart"),bottom:k.spaceT("bottom"),insetBlockEnd:k.spaceT("insetBlockEnd"),left:k.spaceT("left"),insetInlineStart:k.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:k.spaceT("right"),insetInlineEnd:k.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Eh,{insetStart:Eh.insetInlineStart,insetEnd:Eh.insetInlineEnd});var Zq={ring:{transform:We.ring},ringColor:k.colors("--chakra-ring-color"),ringOffset:k.prop("--chakra-ring-offset-width"),ringOffsetColor:k.colors("--chakra-ring-offset-color"),ringInset:k.prop("--chakra-ring-inset")},pt={margin:k.spaceT("margin"),marginTop:k.spaceT("marginTop"),marginBlockStart:k.spaceT("marginBlockStart"),marginRight:k.spaceT("marginRight"),marginInlineEnd:k.spaceT("marginInlineEnd"),marginBottom:k.spaceT("marginBottom"),marginBlockEnd:k.spaceT("marginBlockEnd"),marginLeft:k.spaceT("marginLeft"),marginInlineStart:k.spaceT("marginInlineStart"),marginX:k.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:k.spaceT("marginInline"),marginY:k.spaceT(["marginTop","marginBottom"]),marginBlock:k.spaceT("marginBlock"),padding:k.space("padding"),paddingTop:k.space("paddingTop"),paddingBlockStart:k.space("paddingBlockStart"),paddingRight:k.space("paddingRight"),paddingBottom:k.space("paddingBottom"),paddingBlockEnd:k.space("paddingBlockEnd"),paddingLeft:k.space("paddingLeft"),paddingInlineStart:k.space("paddingInlineStart"),paddingInlineEnd:k.space("paddingInlineEnd"),paddingX:k.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:k.space("paddingInline"),paddingY:k.space(["paddingTop","paddingBottom"]),paddingBlock:k.space("paddingBlock")};Object.assign(pt,{m:pt.margin,mt:pt.marginTop,mr:pt.marginRight,me:pt.marginInlineEnd,marginEnd:pt.marginInlineEnd,mb:pt.marginBottom,ml:pt.marginLeft,ms:pt.marginInlineStart,marginStart:pt.marginInlineStart,mx:pt.marginX,my:pt.marginY,p:pt.padding,pt:pt.paddingTop,py:pt.paddingY,px:pt.paddingX,pb:pt.paddingBottom,pl:pt.paddingLeft,ps:pt.paddingInlineStart,paddingStart:pt.paddingInlineStart,pr:pt.paddingRight,pe:pt.paddingInlineEnd,paddingEnd:pt.paddingInlineEnd});var Jq={textDecorationColor:k.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:k.shadows("textShadow")},eG={clipPath:!0,transform:k.propT("transform",We.transform),transformOrigin:!0,translateX:k.spaceT("--chakra-translate-x"),translateY:k.spaceT("--chakra-translate-y"),skewX:k.degreeT("--chakra-skew-x"),skewY:k.degreeT("--chakra-skew-y"),scaleX:k.prop("--chakra-scale-x"),scaleY:k.prop("--chakra-scale-y"),scale:k.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:k.degreeT("--chakra-rotate")},tG={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:k.prop("transitionDuration","transition.duration"),transitionProperty:k.prop("transitionProperty","transition.property"),transitionTimingFunction:k.prop("transitionTimingFunction","transition.easing")},nG={fontFamily:k.prop("fontFamily","fonts"),fontSize:k.prop("fontSize","fontSizes",We.px),fontWeight:k.prop("fontWeight","fontWeights"),lineHeight:k.prop("lineHeight","lineHeights"),letterSpacing:k.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},rG={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:k.spaceT("scrollMargin"),scrollMarginTop:k.spaceT("scrollMarginTop"),scrollMarginBottom:k.spaceT("scrollMarginBottom"),scrollMarginLeft:k.spaceT("scrollMarginLeft"),scrollMarginRight:k.spaceT("scrollMarginRight"),scrollMarginX:k.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:k.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:k.spaceT("scrollPadding"),scrollPaddingTop:k.spaceT("scrollPaddingTop"),scrollPaddingBottom:k.spaceT("scrollPaddingBottom"),scrollPaddingLeft:k.spaceT("scrollPaddingLeft"),scrollPaddingRight:k.spaceT("scrollPaddingRight"),scrollPaddingX:k.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:k.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function nF(t){return yi(t)&&t.reference?t.reference:String(t)}var O_=(t,...e)=>e.map(nF).join(` ${t} `).replace(/calc/g,""),CP=(...t)=>`calc(${O_("+",...t)})`,xP=(...t)=>`calc(${O_("-",...t)})`,m1=(...t)=>`calc(${O_("*",...t)})`,IP=(...t)=>`calc(${O_("/",...t)})`,kP=t=>{const e=nF(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:m1(e,-1)},Ra=Object.assign(t=>({add:(...e)=>Ra(CP(t,...e)),subtract:(...e)=>Ra(xP(t,...e)),multiply:(...e)=>Ra(m1(t,...e)),divide:(...e)=>Ra(IP(t,...e)),negate:()=>Ra(kP(t)),toString:()=>t.toString()}),{add:CP,subtract:xP,multiply:m1,divide:IP,negate:kP});function iG(t,e="-"){return t.replace(/\s+/g,e)}function sG(t){const e=iG(t.toString());return aG(oG(e))}function oG(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function aG(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function lG(t,e=""){return[e,t].filter(Boolean).join("-")}function cG(t,e){return`var(${t}${e?`, ${e}`:""})`}function uG(t,e=""){return sG(`--${lG(t,e)}`)}function oe(t,e,n){const r=uG(t,n);return{variable:r,reference:cG(r,e)}}function dG(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[i,s]=r;n[i]=oe(`${t}-${i}`,s);continue}n[r]=oe(`${t}-${r}`)}return n}function hG(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function fG(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function g1(t){if(t==null)return t;const{unitless:e}=fG(t);return e||typeof t=="number"?`${t}px`:t}var rF=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,yC=t=>Object.fromEntries(Object.entries(t).sort(rF));function AP(t){const e=yC(t);return Object.assign(Object.values(e),e)}function pG(t){const e=Object.keys(yC(t));return new Set(e)}function PP(t){var e;if(!t)return t;t=(e=g1(t))!=null?e:t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function nh(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${g1(t)})`),e&&n.push("and",`(max-width: ${g1(e)})`),n.join(" ")}function mG(t){var e;if(!t)return null;t.base=(e=t.base)!=null?e:"0px";const n=AP(t),r=Object.entries(t).sort(rF).map(([o,a],l,c)=>{var u;let[,d]=(u=c[l+1])!=null?u:[];return d=parseFloat(d)>0?PP(d):void 0,{_minW:PP(a),breakpoint:o,minW:a,maxW:d,maxWQuery:nh(null,d),minWQuery:nh(a),minMaxQuery:nh(a,d)}}),i=pG(t),s=Array.from(i.values());return{keys:i,normalized:n,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>i.has(l))},asObject:yC(t),asArray:AP(t),details:r,get(o){return r.find(a=>a.breakpoint===o)},media:[null,...n.map(o=>nh(o)).slice(1)],toArrayValue(o){if(!yi(o))throw new Error("toArrayValue: value must be an object");const a=s.map(l=>{var c;return(c=o[l])!=null?c:null});for(;hG(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,c)=>{const u=s[c];return u!=null&&l!=null&&(a[u]=l),a},{})}}}var yn={hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},io=t=>iF(e=>t(e,"&"),"[role=group]","[data-group]",".group"),ms=t=>iF(e=>t(e,"~ &"),"[data-peer]",".peer"),iF=(t,...e)=>e.map(t).join(", "),D_={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:io(yn.hover),_peerHover:ms(yn.hover),_groupFocus:io(yn.focus),_peerFocus:ms(yn.focus),_groupFocusVisible:io(yn.focusVisible),_peerFocusVisible:ms(yn.focusVisible),_groupActive:io(yn.active),_peerActive:ms(yn.active),_groupDisabled:io(yn.disabled),_peerDisabled:ms(yn.disabled),_groupInvalid:io(yn.invalid),_peerInvalid:ms(yn.invalid),_groupChecked:io(yn.checked),_peerChecked:ms(yn.checked),_groupFocusWithin:io(yn.focusWithin),_peerFocusWithin:ms(yn.focusWithin),_peerPlaceholderShown:ms(yn.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},sF=Object.keys(D_);function RP(t,e){return oe(String(t).replace(/\./g,"-"),void 0,e)}function gG(t,e){let n={};const r={};for(const[i,s]of Object.entries(t)){const{isSemantic:o,value:a}=s,{variable:l,reference:c}=RP(i,e==null?void 0:e.cssVarPrefix);if(!o){if(i.startsWith("space")){const h=i.split("."),[f,...p]=h,m=`${f}.-${p.join(".")}`,b=Ra.negate(a),y=Ra.negate(c);r[m]={value:b,var:l,varRef:y}}n[l]=a,r[i]={value:a,var:l,varRef:c};continue}const u=h=>{const p=[String(i).split(".")[0],h].join(".");if(!t[p])return h;const{reference:b}=RP(p,e==null?void 0:e.cssVarPrefix);return b},d=yi(a)?a:{default:a};n=ji(n,Object.entries(d).reduce((h,[f,p])=>{var m,b;if(!p)return h;const y=u(`${p}`);if(f==="default")return h[l]=y,h;const v=(b=(m=D_)==null?void 0:m[f])!=null?b:f;return h[v]={[l]:y},h},{})),r[i]={value:c,var:l,varRef:c}}return{cssVars:n,cssMap:r}}function vG(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function yG(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function _G(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function NP(t,e,n={}){const{stop:r,getKey:i}=n;function s(o,a=[]){var l;if(_G(o)||Array.isArray(o)){const c={};for(const[u,d]of Object.entries(o)){const h=(l=i==null?void 0:i(u))!=null?l:u,f=[...a,h];if(r!=null&&r(o,f))return e(o,a);c[h]=s(d,f)}return c}return e(o,a)}return s(t)}var bG=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function wG(t){return yG(t,bG)}function SG(t){return t.semanticTokens}function EG(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}var TG=t=>sF.includes(t)||t==="default";function CG({tokens:t,semanticTokens:e}){const n={};return NP(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),NP(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(TG)}),n}function xG(t){var e;const n=EG(t),r=wG(n),i=SG(n),s=CG({tokens:r,semanticTokens:i}),o=(e=n.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=gG(s,{cssVarPrefix:o});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:mG(n.breakpoints)}),n}var _C=ji({},jg,Ge,zq,jv,Wr,Uq,Zq,Wq,tF,Xq,Eh,p1,pt,rG,nG,Jq,eG,Hq,tG),IG=Object.assign({},pt,Wr,jv,tF,Eh),kG=Object.keys(IG),AG=[...Object.keys(_C),...sF],PG={..._C,...D_},RG=t=>t in PG,NG=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in t){let a=To(t[o],e);if(a==null)continue;if(a=yi(a)&&n(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let c=0;c<l;c+=1){const u=i==null?void 0:i[c];if(!u){s[o]=a[c];continue}s[u]=s[u]||{},a[c]!=null&&(s[u][o]=a[c])}}return s};function OG(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const s=t[i];s==="("?(r=!0,n+=s):s===")"?(r=!1,n+=s):s===","&&!r?(e.push(n),n=""):n+=s}return n=n.trim(),n&&e.push(n),e}function DG(t){return/^var\(--.+\)$/.test(t)}var MG=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!DG(e),$G=(t,e)=>{var n,r;if(e==null)return e;const i=l=>{var c,u;return(u=(c=t.__cssMap)==null?void 0:c[l])==null?void 0:u.varRef},s=l=>{var c;return(c=i(l))!=null?c:l},[o,a]=OG(e);return e=(r=(n=i(o))!=null?n:s(a))!=null?r:s(e),e};function LG(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(s,o=!1)=>{var a,l,c;const u=To(s,r),d=NG(u)(r);let h={};for(let f in d){const p=d[f];let m=To(p,r);f in n&&(f=n[f]),MG(f,m)&&(m=$G(r,m));let b=e[f];if(b===!0&&(b={property:f}),yi(m)){h[f]=(a=h[f])!=null?a:{},h[f]=ji({},h[f],i(m,!0));continue}let y=(c=(l=b==null?void 0:b.transform)==null?void 0:l.call(b,m,r,u))!=null?c:m;y=b!=null&&b.processResult?i(y,!0):y;const v=To(b==null?void 0:b.property,r);if(!o&&(b!=null&&b.static)){const w=To(b.static,r);h=ji({},h,w)}if(v&&Array.isArray(v)){for(const w of v)h[w]=y;continue}if(v){v==="&"&&yi(y)?h=ji({},h,y):h[v]=y;continue}if(yi(y)){h=ji({},h,y);continue}h[f]=y}return h};return i}var oF=t=>e=>LG({theme:e,pseudos:D_,configs:_C})(t);function ht(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function FG(t,e){if(Array.isArray(t))return t;if(yi(t))return e(t);if(t!=null)return[t]}function VG(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function jG(t){const e=t.__breakpoints;return function(r,i,s,o){var a,l;if(!e)return;const c={},u=FG(s,e.toArrayValue);if(!u)return c;const d=u.length,h=d===1,f=!!r.parts;for(let p=0;p<d;p++){const m=e.details[p],b=e.details[VG(u,p)],y=nh(m.minW,b==null?void 0:b._minW),v=To((a=r[i])==null?void 0:a[u[p]],o);if(v){if(f){(l=r.parts)==null||l.forEach(w=>{ji(c,{[w]:h?v[w]:{[y]:v[w]}})});continue}if(!f){h?ji(c,v):c[y]=v;continue}c[y]=v}}return c}}function BG(t){return e=>{var n;const{variant:r,size:i,theme:s}=e,o=jG(s);return ji({},To((n=t.baseStyle)!=null?n:{},e),o(t,"sizes",i,e),o(t,"variants",r,e))}}function zG(t,e,n){var r,i,s;return(s=(i=(r=t.__cssMap)==null?void 0:r[`${e}.${n}`])==null?void 0:i.varRef)!=null?s:n}function mn(t){return vG(t,["styleConfig","size","variant","colorScheme"])}var UG={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},WG={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},HG={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},qG={property:UG,easing:WG,duration:HG},GG=qG,KG={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},YG=KG,QG={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},XG=QG,ZG={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},JG=ZG,eK={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},tK=eK,nK={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},rK=nK,iK={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},sK=iK,oK={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},aK=oK,lK={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},aF=lK,lF={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},cK={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},uK={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},dK={...lF,...cK,container:uK},cF=dK,hK={breakpoints:JG,zIndices:YG,radii:rK,blur:aK,colors:tK,...aF,sizes:cF,shadows:sK,space:lF,borders:XG,transition:GG},{defineMultiStyleConfig:fK,definePartsStyle:rh}=ht(["stepper","step","title","description","indicator","separator","icon","number"]),_s=oe("stepper-indicator-size"),Ic=oe("stepper-icon-size"),kc=oe("stepper-title-font-size"),ih=oe("stepper-description-font-size"),Ld=oe("stepper-accent-color"),pK=rh(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Ld.variable]:`colors.${t}.500`,_dark:{[Ld.variable]:`colors.${t}.200`}},title:{fontSize:kc.reference,fontWeight:"medium"},description:{fontSize:ih.reference,color:"chakra-subtle-text"},number:{fontSize:kc.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Ic.reference,height:Ic.reference},indicator:{flexShrink:0,borderRadius:"full",width:_s.reference,height:_s.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Ld.reference},"&[data-status=complete]":{bg:Ld.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Ld.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${_s.reference} - 8px)`,top:`calc(${_s.reference} + 4px)`,insetStart:`calc(${_s.reference} / 2 - 1px)`}}})),mK=fK({baseStyle:pK,sizes:{xs:rh({stepper:{[_s.variable]:"sizes.4",[Ic.variable]:"sizes.3",[kc.variable]:"fontSizes.xs",[ih.variable]:"fontSizes.xs"}}),sm:rh({stepper:{[_s.variable]:"sizes.6",[Ic.variable]:"sizes.4",[kc.variable]:"fontSizes.sm",[ih.variable]:"fontSizes.xs"}}),md:rh({stepper:{[_s.variable]:"sizes.8",[Ic.variable]:"sizes.5",[kc.variable]:"fontSizes.md",[ih.variable]:"fontSizes.sm"}}),lg:rh({stepper:{[_s.variable]:"sizes.10",[Ic.variable]:"sizes.6",[kc.variable]:"fontSizes.lg",[ih.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function et(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...u){r();for(const d of u)e[d]=l(d);return et(t,e)}function s(...u){for(const d of u)d in e||(e[d]=l(d));return et(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([d,h])=>[d,h.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([d,h])=>[d,h.className]))}function l(u){const f=`chakra-${(["container","root"].includes(u??"")?[t]:[t,u]).filter(Boolean).join("__")}`;return{className:f,selector:`.${f}`,toString:()=>u}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var gK=et("accordion").parts("root","container","button","panel").extend("icon"),vK=et("alert").parts("title","description","container").extend("icon","spinner"),yK=et("avatar").parts("label","badge","container").extend("excessLabel","group"),_K=et("breadcrumb").parts("link","item","container").extend("separator");et("button").parts();var bK=et("checkbox").parts("control","icon","container").extend("label");et("progress").parts("track","filledTrack").extend("label");var wK=et("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),SK=et("editable").parts("preview","input","textarea"),EK=et("form").parts("container","requiredIndicator","helperText"),TK=et("formError").parts("text","icon"),CK=et("input").parts("addon","field","element","group"),xK=et("list").parts("container","item","icon"),IK=et("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),kK=et("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),AK=et("numberinput").parts("root","field","stepperGroup","stepper");et("pininput").parts("field");var PK=et("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),RK=et("progress").parts("label","filledTrack","track"),NK=et("radio").parts("container","control","label"),OK=et("select").parts("field","icon"),DK=et("slider").parts("container","track","thumb","filledTrack","mark"),MK=et("stat").parts("container","label","helpText","number","icon"),$K=et("switch").parts("container","track","thumb"),LK=et("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),FK=et("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),VK=et("tag").parts("container","label","closeButton"),jK=et("card").parts("container","header","body","footer");function La(t,e,n){return Math.min(Math.max(t,n),e)}class BK extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var sh=BK;function bC(t){if(typeof t!="string")throw new sh(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=YK.test(t)?WK(t):t;const n=HK.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(vf(a,2),16)),parseInt(vf(o[3]||"f",2),16)/255]}const r=qK.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const i=GK.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=KK.exec(e);if(s){const[o,a,l,c]=Array.from(s).slice(1).map(parseFloat);if(La(0,100,a)!==a)throw new sh(t);if(La(0,100,l)!==l)throw new sh(t);return[...QK(o,a,l),Number.isNaN(c)?1:c]}throw new sh(t)}function zK(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const OP=t=>parseInt(t.replace(/_/g,""),36),UK="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=OP(e.substring(0,3)),r=OP(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return t[n]=`${i}${r}`,t},{});function WK(t){const e=t.toLowerCase().trim(),n=UK[zK(e)];if(!n)throw new sh(t);return`#${n}`}const vf=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),HK=new RegExp(`^#${vf("([a-f0-9])",3)}([a-f0-9])?$`,"i"),qK=new RegExp(`^#${vf("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),GK=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${vf(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),KK=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,YK=/^[a-z]+$/i,DP=t=>Math.round(t*255),QK=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(DP);const i=(t%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),o=s*(1-Math.abs(i%2-1));let a=0,l=0,c=0;i>=0&&i<1?(a=s,l=o):i>=1&&i<2?(a=o,l=s):i>=2&&i<3?(l=s,c=o):i>=3&&i<4?(l=o,c=s):i>=4&&i<5?(a=o,c=s):i>=5&&i<6&&(a=s,c=o);const u=r-s/2,d=a+u,h=l+u,f=c+u;return[d,h,f].map(DP)};function XK(t,e,n,r){return`rgba(${La(0,255,t).toFixed()}, ${La(0,255,e).toFixed()}, ${La(0,255,n).toFixed()}, ${parseFloat(La(0,1,r).toFixed(3))})`}function ZK(t,e){const[n,r,i,s]=bC(t);return XK(n,r,i,s-e)}function JK(t){const[e,n,r,i]=bC(t);let s=o=>{const a=La(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${s(e)}${s(n)}${s(r)}${i<1?s(Math.round(i*255)):""}`}function eY(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}var tY=t=>Object.keys(t).length===0,qn=(t,e,n)=>{const r=eY(t,`colors.${e}`,e);try{return JK(r),r}catch{return n??"#000000"}},nY=t=>{const[e,n,r]=bC(t);return(e*299+n*587+r*114)/1e3},rY=t=>e=>{const n=qn(e,t);return nY(n)<128?"dark":"light"},iY=t=>e=>rY(t)(e)==="dark",Su=(t,e)=>n=>{const r=qn(n,t);return ZK(r,1-e)};function MP(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}var sY=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function oY(t){const e=sY();return!t||tY(t)?e:t.string&&t.colors?lY(t.string,t.colors):t.string&&!t.colors?aY(t.string):t.colors&&!t.string?cY(t.colors):e}function aY(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function lY(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function cY(t){return t[Math.floor(Math.random()*t.length)]}function se(t,e){return n=>n.colorMode==="dark"?e:t}function wC(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function uF(t){return yi(t)&&t.reference?t.reference:String(t)}var M_=(t,...e)=>e.map(uF).join(` ${t} `).replace(/calc/g,""),$P=(...t)=>`calc(${M_("+",...t)})`,LP=(...t)=>`calc(${M_("-",...t)})`,v1=(...t)=>`calc(${M_("*",...t)})`,FP=(...t)=>`calc(${M_("/",...t)})`,VP=t=>{const e=uF(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:v1(e,-1)},bs=Object.assign(t=>({add:(...e)=>bs($P(t,...e)),subtract:(...e)=>bs(LP(t,...e)),multiply:(...e)=>bs(v1(t,...e)),divide:(...e)=>bs(FP(t,...e)),negate:()=>bs(VP(t)),toString:()=>t.toString()}),{add:$P,subtract:LP,multiply:v1,divide:FP,negate:VP});function uY(t){return!Number.isInteger(parseFloat(t.toString()))}function dY(t,e="-"){return t.replace(/\s+/g,e)}function dF(t){const e=dY(t.toString());return e.includes("\\.")?t:uY(t)?e.replace(".","\\."):t}function hY(t,e=""){return[e,dF(t)].filter(Boolean).join("-")}function fY(t,e){return`var(${dF(t)}${e?`, ${e}`:""})`}function pY(t,e=""){return`--${hY(t,e)}`}function rn(t,e){const n=pY(t,e==null?void 0:e.prefix);return{variable:n,reference:fY(n,mY(e==null?void 0:e.fallback))}}function mY(t){return typeof t=="string"?t:t==null?void 0:t.reference}var{defineMultiStyleConfig:gY,definePartsStyle:Bg}=ht($K.keys),Th=rn("switch-track-width"),Ga=rn("switch-track-height"),zb=rn("switch-track-diff"),vY=bs.subtract(Th,Ga),y1=rn("switch-thumb-x"),Fd=rn("switch-bg"),yY=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[Th.reference],height:[Ga.reference],transitionProperty:"common",transitionDuration:"fast",[Fd.variable]:"colors.gray.300",_dark:{[Fd.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Fd.variable]:`colors.${e}.500`,_dark:{[Fd.variable]:`colors.${e}.200`}},bg:Fd.reference}},_Y={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Ga.reference],height:[Ga.reference],_checked:{transform:`translateX(${y1.reference})`}},bY=Bg(t=>({container:{[zb.variable]:vY,[y1.variable]:zb.reference,_rtl:{[y1.variable]:bs(zb).negate().toString()}},track:yY(t),thumb:_Y})),wY={sm:Bg({container:{[Th.variable]:"1.375rem",[Ga.variable]:"sizes.3"}}),md:Bg({container:{[Th.variable]:"1.875rem",[Ga.variable]:"sizes.4"}}),lg:Bg({container:{[Th.variable]:"2.875rem",[Ga.variable]:"sizes.6"}})},SY=gY({baseStyle:bY,sizes:wY,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:EY,definePartsStyle:Qc}=ht(LK.keys),TY=Qc({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Bv={"&[data-is-numeric=true]":{textAlign:"end"}},CY=Qc(t=>{const{colorScheme:e}=t;return{th:{color:se("gray.600","gray.400")(t),borderBottom:"1px",borderColor:se(`${e}.100`,`${e}.700`)(t),...Bv},td:{borderBottom:"1px",borderColor:se(`${e}.100`,`${e}.700`)(t),...Bv},caption:{color:se("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),xY=Qc(t=>{const{colorScheme:e}=t;return{th:{color:se("gray.600","gray.400")(t),borderBottom:"1px",borderColor:se(`${e}.100`,`${e}.700`)(t),...Bv},td:{borderBottom:"1px",borderColor:se(`${e}.100`,`${e}.700`)(t),...Bv},caption:{color:se("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:se(`${e}.100`,`${e}.700`)(t)},td:{background:se(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),IY={simple:CY,striped:xY,unstyled:{}},kY={sm:Qc({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Qc({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Qc({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},AY=EY({baseStyle:TY,variants:IY,sizes:kY,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),ir=oe("tabs-color"),ui=oe("tabs-bg"),Km=oe("tabs-border-color"),{defineMultiStyleConfig:PY,definePartsStyle:qi}=ht(FK.keys),RY=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},NY=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},OY=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},DY={p:4},MY=qi(t=>({root:RY(t),tab:NY(t),tablist:OY(t),tabpanel:DY})),$Y={sm:qi({tab:{py:1,px:4,fontSize:"sm"}}),md:qi({tab:{fontSize:"md",py:2,px:4}}),lg:qi({tab:{fontSize:"lg",py:3,px:4}})},LY=qi(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=r?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[ir.variable]:`colors.${e}.600`,_dark:{[ir.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[ui.variable]:"colors.gray.200",_dark:{[ui.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:ir.reference,bg:ui.reference}}}),FY=qi(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Km.variable]:"transparent",_selected:{[ir.variable]:`colors.${e}.600`,[Km.variable]:"colors.white",_dark:{[ir.variable]:`colors.${e}.300`,[Km.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Km.reference},color:ir.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),VY=qi(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[ui.variable]:"colors.gray.50",_dark:{[ui.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[ui.variable]:"colors.white",[ir.variable]:`colors.${e}.600`,_dark:{[ui.variable]:"colors.gray.800",[ir.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:ir.reference,bg:ui.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),jY=qi(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:qn(n,`${e}.700`),bg:qn(n,`${e}.100`)}}}}),BY=qi(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[ir.variable]:"colors.gray.600",_dark:{[ir.variable]:"inherit"},_selected:{[ir.variable]:"colors.white",[ui.variable]:`colors.${e}.600`,_dark:{[ir.variable]:"colors.gray.800",[ui.variable]:`colors.${e}.300`}},color:ir.reference,bg:ui.reference}}}),zY=qi({}),UY={line:LY,enclosed:FY,"enclosed-colored":VY,"soft-rounded":jY,"solid-rounded":BY,unstyled:zY},WY=PY({baseStyle:MY,sizes:$Y,variants:UY,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),jt=dG("badge",["bg","color","shadow"]),HY={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:jt.bg.reference,color:jt.color.reference,boxShadow:jt.shadow.reference},qY=t=>{const{colorScheme:e,theme:n}=t,r=Su(`${e}.500`,.6)(n);return{[jt.bg.variable]:`colors.${e}.500`,[jt.color.variable]:"colors.white",_dark:{[jt.bg.variable]:r,[jt.color.variable]:"colors.whiteAlpha.800"}}},GY=t=>{const{colorScheme:e,theme:n}=t,r=Su(`${e}.200`,.16)(n);return{[jt.bg.variable]:`colors.${e}.100`,[jt.color.variable]:`colors.${e}.800`,_dark:{[jt.bg.variable]:r,[jt.color.variable]:`colors.${e}.200`}}},KY=t=>{const{colorScheme:e,theme:n}=t,r=Su(`${e}.200`,.8)(n);return{[jt.color.variable]:`colors.${e}.500`,_dark:{[jt.color.variable]:r},[jt.shadow.variable]:`inset 0 0 0px 1px ${jt.color.reference}`}},YY={solid:qY,subtle:GY,outline:KY},Ch={baseStyle:HY,variants:YY,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:QY,definePartsStyle:Ka}=ht(VK.keys),jP=oe("tag-bg"),BP=oe("tag-color"),Ub=oe("tag-shadow"),zg=oe("tag-min-height"),Ug=oe("tag-min-width"),Wg=oe("tag-font-size"),Hg=oe("tag-padding-inline"),XY={fontWeight:"medium",lineHeight:1.2,outline:0,[BP.variable]:jt.color.reference,[jP.variable]:jt.bg.reference,[Ub.variable]:jt.shadow.reference,color:BP.reference,bg:jP.reference,boxShadow:Ub.reference,borderRadius:"md",minH:zg.reference,minW:Ug.reference,fontSize:Wg.reference,px:Hg.reference,_focusVisible:{[Ub.variable]:"shadows.outline"}},ZY={lineHeight:1.2,overflow:"visible"},JY={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},eQ=Ka({container:XY,label:ZY,closeButton:JY}),tQ={sm:Ka({container:{[zg.variable]:"sizes.5",[Ug.variable]:"sizes.5",[Wg.variable]:"fontSizes.xs",[Hg.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Ka({container:{[zg.variable]:"sizes.6",[Ug.variable]:"sizes.6",[Wg.variable]:"fontSizes.sm",[Hg.variable]:"space.2"}}),lg:Ka({container:{[zg.variable]:"sizes.8",[Ug.variable]:"sizes.8",[Wg.variable]:"fontSizes.md",[Hg.variable]:"space.3"}})},nQ={subtle:Ka(t=>{var e;return{container:(e=Ch.variants)==null?void 0:e.subtle(t)}}),solid:Ka(t=>{var e;return{container:(e=Ch.variants)==null?void 0:e.solid(t)}}),outline:Ka(t=>{var e;return{container:(e=Ch.variants)==null?void 0:e.outline(t)}})},rQ=QY({variants:nQ,baseStyle:eQ,sizes:tQ,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:Ts,defineMultiStyleConfig:iQ}=ht(CK.keys),Ac=oe("input-height"),Pc=oe("input-font-size"),Rc=oe("input-padding"),Nc=oe("input-border-radius"),sQ=Ts({addon:{height:Ac.reference,fontSize:Pc.reference,px:Rc.reference,borderRadius:Nc.reference},field:{width:"100%",height:Ac.reference,fontSize:Pc.reference,px:Rc.reference,borderRadius:Nc.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),so={lg:{[Pc.variable]:"fontSizes.lg",[Rc.variable]:"space.4",[Nc.variable]:"radii.md",[Ac.variable]:"sizes.12"},md:{[Pc.variable]:"fontSizes.md",[Rc.variable]:"space.4",[Nc.variable]:"radii.md",[Ac.variable]:"sizes.10"},sm:{[Pc.variable]:"fontSizes.sm",[Rc.variable]:"space.3",[Nc.variable]:"radii.sm",[Ac.variable]:"sizes.8"},xs:{[Pc.variable]:"fontSizes.xs",[Rc.variable]:"space.2",[Nc.variable]:"radii.sm",[Ac.variable]:"sizes.6"}},oQ={lg:Ts({field:so.lg,group:so.lg}),md:Ts({field:so.md,group:so.md}),sm:Ts({field:so.sm,group:so.sm}),xs:Ts({field:so.xs,group:so.xs})};function SC(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||se("blue.500","blue.300")(t),errorBorderColor:n||se("red.500","red.300")(t)}}var aQ=Ts(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=SC(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:se("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:qn(e,r),boxShadow:`0 0 0 1px ${qn(e,r)}`},_focusVisible:{zIndex:1,borderColor:qn(e,n),boxShadow:`0 0 0 1px ${qn(e,n)}`}},addon:{border:"1px solid",borderColor:se("inherit","whiteAlpha.50")(t),bg:se("gray.100","whiteAlpha.300")(t)}}}),lQ=Ts(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=SC(t);return{field:{border:"2px solid",borderColor:"transparent",bg:se("gray.100","whiteAlpha.50")(t),_hover:{bg:se("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:qn(e,r)},_focusVisible:{bg:"transparent",borderColor:qn(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:se("gray.100","whiteAlpha.50")(t)}}}),cQ=Ts(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=SC(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:qn(e,r),boxShadow:`0px 1px 0px 0px ${qn(e,r)}`},_focusVisible:{borderColor:qn(e,n),boxShadow:`0px 1px 0px 0px ${qn(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),uQ=Ts({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),dQ={outline:aQ,filled:lQ,flushed:cQ,unstyled:uQ},Ze=iQ({baseStyle:sQ,sizes:oQ,variants:dQ,defaultProps:{size:"md",variant:"outline"}}),zP,hQ={...(zP=Ze.baseStyle)==null?void 0:zP.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},UP,WP,fQ={outline:t=>{var e,n;return(n=(e=Ze.variants)==null?void 0:e.outline(t).field)!=null?n:{}},flushed:t=>{var e,n;return(n=(e=Ze.variants)==null?void 0:e.flushed(t).field)!=null?n:{}},filled:t=>{var e,n;return(n=(e=Ze.variants)==null?void 0:e.filled(t).field)!=null?n:{}},unstyled:(WP=(UP=Ze.variants)==null?void 0:UP.unstyled.field)!=null?WP:{}},HP,qP,GP,KP,YP,QP,XP,ZP,pQ={xs:(qP=(HP=Ze.sizes)==null?void 0:HP.xs.field)!=null?qP:{},sm:(KP=(GP=Ze.sizes)==null?void 0:GP.sm.field)!=null?KP:{},md:(QP=(YP=Ze.sizes)==null?void 0:YP.md.field)!=null?QP:{},lg:(ZP=(XP=Ze.sizes)==null?void 0:XP.lg.field)!=null?ZP:{}},mQ={baseStyle:hQ,sizes:pQ,variants:fQ,defaultProps:{size:"md",variant:"outline"}},Ym=rn("tooltip-bg"),Wb=rn("tooltip-fg"),gQ=rn("popper-arrow-bg"),vQ={bg:Ym.reference,color:Wb.reference,[Ym.variable]:"colors.gray.700",[Wb.variable]:"colors.whiteAlpha.900",_dark:{[Ym.variable]:"colors.gray.300",[Wb.variable]:"colors.gray.900"},[gQ.variable]:Ym.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},yQ={baseStyle:vQ},{defineMultiStyleConfig:_Q,definePartsStyle:oh}=ht(RK.keys),bQ=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,s=se(MP(),MP("1rem","rgba(0,0,0,0.1)"))(t),o=se(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${qn(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},wQ={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},SQ=t=>({bg:se("gray.100","whiteAlpha.300")(t)}),EQ=t=>({transitionProperty:"common",transitionDuration:"slow",...bQ(t)}),TQ=oh(t=>({label:wQ,filledTrack:EQ(t),track:SQ(t)})),CQ={xs:oh({track:{h:"1"}}),sm:oh({track:{h:"2"}}),md:oh({track:{h:"3"}}),lg:oh({track:{h:"4"}})},xQ=_Q({sizes:CQ,baseStyle:TQ,defaultProps:{size:"md",colorScheme:"blue"}}),IQ=t=>typeof t=="function";function Yn(t,...e){return IQ(t)?t(...e):t}var{definePartsStyle:qg,defineMultiStyleConfig:kQ}=ht(bK.keys),xh=oe("checkbox-size"),AQ=t=>{const{colorScheme:e}=t;return{w:xh.reference,h:xh.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:se(`${e}.500`,`${e}.200`)(t),borderColor:se(`${e}.500`,`${e}.200`)(t),color:se("white","gray.900")(t),_hover:{bg:se(`${e}.600`,`${e}.300`)(t),borderColor:se(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:se("gray.200","transparent")(t),bg:se("gray.200","whiteAlpha.300")(t),color:se("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:se(`${e}.500`,`${e}.200`)(t),borderColor:se(`${e}.500`,`${e}.200`)(t),color:se("white","gray.900")(t)},_disabled:{bg:se("gray.100","whiteAlpha.100")(t),borderColor:se("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:se("red.500","red.300")(t)}}},PQ={_disabled:{cursor:"not-allowed"}},RQ={userSelect:"none",_disabled:{opacity:.4}},NQ={transitionProperty:"transform",transitionDuration:"normal"},OQ=qg(t=>({icon:NQ,container:PQ,control:Yn(AQ,t),label:RQ})),DQ={sm:qg({control:{[xh.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:qg({control:{[xh.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:qg({control:{[xh.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},zv=kQ({baseStyle:OQ,sizes:DQ,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:MQ,definePartsStyle:Gg}=ht(NK.keys),$Q=t=>{var e;const n=(e=Yn(zv.baseStyle,t))==null?void 0:e.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},LQ=Gg(t=>{var e,n,r,i;return{label:(n=(e=zv).baseStyle)==null?void 0:n.call(e,t).label,container:(i=(r=zv).baseStyle)==null?void 0:i.call(r,t).container,control:$Q(t)}}),FQ={md:Gg({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Gg({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Gg({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},VQ=MQ({baseStyle:LQ,sizes:FQ,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:jQ,definePartsStyle:BQ}=ht(OK.keys),Qm=oe("select-bg"),JP,zQ={...(JP=Ze.baseStyle)==null?void 0:JP.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Qm.reference,[Qm.variable]:"colors.white",_dark:{[Qm.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Qm.reference}},UQ={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},WQ=BQ({field:zQ,icon:UQ}),Xm={paddingInlineEnd:"8"},eR,tR,nR,rR,iR,sR,oR,aR,HQ={lg:{...(eR=Ze.sizes)==null?void 0:eR.lg,field:{...(tR=Ze.sizes)==null?void 0:tR.lg.field,...Xm}},md:{...(nR=Ze.sizes)==null?void 0:nR.md,field:{...(rR=Ze.sizes)==null?void 0:rR.md.field,...Xm}},sm:{...(iR=Ze.sizes)==null?void 0:iR.sm,field:{...(sR=Ze.sizes)==null?void 0:sR.sm.field,...Xm}},xs:{...(oR=Ze.sizes)==null?void 0:oR.xs,field:{...(aR=Ze.sizes)==null?void 0:aR.xs.field,...Xm},icon:{insetEnd:"1"}}},qQ=jQ({baseStyle:WQ,sizes:HQ,variants:Ze.variants,defaultProps:Ze.defaultProps}),Hb=oe("skeleton-start-color"),qb=oe("skeleton-end-color"),GQ={[Hb.variable]:"colors.gray.100",[qb.variable]:"colors.gray.400",_dark:{[Hb.variable]:"colors.gray.800",[qb.variable]:"colors.gray.600"},background:Hb.reference,borderColor:qb.reference,opacity:.7,borderRadius:"sm"},KQ={baseStyle:GQ},Gb=oe("skip-link-bg"),YQ={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Gb.variable]:"colors.white",_dark:{[Gb.variable]:"colors.gray.700"},bg:Gb.reference}},QQ={baseStyle:YQ},{defineMultiStyleConfig:XQ,definePartsStyle:$_}=ht(DK.keys),yf=oe("slider-thumb-size"),_f=oe("slider-track-size"),vo=oe("slider-bg"),ZQ=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...wC({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},JQ=t=>({...wC({orientation:t.orientation,horizontal:{h:_f.reference},vertical:{w:_f.reference}}),overflow:"hidden",borderRadius:"sm",[vo.variable]:"colors.gray.200",_dark:{[vo.variable]:"colors.whiteAlpha.200"},_disabled:{[vo.variable]:"colors.gray.300",_dark:{[vo.variable]:"colors.whiteAlpha.300"}},bg:vo.reference}),eX=t=>{const{orientation:e}=t;return{...wC({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:yf.reference,h:yf.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},tX=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[vo.variable]:`colors.${e}.500`,_dark:{[vo.variable]:`colors.${e}.200`},bg:vo.reference}},nX=$_(t=>({container:ZQ(t),track:JQ(t),thumb:eX(t),filledTrack:tX(t)})),rX=$_({container:{[yf.variable]:"sizes.4",[_f.variable]:"sizes.1"}}),iX=$_({container:{[yf.variable]:"sizes.3.5",[_f.variable]:"sizes.1"}}),sX=$_({container:{[yf.variable]:"sizes.2.5",[_f.variable]:"sizes.0.5"}}),oX={lg:rX,md:iX,sm:sX},aX=XQ({baseStyle:nX,sizes:oX,defaultProps:{size:"md",colorScheme:"blue"}}),Na=rn("spinner-size"),lX={width:[Na.reference],height:[Na.reference]},cX={xs:{[Na.variable]:"sizes.3"},sm:{[Na.variable]:"sizes.4"},md:{[Na.variable]:"sizes.6"},lg:{[Na.variable]:"sizes.8"},xl:{[Na.variable]:"sizes.12"}},uX={baseStyle:lX,sizes:cX,defaultProps:{size:"md"}},{defineMultiStyleConfig:dX,definePartsStyle:hF}=ht(MK.keys),hX={fontWeight:"medium"},fX={opacity:.8,marginBottom:"2"},pX={verticalAlign:"baseline",fontWeight:"semibold"},mX={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},gX=hF({container:{},label:hX,helpText:fX,number:pX,icon:mX}),vX={md:hF({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},yX=dX({baseStyle:gX,sizes:vX,defaultProps:{size:"md"}}),Kb=oe("kbd-bg"),_X={[Kb.variable]:"colors.gray.100",_dark:{[Kb.variable]:"colors.whiteAlpha.100"},bg:Kb.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},bX={baseStyle:_X},wX={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},SX={baseStyle:wX},{defineMultiStyleConfig:EX,definePartsStyle:TX}=ht(xK.keys),CX={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},xX=TX({icon:CX}),IX=EX({baseStyle:xX}),{defineMultiStyleConfig:kX,definePartsStyle:AX}=ht(IK.keys),Di=oe("menu-bg"),Yb=oe("menu-shadow"),PX={[Di.variable]:"#fff",[Yb.variable]:"shadows.sm",_dark:{[Di.variable]:"colors.gray.700",[Yb.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Di.reference,boxShadow:Yb.reference},RX={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Di.variable]:"colors.gray.100",_dark:{[Di.variable]:"colors.whiteAlpha.100"}},_active:{[Di.variable]:"colors.gray.200",_dark:{[Di.variable]:"colors.whiteAlpha.200"}},_expanded:{[Di.variable]:"colors.gray.100",_dark:{[Di.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Di.reference},NX={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},OX={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},DX={opacity:.6},MX={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},$X={transitionProperty:"common",transitionDuration:"normal"},LX=AX({button:$X,list:PX,item:RX,groupTitle:NX,icon:OX,command:DX,divider:MX}),FX=kX({baseStyle:LX}),{defineMultiStyleConfig:VX,definePartsStyle:_1}=ht(kK.keys),Qb=oe("modal-bg"),Xb=oe("modal-shadow"),jX={bg:"blackAlpha.600",zIndex:"modal"},BX=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},zX=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[Qb.variable]:"colors.white",[Xb.variable]:"shadows.lg",_dark:{[Qb.variable]:"colors.gray.700",[Xb.variable]:"shadows.dark-lg"},bg:Qb.reference,boxShadow:Xb.reference}},UX={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},WX={position:"absolute",top:"2",insetEnd:"3"},HX=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},qX={px:"6",py:"4"},GX=_1(t=>({overlay:jX,dialogContainer:Yn(BX,t),dialog:Yn(zX,t),header:UX,closeButton:WX,body:Yn(HX,t),footer:qX}));function oi(t){return _1(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var KX={xs:oi("xs"),sm:oi("sm"),md:oi("md"),lg:oi("lg"),xl:oi("xl"),"2xl":oi("2xl"),"3xl":oi("3xl"),"4xl":oi("4xl"),"5xl":oi("5xl"),"6xl":oi("6xl"),full:oi("full")},YX=VX({baseStyle:GX,sizes:KX,defaultProps:{size:"md"}}),{defineMultiStyleConfig:QX,definePartsStyle:fF}=ht(AK.keys),EC=rn("number-input-stepper-width"),pF=rn("number-input-input-padding"),XX=bs(EC).add("0.5rem").toString(),Zb=rn("number-input-bg"),Jb=rn("number-input-color"),ew=rn("number-input-border-color"),ZX={[EC.variable]:"sizes.6",[pF.variable]:XX},JX=t=>{var e,n;return(n=(e=Yn(Ze.baseStyle,t))==null?void 0:e.field)!=null?n:{}},eZ={width:EC.reference},tZ={borderStart:"1px solid",borderStartColor:ew.reference,color:Jb.reference,bg:Zb.reference,[Jb.variable]:"colors.chakra-body-text",[ew.variable]:"colors.chakra-border-color",_dark:{[Jb.variable]:"colors.whiteAlpha.800",[ew.variable]:"colors.whiteAlpha.300"},_active:{[Zb.variable]:"colors.gray.200",_dark:{[Zb.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},nZ=fF(t=>{var e;return{root:ZX,field:(e=Yn(JX,t))!=null?e:{},stepperGroup:eZ,stepper:tZ}});function Zm(t){var e,n,r;const i=(e=Ze.sizes)==null?void 0:e[t],s={lg:"md",md:"md",sm:"sm",xs:"sm"},o=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",a=aF.fontSizes[o];return fF({field:{...i.field,paddingInlineEnd:pF.reference,verticalAlign:"top"},stepper:{fontSize:bs(a).multiply(.75).toString(),_first:{borderTopEndRadius:s[t]},_last:{borderBottomEndRadius:s[t],mt:"-1px",borderTopWidth:1}}})}var rZ={xs:Zm("xs"),sm:Zm("sm"),md:Zm("md"),lg:Zm("lg")},iZ=QX({baseStyle:nZ,sizes:rZ,variants:Ze.variants,defaultProps:Ze.defaultProps}),lR,sZ={...(lR=Ze.baseStyle)==null?void 0:lR.field,textAlign:"center"},oZ={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},cR,uR,aZ={outline:t=>{var e,n,r;return(r=(n=Yn((e=Ze.variants)==null?void 0:e.outline,t))==null?void 0:n.field)!=null?r:{}},flushed:t=>{var e,n,r;return(r=(n=Yn((e=Ze.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)!=null?r:{}},filled:t=>{var e,n,r;return(r=(n=Yn((e=Ze.variants)==null?void 0:e.filled,t))==null?void 0:n.field)!=null?r:{}},unstyled:(uR=(cR=Ze.variants)==null?void 0:cR.unstyled.field)!=null?uR:{}},lZ={baseStyle:sZ,sizes:oZ,variants:aZ,defaultProps:Ze.defaultProps},{defineMultiStyleConfig:cZ,definePartsStyle:uZ}=ht(PK.keys),Jm=rn("popper-bg"),dZ=rn("popper-arrow-bg"),dR=rn("popper-arrow-shadow-color"),hZ={zIndex:10},fZ={[Jm.variable]:"colors.white",bg:Jm.reference,[dZ.variable]:Jm.reference,[dR.variable]:"colors.gray.200",_dark:{[Jm.variable]:"colors.gray.700",[dR.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},pZ={px:3,py:2,borderBottomWidth:"1px"},mZ={px:3,py:2},gZ={px:3,py:2,borderTopWidth:"1px"},vZ={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},yZ=uZ({popper:hZ,content:fZ,header:pZ,body:mZ,footer:gZ,closeButton:vZ}),_Z=cZ({baseStyle:yZ}),{definePartsStyle:b1,defineMultiStyleConfig:bZ}=ht(wK.keys),tw=oe("drawer-bg"),nw=oe("drawer-box-shadow");function nc(t){return b1(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var wZ={bg:"blackAlpha.600",zIndex:"modal"},SZ={display:"flex",zIndex:"modal",justifyContent:"center"},EZ=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[tw.variable]:"colors.white",[nw.variable]:"shadows.lg",_dark:{[tw.variable]:"colors.gray.700",[nw.variable]:"shadows.dark-lg"},bg:tw.reference,boxShadow:nw.reference}},TZ={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},CZ={position:"absolute",top:"2",insetEnd:"3"},xZ={px:"6",py:"2",flex:"1",overflow:"auto"},IZ={px:"6",py:"4"},kZ=b1(t=>({overlay:wZ,dialogContainer:SZ,dialog:Yn(EZ,t),header:TZ,closeButton:CZ,body:xZ,footer:IZ})),AZ={xs:nc("xs"),sm:nc("md"),md:nc("lg"),lg:nc("2xl"),xl:nc("4xl"),full:nc("full")},PZ=bZ({baseStyle:kZ,sizes:AZ,defaultProps:{size:"xs"}}),{definePartsStyle:RZ,defineMultiStyleConfig:NZ}=ht(SK.keys),OZ={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},DZ={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},MZ={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},$Z=RZ({preview:OZ,input:DZ,textarea:MZ}),LZ=NZ({baseStyle:$Z}),{definePartsStyle:FZ,defineMultiStyleConfig:VZ}=ht(EK.keys),Xc=oe("form-control-color"),jZ={marginStart:"1",[Xc.variable]:"colors.red.500",_dark:{[Xc.variable]:"colors.red.300"},color:Xc.reference},BZ={mt:"2",[Xc.variable]:"colors.gray.600",_dark:{[Xc.variable]:"colors.whiteAlpha.600"},color:Xc.reference,lineHeight:"normal",fontSize:"sm"},zZ=FZ({container:{width:"100%",position:"relative"},requiredIndicator:jZ,helperText:BZ}),UZ=VZ({baseStyle:zZ}),{definePartsStyle:WZ,defineMultiStyleConfig:HZ}=ht(TK.keys),Zc=oe("form-error-color"),qZ={[Zc.variable]:"colors.red.500",_dark:{[Zc.variable]:"colors.red.300"},color:Zc.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},GZ={marginEnd:"0.5em",[Zc.variable]:"colors.red.500",_dark:{[Zc.variable]:"colors.red.300"},color:Zc.reference},KZ=WZ({text:qZ,icon:GZ}),YZ=HZ({baseStyle:KZ}),QZ={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},XZ={baseStyle:QZ},ZZ={fontFamily:"heading",fontWeight:"bold"},JZ={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},eJ={baseStyle:ZZ,sizes:JZ,defaultProps:{size:"xl"}},{defineMultiStyleConfig:tJ,definePartsStyle:nJ}=ht(_K.keys),rw=oe("breadcrumb-link-decor"),rJ={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:rw.reference,[rw.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[rw.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},iJ=nJ({link:rJ}),sJ=tJ({baseStyle:iJ}),oJ={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},mF=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:se("gray.800","whiteAlpha.900")(t),_hover:{bg:se("gray.100","whiteAlpha.200")(t)},_active:{bg:se("gray.200","whiteAlpha.300")(t)}};const r=Su(`${e}.200`,.12)(n),i=Su(`${e}.200`,.24)(n);return{color:se(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:se(`${e}.50`,r)(t)},_active:{bg:se(`${e}.100`,i)(t)}}},aJ=t=>{const{colorScheme:e}=t,n=se("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Yn(mF,t)}},lJ={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},cJ=t=>{var e;const{colorScheme:n}=t;if(n==="gray"){const l=se("gray.100","whiteAlpha.200")(t);return{bg:l,color:se("gray.800","whiteAlpha.900")(t),_hover:{bg:se("gray.200","whiteAlpha.300")(t),_disabled:{bg:l}},_active:{bg:se("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:s=`${n}.600`,activeBg:o=`${n}.700`}=(e=lJ[n])!=null?e:{},a=se(r,`${n}.200`)(t);return{bg:a,color:se(i,"gray.800")(t),_hover:{bg:se(s,`${n}.300`)(t),_disabled:{bg:a}},_active:{bg:se(o,`${n}.400`)(t)}}},uJ=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:se(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:se(`${e}.700`,`${e}.500`)(t)}}},dJ={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},hJ={ghost:mF,outline:aJ,solid:cJ,link:uJ,unstyled:dJ},fJ={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},pJ={baseStyle:oJ,variants:hJ,sizes:fJ,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Ya,defineMultiStyleConfig:mJ}=ht(jK.keys),Uv=oe("card-bg"),Rs=oe("card-padding"),gF=oe("card-shadow"),Kg=oe("card-radius"),vF=oe("card-border-width","0"),yF=oe("card-border-color"),gJ=Ya({container:{[Uv.variable]:"colors.chakra-body-bg",backgroundColor:Uv.reference,boxShadow:gF.reference,borderRadius:Kg.reference,color:"chakra-body-text",borderWidth:vF.reference,borderColor:yF.reference},body:{padding:Rs.reference,flex:"1 1 0%"},header:{padding:Rs.reference},footer:{padding:Rs.reference}}),vJ={sm:Ya({container:{[Kg.variable]:"radii.base",[Rs.variable]:"space.3"}}),md:Ya({container:{[Kg.variable]:"radii.md",[Rs.variable]:"space.5"}}),lg:Ya({container:{[Kg.variable]:"radii.xl",[Rs.variable]:"space.7"}})},yJ={elevated:Ya({container:{[gF.variable]:"shadows.base",_dark:{[Uv.variable]:"colors.gray.700"}}}),outline:Ya({container:{[vF.variable]:"1px",[yF.variable]:"colors.chakra-border-color"}}),filled:Ya({container:{[Uv.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Rs.variable]:0},header:{[Rs.variable]:0},footer:{[Rs.variable]:0}}},_J=mJ({baseStyle:gJ,variants:yJ,sizes:vJ,defaultProps:{variant:"elevated",size:"md"}}),Ih=rn("close-button-size"),Vd=rn("close-button-bg"),bJ={w:[Ih.reference],h:[Ih.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Vd.variable]:"colors.blackAlpha.100",_dark:{[Vd.variable]:"colors.whiteAlpha.100"}},_active:{[Vd.variable]:"colors.blackAlpha.200",_dark:{[Vd.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Vd.reference},wJ={lg:{[Ih.variable]:"sizes.10",fontSize:"md"},md:{[Ih.variable]:"sizes.8",fontSize:"xs"},sm:{[Ih.variable]:"sizes.6",fontSize:"2xs"}},SJ={baseStyle:bJ,sizes:wJ,defaultProps:{size:"md"}},{variants:EJ,defaultProps:TJ}=Ch,CJ={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:jt.bg.reference,color:jt.color.reference,boxShadow:jt.shadow.reference},xJ={baseStyle:CJ,variants:EJ,defaultProps:TJ},IJ={w:"100%",mx:"auto",maxW:"prose",px:"4"},kJ={baseStyle:IJ},AJ={opacity:.6,borderColor:"inherit"},PJ={borderStyle:"solid"},RJ={borderStyle:"dashed"},NJ={solid:PJ,dashed:RJ},OJ={baseStyle:AJ,variants:NJ,defaultProps:{variant:"solid"}},{definePartsStyle:DJ,defineMultiStyleConfig:MJ}=ht(gK.keys),$J={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},LJ={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},FJ={pt:"2",px:"4",pb:"5"},VJ={fontSize:"1.25em"},jJ=DJ({container:$J,button:LJ,panel:FJ,icon:VJ}),BJ=MJ({baseStyle:jJ}),{definePartsStyle:Cp,defineMultiStyleConfig:zJ}=ht(vK.keys),kr=oe("alert-fg"),js=oe("alert-bg"),UJ=Cp({container:{bg:js.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:kr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:kr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function TC(t){const{theme:e,colorScheme:n}=t,r=Su(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}var WJ=Cp(t=>{const{colorScheme:e}=t,n=TC(t);return{container:{[kr.variable]:`colors.${e}.500`,[js.variable]:n.light,_dark:{[kr.variable]:`colors.${e}.200`,[js.variable]:n.dark}}}}),HJ=Cp(t=>{const{colorScheme:e}=t,n=TC(t);return{container:{[kr.variable]:`colors.${e}.500`,[js.variable]:n.light,_dark:{[kr.variable]:`colors.${e}.200`,[js.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:kr.reference}}}),qJ=Cp(t=>{const{colorScheme:e}=t,n=TC(t);return{container:{[kr.variable]:`colors.${e}.500`,[js.variable]:n.light,_dark:{[kr.variable]:`colors.${e}.200`,[js.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:kr.reference}}}),GJ=Cp(t=>{const{colorScheme:e}=t;return{container:{[kr.variable]:"colors.white",[js.variable]:`colors.${e}.500`,_dark:{[kr.variable]:"colors.gray.900",[js.variable]:`colors.${e}.200`},color:kr.reference}}}),KJ={subtle:WJ,"left-accent":HJ,"top-accent":qJ,solid:GJ},YJ=zJ({baseStyle:UJ,variants:KJ,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:_F,defineMultiStyleConfig:QJ}=ht(yK.keys),Jc=oe("avatar-border-color"),kh=oe("avatar-bg"),bf=oe("avatar-font-size"),Eu=oe("avatar-size"),XJ={borderRadius:"full",border:"0.2em solid",borderColor:Jc.reference,[Jc.variable]:"white",_dark:{[Jc.variable]:"colors.gray.800"}},ZJ={bg:kh.reference,fontSize:bf.reference,width:Eu.reference,height:Eu.reference,lineHeight:"1",[kh.variable]:"colors.gray.200",_dark:{[kh.variable]:"colors.whiteAlpha.400"}},JJ=t=>{const{name:e,theme:n}=t,r=e?oY({string:e}):"colors.gray.400",i=iY(r)(n);let s="white";return i||(s="gray.800"),{bg:kh.reference,fontSize:bf.reference,color:s,borderColor:Jc.reference,verticalAlign:"top",width:Eu.reference,height:Eu.reference,"&:not([data-loaded])":{[kh.variable]:r},[Jc.variable]:"colors.white",_dark:{[Jc.variable]:"colors.gray.800"}}},eee={fontSize:bf.reference,lineHeight:"1"},tee=_F(t=>({badge:Yn(XJ,t),excessLabel:Yn(ZJ,t),container:Yn(JJ,t),label:eee}));function oo(t){const e=t!=="100%"?cF[t]:void 0;return _F({container:{[Eu.variable]:e??t,[bf.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[Eu.variable]:e??t,[bf.variable]:`calc(${e??t} / 2.5)`}})}var nee={"2xs":oo(4),xs:oo(6),sm:oo(8),md:oo(12),lg:oo(16),xl:oo(24),"2xl":oo(32),full:oo("100%")},ree=QJ({baseStyle:tee,sizes:nee,defaultProps:{size:"md"}}),iee={Accordion:BJ,Alert:YJ,Avatar:ree,Badge:Ch,Breadcrumb:sJ,Button:pJ,Checkbox:zv,CloseButton:SJ,Code:xJ,Container:kJ,Divider:OJ,Drawer:PZ,Editable:LZ,Form:UZ,FormError:YZ,FormLabel:XZ,Heading:eJ,Input:Ze,Kbd:bX,Link:SX,List:IX,Menu:FX,Modal:YX,NumberInput:iZ,PinInput:lZ,Popover:_Z,Progress:xQ,Radio:VQ,Select:qQ,Skeleton:KQ,SkipLink:QQ,Slider:aX,Spinner:uX,Stat:yX,Switch:SY,Table:AY,Tabs:WY,Tag:rQ,Textarea:mQ,Tooltip:yQ,Card:_J,Stepper:mK},see={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},oee={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},aee="ltr",lee={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},cee={semanticTokens:see,direction:aee,...hK,components:iee,styles:oee,config:lee};function uee(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var dee=uee();function hee(t,e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),n}function fee(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var pee=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},bF=pee(fee);function wF(t,e){const n={};return Object.keys(t).forEach(r=>{const i=t[r];e(i,r,t)&&(n[r]=i)}),n}var SF=t=>wF(t,e=>e!=null);function mee(t){return typeof t=="function"}function EF(t,...e){return mee(t)?t(...e):t}function gee(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var vee=typeof Element<"u",yee=typeof Map=="function",_ee=typeof Set=="function",bee=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Yg(t[r],e[r]))return!1;return!0}var s;if(yee&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Yg(r.value[1],e.get(r.value[0])))return!1;return!0}if(_ee&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(bee&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(vee&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Yg(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var wee=function(e,n){try{return Yg(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const See=yp(wee);function TF(t,e={}){var n;const{styleConfig:r,...i}=e,{theme:s,colorMode:o}=Sq(),a=t?bF(s,`components.${t}`):void 0,l=r||a,c=ji({theme:s,colorMode:o},(n=l==null?void 0:l.defaultProps)!=null?n:{},SF(hee(i,["children"]))),u=g.useRef({});if(l){const h=BG(l)(c);See(u.current,h)||(u.current=h)}return u.current}function Ii(t,e={}){return TF(t,e)}function Qs(t,e={}){return TF(t,e)}var Eee=new Set([...AG,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),Tee=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function Cee(t){return Tee.has(t)||!Eee.has(t)}function xee(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function CC(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}var Iee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,kee=OM(function(t){return Iee.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Aee=kee,Pee=function(e){return e!=="theme"},hR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Aee:Pee},fR=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Ree=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return VM(n,r,i),Q8(function(){return jM(n,r,i)}),null},Nee=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=fR(e,n,r),l=a||hR(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,f=1;f<h;f++)d.push(u[f],u[0][f])}var p=WM(function(m,b,y){var v=c&&m.as||i,w="",S=[],C=m;if(m.theme==null){C={};for(var x in m)C[x]=m[x];C.theme=g.useContext(Zh)}typeof m.className=="string"?w=U8(b.registered,S,m.className):m.className!=null&&(w=m.className+" ");var T=ET(d.concat(S),b.registered,C);w+=b.key+"-"+T.name,o!==void 0&&(w+=" "+o);var A=c&&a===void 0?hR(v):l,O={};for(var N in m)c&&N==="as"||A(N)&&(O[N]=m[N]);return O.className=w,O.ref=y,g.createElement(g.Fragment,null,g.createElement(Ree,{cache:b,serialized:T,isStringTag:typeof v=="string"}),g.createElement(v,O))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,b){return t(m,al({},n,b,{shouldForwardProp:fR(p,b,!0)})).apply(void 0,d)},p}},Oee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Wv=Nee.bind();Oee.forEach(function(t){Wv[t]=Wv(t)});var pR,Dee=(pR=Wv.default)!=null?pR:Wv,Mee=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:s,...o}=e,a=wF(o,(d,h)=>RG(h)),l=EF(t,e),c=xee({},i,l,SF(a),s),u=oF(c)(e.theme);return r?[u,r]:u};function iw(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=Cee);const i=Mee({baseStyle:n}),s=Dee(t,r)(i);return Cr.forwardRef(function(l,c){const{colorMode:u,forced:d}=N_();return Cr.createElement(s,{ref:c,"data-theme":d?u:void 0,...l})})}function $ee(){const t=new Map;return new Proxy(iw,{apply(e,n,r){return iw(...r)},get(e,n){return t.has(n)||t.set(n,iw(n)),t.get(n)}})}var X=$ee();function ee(t){return g.forwardRef(t)}function Lee(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,i=g.createContext(void 0);i.displayName=r;function s(){var o;const a=g.useContext(i);if(!a&&e){const l=new Error(n);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,s),l}return a}return[i.Provider,s,i]}function Fee(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=g.useMemo(()=>xG(n),[n]);return _.jsxs(J8,{theme:i,children:[_.jsx(Vee,{root:e}),r]})}function Vee({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return _.jsx(m_,{styles:n=>({[e]:n.__cssVars})})}Lee({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function jee(){const{colorMode:t}=N_();return _.jsx(m_,{styles:e=>{const n=bF(e,"styles.global"),r=EF(n,{theme:e,colorMode:t});return r?oF(r)(e):void 0}})}var CF=g.createContext({getDocument(){return document},getWindow(){return window}});CF.displayName="EnvironmentContext";function xF(t){const{children:e,environment:n,disabled:r}=t,i=g.useRef(null),s=g.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),o=!r||!n;return _.jsxs(CF.Provider,{value:s,children:[e,o&&_.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}xF.displayName="EnvironmentProvider";var Bee=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:s=!0,theme:o={},environment:a,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:u}=t,d=_.jsx(xF,{environment:a,disabled:c,children:e});return _.jsx(Fee,{theme:o,cssVarsRoot:l,children:_.jsxs(JL,{colorModeManager:n,options:o.config,children:[s?_.jsx(nH,{scope:i}):_.jsx(tH,{}),!u&&_.jsx(jee,{}),r?_.jsx(GM,{zIndex:r,children:d}):d]})})},zee=(t,e)=>t.find(n=>n.id===e);function mR(t,e){const n=IF(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function IF(t,e){for(const[n,r]of Object.entries(t))if(zee(r,e))return n}function Uee(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function Wee(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:s,left:o}}function Qa(t,e=[]){const n=g.useRef(t);return g.useEffect(()=>{n.current=t}),g.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function Hee(t,e){const n=Qa(t);g.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}function w1(t,e){const n=g.useRef(!1),r=g.useRef(!1);g.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),g.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const kF=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),L_=g.createContext({}),xp=g.createContext(null),F_=typeof document<"u",xC=F_?g.useLayoutEffect:g.useEffect,AF=g.createContext({strict:!1});function qee(t,e,n,r){const{visualElement:i}=g.useContext(L_),s=g.useContext(AF),o=g.useContext(xp),a=g.useContext(kF).reducedMotion,l=g.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;g.useInsertionEffect(()=>{c&&c.update(n,o)});const u=g.useRef(!!window.HandoffAppearAnimations);return xC(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),g.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,u.current=!1)}),c}function Oc(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Gee(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Oc(n)&&(n.current=r))},[e])}function wf(t){return typeof t=="string"||Array.isArray(t)}function V_(t){return typeof t=="object"&&typeof t.start=="function"}const IC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kC=["initial",...IC];function j_(t){return V_(t.animate)||kC.some(e=>wf(t[e]))}function PF(t){return!!(j_(t)||t.variants)}function Kee(t,e){if(j_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||wf(n)?n:void 0,animate:wf(r)?r:void 0}}return t.inherit!==!1?e:{}}function Yee(t){const{initial:e,animate:n}=Kee(t,g.useContext(L_));return g.useMemo(()=>({initial:e,animate:n}),[gR(e),gR(n)])}function gR(t){return Array.isArray(t)?t.join(" "):t}const vR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sf={};for(const t in vR)Sf[t]={isEnabled:e=>vR[t].some(n=>!!e[n])};function Qee(t){for(const e in t)Sf[e]={...Sf[e],...t[e]}}const AC=g.createContext({}),RF=g.createContext({}),Xee=Symbol.for("motionComponentSymbol");function Zee({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Qee(t);function s(a,l){let c;const u={...g.useContext(kF),...a,layoutId:Jee(a)},{isStatic:d}=u,h=Yee(a),f=r(a,d);if(!d&&F_){h.visualElement=qee(i,f,u,e);const p=g.useContext(RF),m=g.useContext(AF).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,m,t,p))}return g.createElement(L_.Provider,{value:h},c&&h.visualElement?g.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,Gee(f,h.visualElement,l),f,d,h.visualElement))}const o=g.forwardRef(s);return o[Xee]=i,o}function Jee({layoutId:t}){const e=g.useContext(AC).id;return e&&t!==void 0?e+"-"+t:t}function ete(t){function e(r,i={}){return Zee(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const tte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function PC(t){return typeof t!="string"||t.includes("-")?!1:!!(tte.indexOf(t)>-1||/[A-Z]/.test(t))}const Hv={};function nte(t){Object.assign(Hv,t)}const Ip=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$l=new Set(Ip);function NF(t,{layout:e,layoutId:n}){return $l.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Hv[t]||t==="opacity")}const gr=t=>!!(t&&t.getVelocity),rte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ite=Ip.length;function ste(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<ite;o++){const a=Ip[o];if(t[a]!==void 0){const l=rte[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const OF=t=>e=>typeof e=="string"&&e.startsWith(t),DF=OF("--"),S1=OF("var(--"),ote=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ate=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Go=(t,e,n)=>Math.min(Math.max(n,t),e),Ll={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ah={...Ll,transform:t=>Go(0,1,t)},eg={...Ll,default:1},Ph=t=>Math.round(t*1e5)/1e5,B_=/(-)?([\d]*\.?[\d])+/g,MF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,lte=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function kp(t){return typeof t=="string"}const Ap=t=>({test:e=>kp(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lo=Ap("deg"),Gi=Ap("%"),ue=Ap("px"),cte=Ap("vh"),ute=Ap("vw"),yR={...Gi,parse:t=>Gi.parse(t)/100,transform:t=>Gi.transform(t*100)},_R={...Ll,transform:Math.round},$F={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,size:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,rotate:lo,rotateX:lo,rotateY:lo,rotateZ:lo,scale:eg,scaleX:eg,scaleY:eg,scaleZ:eg,skew:lo,skewX:lo,skewY:lo,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Ah,originX:yR,originY:yR,originZ:ue,zIndex:_R,fillOpacity:Ah,strokeOpacity:Ah,numOctaves:_R};function RC(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(DF(d)){s[d]=h;continue}const f=$F[d],p=ate(h,f);if($l.has(d)){if(l=!0,o[d]=p,!u)continue;h!==(f.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=p):i[d]=p}if(e.transform||(l||r?i.transform=ste(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;i.transformOrigin=`${d} ${h} ${f}`}}const NC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LF(t,e,n){for(const r in e)!gr(e[r])&&!NF(r,n)&&(t[r]=e[r])}function dte({transformTemplate:t},e,n){return g.useMemo(()=>{const r=NC();return RC(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function hte(t,e,n){const r=t.style||{},i={};return LF(i,r,t),Object.assign(i,dte(t,e,n)),t.transformValues?t.transformValues(i):i}function fte(t,e,n){const r={},i=hte(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const pte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function qv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||pte.has(t)}let FF=t=>!qv(t);function mte(t){t&&(FF=e=>e.startsWith("on")?!qv(e):t(e))}try{mte(require("@emotion/is-prop-valid").default)}catch{}function gte(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(FF(i)||n===!0&&qv(i)||!e&&!qv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function bR(t,e,n){return typeof t=="string"?t:ue.transform(e+n*t)}function vte(t,e,n){const r=bR(e,t.x,t.width),i=bR(n,t.y,t.height);return`${r} ${i}`}const yte={offset:"stroke-dashoffset",array:"stroke-dasharray"},_te={offset:"strokeDashoffset",array:"strokeDasharray"};function bte(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?yte:_te;t[s.offset]=ue.transform(-r);const o=ue.transform(e),a=ue.transform(n);t[s.array]=`${o} ${a}`}function OC(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(RC(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=vte(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&bte(f,o,a,l,!1)}const VF=()=>({...NC(),attrs:{}}),DC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wte(t,e,n,r){const i=g.useMemo(()=>{const s=VF();return OC(s,e,{enableHardwareAcceleration:!1},DC(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};LF(s,t.style,t),i.style={...s,...i.style}}return i}function Ste(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(PC(n)?wte:fte)(r,s,o,n),u={...gte(r,typeof n=="string",t),...l,ref:i},{children:d}=r,h=g.useMemo(()=>gr(d)?d.get():d,[d]);return g.createElement(n,{...u,children:h})}}const MC=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function jF(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const BF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zF(t,e,n,r){jF(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(BF.has(i)?i:MC(i),e.attrs[i])}function $C(t,e){const{style:n}=t,r={};for(const i in n)(gr(n[i])||e.style&&gr(e.style[i])||NF(i,t))&&(r[i]=n[i]);return r}function UF(t,e){const n=$C(t,e);for(const r in t)if(gr(t[r])||gr(e[r])){const i=Ip.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function LC(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function WF(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gv=t=>Array.isArray(t),Ete=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Tte=t=>Gv(t)?t[t.length-1]||0:t;function Qg(t){const e=gr(t)?t.get():t;return Ete(e)?e.toValue():e}function Cte({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:xte(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const HF=t=>(e,n)=>{const r=g.useContext(L_),i=g.useContext(xp),s=()=>Cte(t,e,r,i);return n?s():WF(s)};function xte(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Qg(s[h]);let{initial:o,animate:a}=t;const l=j_(t),c=PF(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!V_(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const p=LC(t,f);if(!p)return;const{transitionEnd:m,transition:b,...y}=p;for(const v in y){let w=y[v];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(i[v]=w)}for(const v in m)i[v]=m[v]}),i}const Ot=t=>t;class wR{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Ite(t){let e=new wR,n=new wR,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,h=d?e:n;return c&&o.add(l),h.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const tg=["prepare","read","update","preRender","render","postRender"],kte=40;function Ate(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=tg.reduce((d,h)=>(d[h]=Ite(()=>n=!0),d),{}),o=d=>s[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,kte),1),i.timestamp=d,i.isProcessing=!0,tg.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:tg.reduce((d,h)=>{const f=s[h];return d[h]=(p,m=!1,b=!1)=>(n||l(),f.schedule(p,m,b)),d},{}),cancel:d=>tg.forEach(h=>s[h].cancel(d)),state:i,steps:s}}const{schedule:dt,cancel:Bs,state:sn,steps:sw}=Ate(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ot,!0),Pte={useVisualState:HF({scrapeMotionValuesFromProps:UF,createRenderState:VF,onMount:(t,e,{renderState:n,latestValues:r})=>{dt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),dt.render(()=>{OC(n,r,{enableHardwareAcceleration:!1},DC(e.tagName),t.transformTemplate),zF(e,n)})}})},Rte={useVisualState:HF({scrapeMotionValuesFromProps:$C,createRenderState:NC})};function Nte(t,{forwardMotionProps:e=!1},n,r){return{...PC(t)?Pte:Rte,preloadedFeatures:n,useRender:Ste(e),createVisualElement:r,Component:t}}function Cs(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const qF=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function z_(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Ote=t=>e=>qF(e)&&t(e,z_(e));function Ns(t,e,n,r){return Cs(t,e,Ote(n),r)}const Dte=(t,e)=>n=>e(t(n)),Mo=(...t)=>t.reduce(Dte);function GF(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const SR=GF("dragHorizontal"),ER=GF("dragVertical");function KF(t){let e=!1;if(t==="y")e=ER();else if(t==="x")e=SR();else{const n=SR(),r=ER();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function YF(){const t=KF(!0);return t?(t(),!1):!0}class ca{constructor(e){this.isMounted=!1,this.node=e}update(){}}function TR(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||YF())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&dt.update(()=>a[r](s,o))};return Ns(t.current,n,i,{passive:!t.getProps()[r]})}class Mte extends ca{mount(){this.unmount=Mo(TR(this.node,!0),TR(this.node,!1))}unmount(){}}class $te extends ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mo(Cs(this.node.current,"focus",()=>this.onFocus()),Cs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const QF=(t,e)=>e?t===e?!0:QF(t,e.parentElement):!1;function ow(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,z_(n))}class Lte extends ca{constructor(){super(...arguments),this.removeStartListeners=Ot,this.removeEndListeners=Ot,this.removeAccessibleListeners=Ot,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Ns(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();dt.update(()=>{QF(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ns(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Mo(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ow("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&dt.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Cs(this.node.current,"keyup",o),ow("down",(a,l)=>{this.startPress(a,l)})},n=Cs(this.node.current,"keydown",e),r=()=>{this.isPressing&&ow("cancel",(s,o)=>this.cancelPress(s,o))},i=Cs(this.node.current,"blur",r);this.removeAccessibleListeners=Mo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&dt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!YF()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&dt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ns(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Cs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Mo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const E1=new WeakMap,aw=new WeakMap,Fte=t=>{const e=E1.get(t.target);e&&e(t)},Vte=t=>{t.forEach(Fte)};function jte({root:t,...e}){const n=t||document;aw.has(n)||aw.set(n,{});const r=aw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Vte,{root:t,...e})),r[i]}function Bte(t,e,n){const r=jte(e);return E1.set(t,n),r.observe(t),()=>{E1.delete(t),r.unobserve(t)}}const zte={some:0,all:1};class Ute extends ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:zte[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return Bte(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Wte(e,n))&&this.startObserver()}unmount(){}}function Wte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Hte={inView:{Feature:Ute},tap:{Feature:Lte},focus:{Feature:$te},hover:{Feature:Mte}};function XF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function qte(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Gte(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function U_(t,e,n){const r=t.getProps();return LC(r,e,n!==void 0?n:r.custom,qte(t),Gte(t))}const Kte="framerAppearId",Yte="data-"+MC(Kte);let Qte=Ot,FC=Ot;const $o=t=>t*1e3,Os=t=>t/1e3,Xte={current:!1},ZF=t=>Array.isArray(t)&&typeof t[0]=="number";function JF(t){return!!(!t||typeof t=="string"&&eV[t]||ZF(t)||Array.isArray(t)&&t.every(JF))}const ah=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ah([0,.65,.55,1]),circOut:ah([.55,0,1,.45]),backIn:ah([.31,.01,.66,-.59]),backOut:ah([.33,1.53,.69,.99])};function tV(t){if(t)return ZF(t)?ah(t):Array.isArray(t)?t.map(tV):eV[t]}function Zte(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=tV(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Jte(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const nV=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ene=1e-7,tne=12;function nne(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=nV(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>ene&&++a<tne);return o}function Pp(t,e,n,r){if(t===e&&n===r)return Ot;const i=s=>nne(s,0,1,t,n);return s=>s===0||s===1?s:nV(i(s),e,r)}const rne=Pp(.42,0,1,1),ine=Pp(0,0,.58,1),rV=Pp(.42,0,.58,1),sne=t=>Array.isArray(t)&&typeof t[0]!="number",iV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sV=t=>e=>1-t(1-e),oV=t=>1-Math.sin(Math.acos(t)),VC=sV(oV),one=iV(VC),aV=Pp(.33,1.53,.69,.99),jC=sV(aV),ane=iV(jC),lne=t=>(t*=2)<1?.5*jC(t):.5*(2-Math.pow(2,-10*(t-1))),cne={linear:Ot,easeIn:rne,easeInOut:rV,easeOut:ine,circIn:oV,circInOut:one,circOut:VC,backIn:jC,backInOut:ane,backOut:aV,anticipate:lne},CR=t=>{if(Array.isArray(t)){FC(t.length===4);const[e,n,r,i]=t;return Pp(e,n,r,i)}else if(typeof t=="string")return cne[t];return t},BC=(t,e)=>n=>!!(kp(n)&&lte.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),lV=(t,e,n)=>r=>{if(!kp(r))return r;const[i,s,o,a]=r.match(B_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},une=t=>Go(0,255,t),lw={...Ll,transform:t=>Math.round(une(t))},Fa={test:BC("rgb","red"),parse:lV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+lw.transform(t)+", "+lw.transform(e)+", "+lw.transform(n)+", "+Ph(Ah.transform(r))+")"};function dne(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const T1={test:BC("#"),parse:dne,transform:Fa.transform},Dc={test:BC("hsl","hue"),parse:lV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Gi.transform(Ph(e))+", "+Gi.transform(Ph(n))+", "+Ph(Ah.transform(r))+")"},Wn={test:t=>Fa.test(t)||T1.test(t)||Dc.test(t),parse:t=>Fa.test(t)?Fa.parse(t):Dc.test(t)?Dc.parse(t):T1.parse(t),transform:t=>kp(t)?t:t.hasOwnProperty("red")?Fa.transform(t):Dc.transform(t)},It=(t,e,n)=>-n*t+n*e+t;function cw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hne({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=cw(l,a,t+1/3),s=cw(l,a,t),o=cw(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const uw=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},fne=[T1,Fa,Dc],pne=t=>fne.find(e=>e.test(t));function xR(t){const e=pne(t);let n=e.parse(t);return e===Dc&&(n=hne(n)),n}const cV=(t,e)=>{const n=xR(t),r=xR(e),i={...n};return s=>(i.red=uw(n.red,r.red,s),i.green=uw(n.green,r.green,s),i.blue=uw(n.blue,r.blue,s),i.alpha=It(n.alpha,r.alpha,s),Fa.transform(i))};function mne(t){var e,n;return isNaN(t)&&kp(t)&&(((e=t.match(B_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(MF))===null||n===void 0?void 0:n.length)||0)>0}const uV={regex:ote,countKey:"Vars",token:"${v}",parse:Ot},dV={regex:MF,countKey:"Colors",token:"${c}",parse:Wn.parse},hV={regex:B_,countKey:"Numbers",token:"${n}",parse:Ll.parse};function dw(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Kv(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&dw(n,uV),dw(n,dV),dw(n,hV),n}function fV(t){return Kv(t).values}function pV(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Kv(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(uV.token,o[l]):l<r+n?a=a.replace(dV.token,Wn.transform(o[l])):a=a.replace(hV.token,Ph(o[l]));return a}}const gne=t=>typeof t=="number"?0:t;function vne(t){const e=fV(t);return pV(t)(e.map(gne))}const Ko={test:mne,parse:fV,createTransformer:pV,getAnimatableNone:vne},mV=(t,e)=>n=>`${n>0?e:t}`;function gV(t,e){return typeof t=="number"?n=>It(t,e,n):Wn.test(t)?cV(t,e):t.startsWith("var(")?mV(t,e):yV(t,e)}const vV=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>gV(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},yne=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=gV(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},yV=(t,e)=>{const n=Ko.createTransformer(e),r=Kv(t),i=Kv(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Mo(vV(r.values,i.values),n):mV(t,e)},Ef=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},IR=(t,e)=>n=>It(t,e,n);function _ne(t){return typeof t=="number"?IR:typeof t=="string"?Wn.test(t)?cV:yV:Array.isArray(t)?vV:typeof t=="object"?yne:IR}function bne(t,e,n){const r=[],i=n||_ne(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ot:e;a=Mo(l,a)}r.push(a)}return r}function _V(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(FC(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=bne(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=Ef(t[u],t[u+1],c);return o[u](d)};return n?c=>l(Go(t[0],t[s-1],c)):l}function wne(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ef(0,e,r);t.push(It(n,1,i))}}function Sne(t){const e=[0];return wne(e,t.length-1),e}function Ene(t,e){return t.map(n=>n*e)}function Tne(t,e){return t.map(()=>e||rV).splice(0,t.length-1)}function Yv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=sne(r)?r.map(CR):CR(r),s={done:!1,value:e[0]},o=Ene(n&&n.length===e.length?n:Sne(e),t),a=_V(o,e,{ease:Array.isArray(i)?i:Tne(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function bV(t,e){return e?t*(1e3/e):0}const Cne=5;function wV(t,e,n){const r=Math.max(e-Cne,0);return bV(n-t(r),e-r)}const hw=.001,xne=.01,kR=10,Ine=.05,kne=1;function Ane({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;Qte(t<=$o(kR));let o=1-e;o=Go(Ine,kne,o),t=Go(xne,kR,Os(t)),o<1?(i=c=>{const u=c*o,d=u*t,h=u-n,f=C1(c,o),p=Math.exp(-d);return hw-h/f*p},s=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-d),m=C1(Math.pow(c,2),o);return(-i(c)+hw>0?-1:1)*((h-f)*p)/m}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-hw+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=Rne(i,s,a);if(t=$o(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Pne=12;function Rne(t,e,n){let r=n;for(let i=1;i<Pne;i++)r=r-t(r)/e(r);return r}function C1(t,e){return t*Math.sqrt(1-e*e)}const Nne=["duration","bounce"],One=["stiffness","damping","mass"];function AR(t,e){return e.some(n=>t[n]!==void 0)}function Dne(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!AR(t,One)&&AR(t,Nne)){const n=Ane(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function SV({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:h}=Dne(r),f=u?-Os(u):0,p=l/(2*Math.sqrt(a*c)),m=s-i,b=Os(Math.sqrt(a/c)),y=Math.abs(m)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let v;if(p<1){const w=C1(b,p);v=S=>{const C=Math.exp(-p*b*S);return s-C*((f+p*b*m)/w*Math.sin(w*S)+m*Math.cos(w*S))}}else if(p===1)v=w=>s-Math.exp(-b*w)*(m+(f+b*m)*w);else{const w=b*Math.sqrt(p*p-1);v=S=>{const C=Math.exp(-p*b*S),x=Math.min(w*S,300);return s-C*((f+p*b*m)*Math.sinh(x)+w*m*Math.cosh(x))/w}}return{calculatedDuration:h&&d||null,next:w=>{const S=v(w);if(h)o.done=w>=d;else{let C=f;w!==0&&(p<1?C=wV(v,w,S):C=0);const x=Math.abs(C)<=n,T=Math.abs(s-S)<=e;o.done=x&&T}return o.value=o.done?s:S,o}}}function PR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=A=>a!==void 0&&A<a||l!==void 0&&A>l,p=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let m=n*e;const b=d+m,y=o===void 0?b:o(b);y!==b&&(m=y-d);const v=A=>-m*Math.exp(-A/r),w=A=>y+v(A),S=A=>{const O=v(A),N=w(A);h.done=Math.abs(O)<=c,h.value=h.done?y:N};let C,x;const T=A=>{f(h.value)&&(C=A,x=SV({keyframes:[h.value,p(h.value)],velocity:wV(w,A,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:A=>{let O=!1;return!x&&C===void 0&&(O=!0,S(A),T(A)),C!==void 0&&A>C?x.next(A-C):(!O&&S(A),h)}}}const Mne=t=>{const e=({timestamp:n})=>t(n);return{start:()=>dt.update(e,!0),stop:()=>Bs(e),now:()=>sn.isProcessing?sn.timestamp:performance.now()}},RR=2e4;function NR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<RR;)e+=n,r=t.next(e);return e>=RR?1/0:e}const $ne={decay:PR,inertia:PR,tween:Yv,keyframes:Yv,spring:SV};function Qv({autoplay:t=!0,delay:e=0,driver:n=Mne,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...h}){let f=1,p=!1,m,b;const y=()=>{b=new Promise(Y=>{m=Y})};y();let v;const w=$ne[i]||Yv;let S;w!==Yv&&typeof r[0]!="number"&&(S=_V([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...h,keyframes:r});let x;a==="mirror"&&(x=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let T="idle",A=null,O=null,N=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=NR(C));const{calculatedDuration:z}=C;let ve=1/0,ne=1/0;z!==null&&(ve=z+o,ne=ve*(s+1)-o);let le=0;const xe=Y=>{if(O===null)return;f>0&&(O=Math.min(O,Y)),f<0&&(O=Math.min(Y-ne/f,O)),A!==null?le=A:le=Math.round(Y-O)*f;const ae=le-e*(f>=0?1:-1),ce=f>=0?ae<0:ae>ne;le=Math.max(ae,0),T==="finished"&&A===null&&(le=ne);let fe=le,Ie=C;if(s){const Lt=le/ve;let Ut=Math.floor(Lt),Pt=Lt%1;!Pt&&Lt>=1&&(Pt=1),Pt===1&&Ut--,Ut=Math.min(Ut,s+1);const ze=!!(Ut%2);ze&&(a==="reverse"?(Pt=1-Pt,o&&(Pt-=o/ve)):a==="mirror"&&(Ie=x));let Ft=Go(0,1,Pt);le>ne&&(Ft=a==="reverse"&&ze?1:0),fe=Ft*ve}const De=ce?{done:!1,value:r[0]}:Ie.next(fe);S&&(De.value=S(De.value));let{done:Be}=De;!ce&&z!==null&&(Be=f>=0?le>=ne:le<=0);const tt=A===null&&(T==="finished"||T==="running"&&Be);return d&&d(De.value),tt&&$(),De},me=()=>{v&&v.stop(),v=void 0},ye=()=>{T="idle",me(),m(),y(),O=N=null},$=()=>{T="finished",u&&u(),me(),m()},U=()=>{if(p)return;v||(v=n(xe));const Y=v.now();l&&l(),A!==null?O=Y-A:(!O||T==="finished")&&(O=Y),T==="finished"&&y(),N=O,A=null,T="running",v.start()};t&&U();const J={then(Y,ae){return b.then(Y,ae)},get time(){return Os(le)},set time(Y){Y=$o(Y),le=Y,A!==null||!v||f===0?A=Y:O=v.now()-Y/f},get duration(){const Y=C.calculatedDuration===null?NR(C):C.calculatedDuration;return Os(Y)},get speed(){return f},set speed(Y){Y===f||!v||(f=Y,J.time=Os(le))},get state(){return T},play:U,pause:()=>{T="paused",A=le},stop:()=>{p=!0,T!=="idle"&&(T="idle",c&&c(),ye())},cancel:()=>{N!==null&&xe(N),ye()},complete:()=>{T="finished"},sample:Y=>(O=0,xe(Y))};return J}function Lne(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fne=Lne(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vne=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ng=10,jne=2e4,Bne=(t,e)=>e.type==="spring"||t==="backgroundColor"||!JF(e.ease);function zne(t,e,{onUpdate:n,onComplete:r,...i}){if(!(Fne()&&Vne.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(v=>{a=v})};c();let{keyframes:u,duration:d=300,ease:h,times:f}=i;if(Bne(e,i)){const v=Qv({...i,repeat:0,delay:0});let w={done:!1,value:u[0]};const S=[];let C=0;for(;!w.done&&C<jne;)w=v.sample(C),S.push(w.value),C+=ng;f=void 0,u=S,d=C-ng,h="linear"}const p=Zte(t.owner.current,e,u,{...i,duration:d,ease:h,times:f});i.syncStart&&(p.startTime=sn.isProcessing?sn.timestamp:document.timeline?document.timeline.currentTime:performance.now());const m=()=>p.cancel(),b=()=>{dt.update(m),a(),c()};return p.onfinish=()=>{t.set(Jte(u,i)),r&&r(),b()},{then(v,w){return l.then(v,w)},attachTimeline(v){return p.timeline=v,p.onfinish=null,Ot},get time(){return Os(p.currentTime||0)},set time(v){p.currentTime=$o(v)},get speed(){return p.playbackRate},set speed(v){p.playbackRate=v},get duration(){return Os(d)},play:()=>{o||(p.play(),Bs(m))},pause:()=>p.pause(),stop:()=>{if(o=!0,p.playState==="idle")return;const{currentTime:v}=p;if(v){const w=Qv({...i,autoplay:!1});t.setWithVelocity(w.sample(v-ng).value,w.sample(v).value,ng)}b()},complete:()=>p.finish(),cancel:b}}function Une({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ot,pause:Ot,stop:Ot,then:s=>(s(),Promise.resolve()),cancel:Ot,complete:Ot});return e?Qv({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Wne={type:"spring",stiffness:500,damping:25,restSpeed:10},Hne=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qne={type:"keyframes",duration:.8},Gne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kne=(t,{keyframes:e})=>e.length>2?qne:$l.has(t)?t.startsWith("scale")?Hne(e[1]):Wne:Gne,x1=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ko.test(e)||e==="0")&&!e.startsWith("url(")),Yne=new Set(["brightness","contrast","saturate","opacity"]);function Qne(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(B_)||[];if(!r)return t;const i=n.replace(r,"");let s=Yne.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Xne=/([a-z-]*)\(.*?\)/g,I1={...Ko,getAnimatableNone:t=>{const e=t.match(Xne);return e?e.map(Qne).join(" "):t}},Zne={...$F,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:I1,WebkitFilter:I1},zC=t=>Zne[t];function EV(t,e){let n=zC(t);return n!==I1&&(n=Ko),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const TV=t=>/^0[^.\s]+$/.test(t);function Jne(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||TV(t)}function ere(t,e,n,r){const i=x1(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),Jne(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=EV(e,a)}return s}function tre({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function CV(t,e){return t[e]||t.default||t}const UC=(t,e,n,r={})=>i=>{const s=CV(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-$o(o);const l=ere(e,t,n,s),c=l[0],u=l[l.length-1],d=x1(t,c),h=x1(t,u);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:p=>{e.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(tre(s)||(f={...f,...Kne(t,f)}),f.duration&&(f.duration=$o(f.duration)),f.repeatDelay&&(f.repeatDelay=$o(f.repeatDelay)),!d||!h||Xte.current||s.type===!1)return Une(f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=zne(e,t,f);if(p)return p}return Qv(f)};function Xv(t){return!!(gr(t)&&t.add)}const xV=t=>/^\-?\d*\.?\d+$/.test(t);function WC(t,e){t.indexOf(e)===-1&&t.push(e)}function HC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class qC{constructor(){this.subscriptions=[]}add(e){return WC(this.subscriptions,e),()=>HC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nre=t=>!isNaN(parseFloat(t));class rre{constructor(e,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=sn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,dt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>dt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=nre(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qC);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?bV(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tu(t,e){return new rre(t,e)}const IV=t=>e=>e.test(t),ire={test:t=>t==="auto",parse:t=>t},kV=[Ll,ue,Gi,lo,ute,cte,ire],jd=t=>kV.find(IV(t)),sre=[...kV,Wn,Ko],ore=t=>sre.find(IV(t));function are(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tu(n))}function lre(t,e){const n=U_(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=Tte(s[o]);are(t,o,a)}}function cre(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(xV(u)||TV(u))?u=parseFloat(u):!ore(u)&&Ko.test(c)&&(u=EV(l,c)),t.addValue(l,Tu(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function ure(t,e){return e?(e[t]||e.default||e).from:void 0}function dre(t,e,n){const r={};for(const i in t){const s=ure(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function hre({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function AV(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d),f=a[d];if(!h||f===void 0||u&&hre(u,d))continue;const p={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!h.hasAnimated){const b=t.getProps()[Yte];b&&(p.elapsed=window.HandoffAppearAnimations(b,d,h,dt),p.syncStart=!0)}h.start(UC(d,h,f,t.shouldReduceMotion&&$l.has(d)?{type:!1}:p));const m=h.animation;Xv(l)&&(l.add(d),m.then(()=>l.remove(d))),c.push(m)}return o&&Promise.all(c).then(()=>{o&&lre(t,o)}),c}function k1(t,e,n={}){const r=U_(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(AV(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return fre(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function fre(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(pre).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(k1(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function pre(t,e){return t.sortNodePosition(e)}function mre(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>k1(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=k1(t,e,n);else{const i=typeof e=="function"?U_(t,e,n.custom):e;r=Promise.all(AV(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const gre=[...IC].reverse(),vre=IC.length;function yre(t){return e=>Promise.all(e.map(({animation:n,options:r})=>mre(t,n,r)))}function _re(t){let e=yre(t);const n=wre();let r=!0;const i=(l,c)=>{const u=U_(t,c);if(u){const{transition:d,transitionEnd:h,...f}=u;l={...l,...f,...h}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let p={},m=1/0;for(let y=0;y<vre;y++){const v=gre[y],w=n[v],S=u[v]!==void 0?u[v]:d[v],C=wf(S),x=v===c?w.isActive:null;x===!1&&(m=y);let T=S===d[v]&&S!==u[v]&&C;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...p},!w.isActive&&x===null||!S&&!w.prevProp||V_(S)||typeof S=="boolean")continue;const A=bre(w.prevProp,S);let O=A||v===c&&w.isActive&&!T&&C||y>m&&C;const N=Array.isArray(S)?S:[S];let z=N.reduce(i,{});x===!1&&(z={});const{prevResolvedValues:ve={}}=w,ne={...ve,...z},le=xe=>{O=!0,f.delete(xe),w.needsAnimating[xe]=!0};for(const xe in ne){const me=z[xe],ye=ve[xe];p.hasOwnProperty(xe)||(me!==ye?Gv(me)&&Gv(ye)?!XF(me,ye)||A?le(xe):w.protectedKeys[xe]=!0:me!==void 0?le(xe):f.add(xe):me!==void 0&&f.has(xe)?le(xe):w.protectedKeys[xe]=!0)}w.prevProp=S,w.prevResolvedValues=z,w.isActive&&(p={...p,...z}),r&&t.blockInitialAnimation&&(O=!1),O&&!T&&h.push(...N.map(xe=>({animation:xe,options:{type:v,...l}})))}if(f.size){const y={};f.forEach(v=>{const w=t.getBaseTarget(v);w!==void 0&&(y[v]=w)}),h.push({animation:y})}let b=!!h.length;return r&&u.initial===!1&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(u,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function bre(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XF(e,t):!1}function ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wre(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class Sre extends ca{constructor(e){super(e),e.animationState||(e.animationState=_re(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),V_(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Ere=0;class Tre extends ca{constructor(){super(...arguments),this.id=Ere++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Cre={animation:{Feature:Sre},exit:{Feature:Tre}},OR=(t,e)=>Math.abs(t-e);function xre(t,e){const n=OR(t.x,e.x),r=OR(t.y,e.y);return Math.sqrt(n**2+r**2)}class PV{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=pw(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=xre(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:h}=c,{timestamp:f}=sn;this.history.push({...h,timestamp:f});const{onStart:p,onMove:m}=this.handlers;u||(p&&p(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=fw(u,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:h}=this.handlers,f=pw(c.type==="pointercancel"?this.lastMoveEventInfo:fw(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,f),h&&h(c,f)},!qF(e))return;this.handlers=n,this.transformPagePoint=r;const i=z_(e),s=fw(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=sn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,pw(s,this.history)),this.removeListeners=Mo(Ns(window,"pointermove",this.handlePointerMove),Ns(window,"pointerup",this.handlePointerUp),Ns(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bs(this.updatePoint)}}function fw(t,e){return e?{point:e(t.point)}:t}function DR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pw({point:t},e){return{point:t,delta:DR(t,RV(e)),offset:DR(t,Ire(e)),velocity:kre(e,.1)}}function Ire(t){return t[0]}function RV(t){return t[t.length-1]}function kre(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=RV(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$o(e)));)n--;if(!r)return{x:0,y:0};const s=Os(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Rr(t){return t.max-t.min}function A1(t,e=0,n=.01){return Math.abs(t-e)<=n}function MR(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=Rr(n)/Rr(e),(A1(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(A1(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Rh(t,e,n,r){MR(t.x,e.x,n.x,r?r.originX:void 0),MR(t.y,e.y,n.y,r?r.originY:void 0)}function $R(t,e,n){t.min=n.min+e.min,t.max=t.min+Rr(e)}function Are(t,e,n){$R(t.x,e.x,n.x),$R(t.y,e.y,n.y)}function LR(t,e,n){t.min=e.min-n.min,t.max=t.min+Rr(e)}function Nh(t,e,n){LR(t.x,e.x,n.x),LR(t.y,e.y,n.y)}function Pre(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function FR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Rre(t,{top:e,left:n,bottom:r,right:i}){return{x:FR(t.x,n,i),y:FR(t.y,e,r)}}function VR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Nre(t,e){return{x:VR(t.x,e.x),y:VR(t.y,e.y)}}function Ore(t,e){let n=.5;const r=Rr(t),i=Rr(e);return i>r?n=Ef(e.min,e.max-r,t.min):r>i&&(n=Ef(t.min,t.max-i,e.min)),Go(0,1,n)}function Dre(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const P1=.35;function Mre(t=P1){return t===!1?t=0:t===!0&&(t=P1),{x:jR(t,"left","right"),y:jR(t,"top","bottom")}}function jR(t,e,n){return{min:BR(t,e),max:BR(t,n)}}function BR(t,e){return typeof t=="number"?t:t[e]||0}const zR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mc=()=>({x:zR(),y:zR()}),UR=()=>({min:0,max:0}),Ht=()=>({x:UR(),y:UR()});function Oi(t){return[t("x"),t("y")]}function NV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function $re({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Lre(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mw(t){return t===void 0||t===1}function R1({scale:t,scaleX:e,scaleY:n}){return!mw(t)||!mw(e)||!mw(n)}function Ca(t){return R1(t)||OV(t)||t.z||t.rotate||t.rotateX||t.rotateY}function OV(t){return WR(t.x)||WR(t.y)}function WR(t){return t&&t!=="0%"}function Zv(t,e,n){const r=t-n,i=e*r;return n+i}function HR(t,e,n,r,i){return i!==void 0&&(t=Zv(t,i,r)),Zv(t,n,r)+e}function N1(t,e=0,n=1,r,i){t.min=HR(t.min,e,n,r,i),t.max=HR(t.max,e,n,r,i)}function DV(t,{x:e,y:n}){N1(t.x,e.translate,e.scale,e.originPoint),N1(t.y,n.translate,n.scale,n.originPoint)}function Fre(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$c(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,DV(t,o)),r&&Ca(s.latestValues)&&$c(t,s.latestValues))}e.x=qR(e.x),e.y=qR(e.y)}function qR(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function fo(t,e){t.min=t.min+e,t.max=t.max+e}function GR(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=It(t.min,t.max,s);N1(t,e[n],e[r],o,e.scale)}const Vre=["x","scaleX","originX"],jre=["y","scaleY","originY"];function $c(t,e){GR(t.x,e,Vre),GR(t.y,e,jre)}function MV(t,e){return NV(Lre(t.getBoundingClientRect(),e))}function Bre(t,e,n){const r=MV(t,n),{scroll:i}=e;return i&&(fo(r.x,i.offset.x),fo(r.y,i.offset.y)),r}const zre=new WeakMap;class Ure{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(z_(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:d,onDragStart:h}=this.getProps();if(u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=KF(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oi(p=>{let m=this.getAxisMotionValue(p).get()||0;if(Gi.test(m)){const{projection:b}=this.visualElement;if(b&&b.layout){const y=b.layout.layoutBox[p];y&&(m=Rr(y)*(parseFloat(m)/100))}}this.originPoint[p]=m}),h&&dt.update(()=>h(l,c),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:h,onDrag:f}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:p}=c;if(d&&this.currentDirection===null){this.currentDirection=Wre(p),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",c.point,p),this.updateAxis("y",c.point,p),this.visualElement.render(),f&&f(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new PV(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&dt.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!rg(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Pre(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Oc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Rre(r.layoutBox,e):this.constraints=!1,this.elastic=Mre(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Oi(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Dre(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Oc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Bre(r,i.root,this.visualElement.getTransformPagePoint());let o=Nre(i.layout.layoutBox,s);if(n){const a=n($re(o));this.hasMutatedConstraints=!!a,a&&(o=NV(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Oi(u=>{if(!rg(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(UC(e,r,0,n))}stopAnimation(){Oi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Oi(n=>{const{drag:r}=this.getProps();if(!rg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-It(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Oc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Oi(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Ore({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Oi(o=>{if(!rg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(It(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;zre.set(this.visualElement,this);const e=this.visualElement.current,n=Ns(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Oc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Cs(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Oi(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=P1,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function rg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Wre(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Hre extends ca{constructor(e){super(e),this.removeGroupControls=Ot,this.removeListeners=Ot,this.controls=new Ure(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const KR=t=>(e,n)=>{t&&dt.update(()=>t(e,n))};class qre extends ca{constructor(){super(...arguments),this.removePointerDownListener=Ot}onPointerDown(e){this.session=new PV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:KR(e),onStart:KR(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&dt.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ns(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $V(){const t=g.useContext(xp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=g.useId();return g.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function Gre(){return Kre(g.useContext(xp))}function Kre(t){return t===null?!0:t.isPresent}const Xg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const n=YR(t,e.target.x),r=YR(t,e.target.y);return`${n}% ${r}%`}},Yre={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ko.parse(t);if(i.length>5)return r;const s=Ko.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=It(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class Qre extends Cr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;nte(Xre),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Xg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||dt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LV(t){const[e,n]=$V(),r=g.useContext(AC);return Cr.createElement(Qre,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(RF),isPresent:e,safeToRemove:n})}const Xre={borderRadius:{...Bd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bd,borderTopRightRadius:Bd,borderBottomLeftRadius:Bd,borderBottomRightRadius:Bd,boxShadow:Yre},FV=["TopLeft","TopRight","BottomLeft","BottomRight"],Zre=FV.length,QR=t=>typeof t=="string"?parseFloat(t):t,XR=t=>typeof t=="number"||ue.test(t);function Jre(t,e,n,r,i,s){i?(t.opacity=It(0,n.opacity!==void 0?n.opacity:1,eie(r)),t.opacityExit=It(e.opacity!==void 0?e.opacity:1,0,tie(r))):s&&(t.opacity=It(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Zre;o++){const a=`border${FV[o]}Radius`;let l=ZR(e,a),c=ZR(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||XR(l)===XR(c)?(t[a]=Math.max(It(QR(l),QR(c),r),0),(Gi.test(c)||Gi.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function ZR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const eie=VV(0,.5,VC),tie=VV(.5,.95,Ot);function VV(t,e,n){return r=>r<t?0:r>e?1:n(Ef(t,e,r))}function JR(t,e){t.min=e.min,t.max=e.max}function zr(t,e){JR(t.x,e.x),JR(t.y,e.y)}function eN(t,e,n,r,i){return t-=e,t=Zv(t,1/n,r),i!==void 0&&(t=Zv(t,1/i,r)),t}function nie(t,e=0,n=1,r=.5,i,s=t,o=t){if(Gi.test(e)&&(e=parseFloat(e),e=It(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=It(s.min,s.max,r);t===s&&(a-=e),t.min=eN(t.min,e,n,a,i),t.max=eN(t.max,e,n,a,i)}function tN(t,e,[n,r,i],s,o){nie(t,e[n],e[r],e[i],e.scale,s,o)}const rie=["x","scaleX","originX"],iie=["y","scaleY","originY"];function nN(t,e,n,r){tN(t.x,e,rie,n?n.x:void 0,r?r.x:void 0),tN(t.y,e,iie,n?n.y:void 0,r?r.y:void 0)}function rN(t){return t.translate===0&&t.scale===1}function jV(t){return rN(t.x)&&rN(t.y)}function sie(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function BV(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function iN(t){return Rr(t.x)/Rr(t.y)}class oie{constructor(){this.members=[]}add(e){WC(this.members,e),e.scheduleRender()}remove(e){if(HC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sN(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const aie=(t,e)=>t.depth-e.depth;class lie{constructor(){this.children=[],this.isDirty=!1}add(e){WC(this.children,e),this.isDirty=!0}remove(e){HC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aie),this.isDirty=!1,this.children.forEach(e)}}function cie(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Bs(r),t(s-e))};return dt.read(r,!0),()=>Bs(r)}function uie(t){window.MotionDebug&&window.MotionDebug.record(t)}function die(t){return t instanceof SVGElement&&t.tagName!=="svg"}function hie(t,e,n){const r=gr(t)?t:Tu(t);return r.start(UC("",r,e,n)),r.animation}const oN=["","X","Y","Z"],aN=1e3;let fie=0;const xa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function zV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=fie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{xa.totalNodes=xa.resolvedTargetDeltas=xa.recalculatedProjection=0,this.nodes.forEach(gie),this.nodes.forEach(wie),this.nodes.forEach(Sie),this.nodes.forEach(vie),uie(xa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lie)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=die(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=cie(h,250),Xg.hasAnimatedSinceResize&&(Xg.hasAnimatedSinceResize=!1,this.nodes.forEach(cN))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||Iie,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!BV(this.targetLayout,p)||f,w=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const S={...CV(m,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||cN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Eie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lN);return}this.isUpdating||this.nodes.forEach(_ie),this.isUpdating=!1,this.nodes.forEach(bie),this.nodes.forEach(pie),this.nodes.forEach(mie),this.clearAllSnapshots();const a=performance.now();sn.delta=Go(0,1e3/60,a-sn.timestamp),sn.timestamp=a,sn.isProcessing=!0,sw.update.process(sn),sw.preRender.process(sn),sw.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(yie),this.sharedNodes.forEach(Tie)}scheduleUpdateProjection(){dt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!jV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Ca(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),kie(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ht();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(fo(a.x,l.offset.x),fo(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ht();zr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){zr(a,o);const{scroll:h}=this.root;h&&(fo(a.x,-h.offset.x),fo(a.y,-h.offset.y))}fo(a.x,u.offset.x),fo(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Ht();zr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&$c(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ca(u.latestValues)&&$c(l,u.latestValues)}return Ca(this.latestValues)&&$c(l,this.latestValues),l}removeTransform(o){const a=Ht();zr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ca(c.latestValues))continue;R1(c.latestValues)&&c.updateSnapshot();const u=Ht(),d=c.measurePageBox();zr(u,d),nN(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ca(this.latestValues)&&nN(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Nh(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Are(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zr(this.target,this.layout.layoutBox),DV(this.target,this.targetDelta)):zr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Nh(this.relativeTargetOrigin,this.target,f.target),zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||R1(this.parent.latestValues)||OV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;zr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Fre(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=Mc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Mc(),this.projectionDeltaWithTransform=Mc());const m=this.projectionTransform;Rh(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=sN(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),xa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Mc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ht(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=f!==p,b=this.getStack(),y=!b||b.members.length<=1,v=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(xie));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;uN(d.x,o.x,C),uN(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Cie(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&sie(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ht()),zr(w,this.relativeTarget)),m&&(this.animationValues=u,Jre(u,c,this.latestValues,C,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Xg.hasAnimatedSinceResize=!0,this.currentAnimation=hie(0,aN,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&UV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ht();const d=Rr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Rr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}zr(a,l),$c(a,u),Rh(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new oie),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<oN.length;u++){const d="rotate"+oN[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Qg(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Qg(o.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=sN(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:p}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Hv){if(h[m]===void 0)continue;const{correct:b,applyTo:y}=Hv[m],v=c.transform==="none"?h[m]:b(h[m],d);if(y){const w=y.length;for(let S=0;S<w;S++)c[y[S]]=v}else c[m]=v}return this.options.layoutId&&(c.pointerEvents=d===this?Qg(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(lN),this.root.sharedNodes.clear()}}}function pie(t){t.updateLayout()}function mie(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Oi(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Rr(h);h.min=r[d].min,h.max=h.min+f}):UV(s,n.layoutBox,r)&&Oi(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Rr(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Mc();Rh(a,r,n.layoutBox);const l=Mc();o?Rh(l,t.applyTransform(i,!0),n.measuredBox):Rh(l,r,n.layoutBox);const c=!jV(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const p=Ht();Nh(p,n.layoutBox,h.layoutBox);const m=Ht();Nh(m,r,f.layoutBox),BV(p,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function gie(t){xa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yie(t){t.clearSnapshot()}function lN(t){t.clearMeasurements()}function _ie(t){t.isLayoutDirty=!1}function bie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wie(t){t.resolveTargetDelta()}function Sie(t){t.calcProjection()}function Eie(t){t.resetRotation()}function Tie(t){t.removeLeadSnapshot()}function uN(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function dN(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function Cie(t,e,n,r){dN(t.x,e.x,n.x,r),dN(t.y,e.y,n.y,r)}function xie(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Iie={duration:.45,ease:[.4,0,.1,1]},hN=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),fN=hN("applewebkit/")&&!hN("chrome/")?Math.round:Ot;function pN(t){t.min=fN(t.min),t.max=fN(t.max)}function kie(t){pN(t.x),pN(t.y)}function UV(t,e,n){return t==="position"||t==="preserve-aspect"&&!A1(iN(e),iN(n),.2)}const Aie=zV({attachResizeListener:(t,e)=>Cs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gw={current:void 0},WV=zV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gw.current){const t=new Aie({});t.mount(window),t.setOptions({layoutScroll:!0}),gw.current=t}return gw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Pie={pan:{Feature:qre},drag:{Feature:Hre,ProjectionNode:WV,MeasureLayout:LV}},Rie=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Nie(t){const e=Rie.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function O1(t,e,n=1){const[r,i]=Nie(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return xV(o)?parseFloat(o):o}else return S1(i)?O1(i,e,n+1):i}function Oie(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!S1(s))return;const o=O1(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!S1(s))continue;const o=O1(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Die=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),HV=t=>Die.has(t),Mie=t=>Object.keys(t).some(HV),mN=t=>t===Ll||t===ue,gN=(t,e)=>parseFloat(t.split(", ")[e]),vN=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return gN(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?gN(s[1],t):0}},$ie=new Set(["x","y","z"]),Lie=Ip.filter(t=>!$ie.has(t));function Fie(t){const e=[];return Lie.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Cu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:vN(4,13),y:vN(5,14)};Cu.translateX=Cu.x;Cu.translateY=Cu.y;const Vie=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Cu[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Cu[c](l,s)}),t},jie=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(HV);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=jd(u);const h=e[l];let f;if(Gv(h)){const p=h.length,m=h[0]===null?1:0;u=h[m],d=jd(u);for(let b=m;b<p&&h[b]!==null;b++)f?FC(jd(h[b])===f):f=jd(h[b])}else f=jd(h);if(d!==f)if(mN(d)&&mN(f)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===ue&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(u===0||h===0)?u===0?c.set(f.transform(u)):e[l]=d.transform(h):(o||(s=Fie(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Vie(e,t,a);return s.length&&s.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),F_&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Bie(t,e,n,r){return Mie(e)?jie(t,e,n,r):{target:e,transitionEnd:r}}const zie=(t,e,n,r)=>{const i=Oie(t,e,r);return e=i.target,r=i.transitionEnd,Bie(t,e,n,r)},D1={current:null},qV={current:!1};function Uie(){if(qV.current=!0,!!F_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>D1.current=t.matches;t.addListener(e),e()}else D1.current=!1}function Wie(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(gr(s))t.addValue(i,s),Xv(r)&&r.add(i);else if(gr(o))t.addValue(i,Tu(s,{owner:t})),Xv(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Tu(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const yN=new WeakMap,GV=Object.keys(Sf),Hie=GV.length,_N=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qie=kC.length;class Gie{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>dt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=j_(n),this.isVariantNode=PF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];a[d]!==void 0&&gr(h)&&(h.set(a[d],!1),Xv(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,yN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qV.current||Uie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:D1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){yN.delete(this.current),this.projection&&this.projection.unmount(),Bs(this.notifyUpdate),Bs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=$l.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&dt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<Hie;l++){const c=GV[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:f}=Sf[c];h&&(o=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),f&&(a=f))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&Oc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_N.length;r++){const i=_N[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Wie(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<qie;r++){const i=kC[r],s=this.props[i];(wf(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Tu(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=LC(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!gr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class KV extends Gie{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=dre(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){cre(this,r,o);const a=zie(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Kie(t){return window.getComputedStyle(t)}class Yie extends KV{readValueFromInstance(e,n){if($l.has(n)){const r=zC(n);return r&&r.default||0}else{const r=Kie(e),i=(DF(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return MV(e,n)}build(e,n,r,i){RC(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return $C(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){jF(e,n,r,i)}}class Qie extends KV{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($l.has(n)){const r=zC(n);return r&&r.default||0}return n=BF.has(n)?n:MC(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ht()}scrapeMotionValuesFromProps(e,n){return UF(e,n)}build(e,n,r,i){OC(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){zF(e,n,r,i)}mount(e){this.isSVGTag=DC(e.tagName),super.mount(e)}}const Xie=(t,e)=>PC(t)?new Qie(e,{enableHardwareAcceleration:!1}):new Yie(e,{enableHardwareAcceleration:!0}),Zie={layout:{ProjectionNode:WV,MeasureLayout:LV}},Jie={...Cre,...Hte,...Pie,...Zie},Fl=ete((t,e)=>Nte(t,e,Jie,Xie));function YV(){const t=g.useRef(!1);return xC(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function ese(){const t=YV(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>dt.postRender(r),[r]),e]}class tse extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function nse({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),g.createElement(tse,{isPresent:e,childRef:r,sizeRef:i},g.cloneElement(t,{ref:r}))}const vw=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=WF(rse),l=g.useId(),c=g.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return g.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),g.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.createElement(nse,{isPresent:n},t)),g.createElement(xp.Provider,{value:c},t)};function rse(){return new Map}function ise(t){return g.useEffect(()=>()=>t(),[])}const uc=t=>t.key||"";function sse(t,e){t.forEach(n=>{const r=uc(n);e.set(r,n)})}function ose(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const id=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=g.useContext(AC).forceRender||ese()[0],l=YV(),c=ose(t);let u=c;const d=g.useRef(new Map).current,h=g.useRef(u),f=g.useRef(new Map).current,p=g.useRef(!0);if(xC(()=>{p.current=!1,sse(c,f),h.current=u}),ise(()=>{p.current=!0,f.clear(),d.clear()}),p.current)return g.createElement(g.Fragment,null,u.map(v=>g.createElement(vw,{key:uc(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},v)));u=[...u];const m=h.current.map(uc),b=c.map(uc),y=m.length;for(let v=0;v<y;v++){const w=m[v];b.indexOf(w)===-1&&!d.has(w)&&d.set(w,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((v,w)=>{if(b.indexOf(w)!==-1)return;const S=f.get(w);if(!S)return;const C=m.indexOf(w);let x=v;if(!x){const T=()=>{f.delete(w),d.delete(w);const A=h.current.findIndex(O=>O.key===w);if(h.current.splice(A,1),!d.size){if(h.current=c,l.current===!1)return;a(),r&&r()}};x=g.createElement(vw,{key:uc(S),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:s,mode:o},S),d.set(w,x)}u.splice(C,0,x)}),u=u.map(v=>{const w=v.key;return d.has(w)?v:g.createElement(vw,{key:uc(v),isPresent:!0,presenceAffectsLayout:s,mode:o},v)}),g.createElement(g.Fragment,null,d.size?u:u.map(v=>g.cloneElement(v)))};var ase={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},QV=g.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=ase,toastSpacing:u="0.5rem"}=t,[d,h]=g.useState(a),f=Gre();w1(()=>{f||r==null||r()},[f]),w1(()=>{h(a)},[a]);const p=()=>h(null),m=()=>h(a),b=()=>{f&&i()};g.useEffect(()=>{f&&s&&i()},[f,s,i]),Hee(b,d);const y=g.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:u,...l}),[l,u]),v=g.useMemo(()=>Uee(o),[o]);return _.jsx(Fl.div,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:p,onHoverEnd:m,custom:{position:o},style:v,children:_.jsx(X.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:y,children:To(n,{id:e,onClose:b})})})});QV.displayName="ToastComponent";var bN={path:_.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[_.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),_.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),_.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},$n=ee((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...c}=t,u=Ae("chakra-icon",a),d=Ii("Icon",t),h={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...d},f={ref:e,focusable:s,className:u,__css:h},p=r??bN.viewBox;if(n&&typeof n!="string")return _.jsx(X.svg,{as:n,...f,...c});const m=o??bN.path;return _.jsx(X.svg,{verticalAlign:"middle",viewBox:p,...f,...c,children:m})});$n.displayName="Icon";function lse(t){return _.jsx($n,{viewBox:"0 0 24 24",...t,children:_.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function cse(t){return _.jsx($n,{viewBox:"0 0 24 24",...t,children:_.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function wN(t){return _.jsx($n,{viewBox:"0 0 24 24",...t,children:_.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var use=g_({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),W_=ee((t,e)=>{const n=Ii("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=mn(t),c=Ae("chakra-spinner",a),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${use} ${s} linear infinite`,...n};return _.jsx(X.div,{ref:e,__css:u,className:c,...l,children:r&&_.jsx(X.span,{srOnly:!0,children:r})})});W_.displayName="Spinner";var[dse,GC]=yr({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[hse,KC]=yr({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),XV={info:{icon:cse,colorScheme:"blue"},warning:{icon:wN,colorScheme:"orange"},success:{icon:lse,colorScheme:"green"},error:{icon:wN,colorScheme:"red"},loading:{icon:W_,colorScheme:"blue"}};function fse(t){return XV[t].colorScheme}function pse(t){return XV[t].icon}var ZV=ee(function(e,n){const r=KC(),{status:i}=GC(),s={display:"inline",...r.description};return _.jsx(X.div,{ref:n,"data-status":i,...e,className:Ae("chakra-alert__desc",e.className),__css:s})});ZV.displayName="AlertDescription";function JV(t){const{status:e}=GC(),n=pse(e),r=KC(),i=e==="loading"?r.spinner:r.icon;return _.jsx(X.span,{display:"inherit","data-status":e,...t,className:Ae("chakra-alert__icon",t.className),__css:i,children:t.children||_.jsx(n,{h:"100%",w:"100%"})})}JV.displayName="AlertIcon";var ej=ee(function(e,n){const r=KC(),{status:i}=GC();return _.jsx(X.div,{ref:n,"data-status":i,...e,className:Ae("chakra-alert__title",e.className),__css:r.title})});ej.displayName="AlertTitle";var tj=ee(function(e,n){var r;const{status:i="info",addRole:s=!0,...o}=mn(e),a=(r=e.colorScheme)!=null?r:fse(i),l=Qs("Alert",{...e,colorScheme:a}),c={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return _.jsx(dse,{value:{status:i},children:_.jsx(hse,{value:l,children:_.jsx(X.div,{"data-status":i,role:s?"alert":void 0,ref:n,...o,className:Ae("chakra-alert",e.className),__css:c})})})});tj.displayName="Alert";function mse(t){return _.jsx($n,{focusable:"false","aria-hidden":!0,...t,children:_.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var YC=ee(function(e,n){const r=Ii("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=mn(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return _.jsx(X.button,{type:"button","aria-label":"Close",ref:n,disabled:s,__css:{...l,...r,...o},...a,children:i||_.jsx(mse,{width:"1em",height:"1em"})})});YC.displayName="CloseButton";var gse={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},Oh=vse(gse);function vse(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=yse(i,s),{position:a,id:l}=o;return r(c=>{var u,d;const f=a.includes("top")?[o,...(u=c[a])!=null?u:[]]:[...(d=c[a])!=null?d:[],o];return{...c,[a]:f}}),l},update:(i,s)=>{i&&r(o=>{const a={...o},{position:l,index:c}=mR(a,i);return l&&c!==-1&&(a[l][c]={...a[l][c],...s,message:bse(s)}),a})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,c)=>(l[c]=s[c].map(u=>({...u,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const o=IF(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>!!mR(Oh.getState(),i).position}}var SN=0;function yse(t,e={}){var n,r;SN+=1;const i=(n=e.id)!=null?n:SN,s=(r=e.position)!=null?r:"bottom";return{id:i,message:t,position:s,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>Oh.removeToast(String(i),s),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var _se=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:s,onClose:o,description:a,colorScheme:l,icon:c}=t,u=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return _.jsxs(tj,{addRole:!1,status:e,variant:n,id:u==null?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[_.jsx(JV,{children:c}),_.jsxs(X.div,{flex:"1",maxWidth:"100%",children:[i&&_.jsx(ej,{id:u==null?void 0:u.title,children:i}),a&&_.jsx(ZV,{id:u==null?void 0:u.description,display:"block",children:a})]}),s&&_.jsx(YC,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function bse(t={}){const{render:e,toastComponent:n=_se}=t;return i=>typeof e=="function"?e({...i,...t}):_.jsx(n,{...i,...t})}var[wse,pPe]=yr({name:"ToastOptionsContext",strict:!1}),Sse=t=>{const e=g.useSyncExternalStore(Oh.subscribe,Oh.getState,Oh.getState),{motionVariants:n,component:r=QV,portalProps:i}=t,o=Object.keys(e).map(a=>{const l=e[a];return _.jsx("div",{role:"region","aria-live":"polite","aria-label":"Notifications",id:`chakra-toast-manager-${a}`,style:Wee(a),children:_.jsx(id,{initial:!1,children:l.map(c=>_.jsx(r,{motionVariants:n,...c},c.id))})},a)});return _.jsx(rd,{...i,children:o})},Ese=t=>function({children:n,theme:r=t,toastOptions:i,...s}){return _.jsxs(Bee,{theme:r,...s,children:[_.jsx(wse,{value:i==null?void 0:i.defaultOptions,children:n}),_.jsx(Sse,{...i})]})},Tse=Ese(cee);function Cse(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function ns(...t){return e=>{t.forEach(n=>{Cse(n,e)})}}function xse(...t){return g.useMemo(()=>ns(...t),t)}var EN={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Xa={enter:{duration:.2,ease:EN.easeOut},exit:{duration:.1,ease:EN.easeIn}},Za={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},Ise={enter:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:1,transition:(r=t==null?void 0:t.enter)!=null?r:Za.enter(Xa.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:0,transition:(r=t==null?void 0:t.exit)!=null?r:Za.exit(Xa.exit,n),transitionEnd:e==null?void 0:e.exit}}},nj={initial:"exit",animate:"enter",exit:"exit",variants:Ise},kse=g.forwardRef(function(e,n){const{unmountOnExit:r,in:i,className:s,transition:o,transitionEnd:a,delay:l,...c}=e,u=i||r?"enter":"exit",d=r?i&&r:!0,h={transition:o,transitionEnd:a,delay:l};return _.jsx(id,{custom:h,children:d&&_.jsx(Fl.div,{ref:n,className:Ae("chakra-fade",s),custom:h,...nj,animate:u,...c})})});kse.displayName="Fade";var Ase={exit:({reverse:t,initialScale:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{opacity:0,...t?{scale:e,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:e,...r==null?void 0:r.exit}},transition:(s=n==null?void 0:n.exit)!=null?s:Za.exit(Xa.exit,i)}},enter:({transitionEnd:t,transition:e,delay:n})=>{var r;return{opacity:1,scale:1,transition:(r=e==null?void 0:e.enter)!=null?r:Za.enter(Xa.enter,n),transitionEnd:t==null?void 0:t.enter}}},rj={initial:"exit",animate:"enter",exit:"exit",variants:Ase},Pse=g.forwardRef(function(e,n){const{unmountOnExit:r,in:i,reverse:s=!0,initialScale:o=.95,className:a,transition:l,transitionEnd:c,delay:u,...d}=e,h=r?i&&r:!0,f=i||r?"enter":"exit",p={initialScale:o,reverse:s,transition:l,transitionEnd:c,delay:u};return _.jsx(id,{custom:p,children:h&&_.jsx(Fl.div,{ref:n,className:Ae("chakra-offset-slide",a),...rj,animate:f,custom:p,...d})})});Pse.displayName="ScaleFade";var Rse={initial:({offsetX:t,offsetY:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{opacity:0,x:t,y:e,transition:(s=n==null?void 0:n.exit)!=null?s:Za.exit(Xa.exit,i),transitionEnd:r==null?void 0:r.exit}},enter:({transition:t,transitionEnd:e,delay:n})=>{var r;return{opacity:1,x:0,y:0,transition:(r=t==null?void 0:t.enter)!=null?r:Za.enter(Xa.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({offsetY:t,offsetX:e,transition:n,transitionEnd:r,reverse:i,delay:s})=>{var o;const a={x:e,y:t};return{opacity:0,transition:(o=n==null?void 0:n.exit)!=null?o:Za.exit(Xa.exit,s),...i?{...a,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...a,...r==null?void 0:r.exit}}}}},lh={initial:"initial",animate:"enter",exit:"exit",variants:Rse},Nse=g.forwardRef(function(e,n){const{unmountOnExit:r,in:i,reverse:s=!0,className:o,offsetX:a=0,offsetY:l=8,transition:c,transitionEnd:u,delay:d,...h}=e,f=r?i&&r:!0,p=i||r?"enter":"exit",m={offsetX:a,offsetY:l,reverse:s,transition:c,transitionEnd:u,delay:d};return _.jsx(id,{custom:m,children:f&&_.jsx(Fl.div,{ref:n,className:Ae("chakra-offset-slide",o),custom:m,...lh,animate:p,...h})})});Nse.displayName="SlideFade";function ij(t){return g.Children.toArray(t).filter(e=>g.isValidElement(e))}var[mPe,Ose]=yr({strict:!1,name:"ButtonGroupContext"});function Dse(t){const[e,n]=g.useState(!t);return{ref:g.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}function M1(t){const{children:e,className:n,...r}=t,i=g.isValidElement(e)?g.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=Ae("chakra-button__icon",n);return _.jsx(X.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}M1.displayName="ButtonIcon";function $1(t){const{label:e,placement:n,spacing:r="0.5rem",children:i=_.jsx(W_,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:o,...a}=t,l=Ae("chakra-button__spinner",s),c=n==="start"?"marginEnd":"marginStart",u=g.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[c]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,c,r]);return _.jsx(X.div,{className:l,...a,__css:u,children:i})}$1.displayName="ButtonSpinner";var Dh=ee((t,e)=>{const n=Ose(),r=Ii("Button",{...n,...t}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:s,isActive:o,children:a,leftIcon:l,rightIcon:c,loadingText:u,iconSpacing:d="0.5rem",type:h,spinner:f,spinnerPlacement:p="start",className:m,as:b,...y}=mn(t),v=g.useMemo(()=>{const x={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:x}}},[r,n]),{ref:w,type:S}=Dse(b),C={rightIcon:c,leftIcon:l,iconSpacing:d,children:a};return _.jsxs(X.button,{ref:xse(e,w),as:b,type:h??S,"data-active":Ye(o),"data-loading":Ye(s),__css:v,className:Ae("chakra-button",m),...y,disabled:i||s,children:[s&&p==="start"&&_.jsx($1,{className:"chakra-button__spinner--start",label:u,placement:"start",spacing:d,children:f}),s?u||_.jsx(X.span,{opacity:0,children:_.jsx(TN,{...C})}):_.jsx(TN,{...C}),s&&p==="end"&&_.jsx($1,{className:"chakra-button__spinner--end",label:u,placement:"end",spacing:d,children:f})]})});Dh.displayName="Button";function TN(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i}=t;return _.jsxs(_.Fragment,{children:[e&&_.jsx(M1,{marginEnd:i,children:e}),r,n&&_.jsx(M1,{marginStart:i,children:n})]})}var Rp=ee((t,e)=>{const{icon:n,children:r,isRound:i,"aria-label":s,...o}=t,a=n||r,l=g.isValidElement(a)?g.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return _.jsx(Dh,{padding:"0",borderRadius:i?"full":void 0,ref:e,"aria-label":s,...o,children:l})});Rp.displayName="IconButton";var[gPe,Mse]=yr({name:"CheckboxGroupContext",strict:!1});function $se(t){const[e,n]=g.useState(t),[r,i]=g.useState(!1);return t!==e&&(i(!0),n(t)),r}function Lse(t){return _.jsx(X.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:_.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function Fse(t){return _.jsx(X.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t,children:_.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Vse(t){const{isIndeterminate:e,isChecked:n,...r}=t,i=e?Fse:Lse;return n||e?_.jsx(X.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:_.jsx(i,{...r})}):null}var[jse,sj]=yr({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[Bse,sd]=yr({strict:!1,name:"FormControlContext"});function zse(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:s,...o}=t,a=g.useId(),l=e||`field-${a}`,c=`${l}-label`,u=`${l}-feedback`,d=`${l}-helptext`,[h,f]=g.useState(!1),[p,m]=g.useState(!1),[b,y]=g.useState(!1),v=g.useCallback((T={},A=null)=>({id:d,...T,ref:ns(A,O=>{O&&m(!0)})}),[d]),w=g.useCallback((T={},A=null)=>({...T,ref:A,"data-focus":Ye(b),"data-disabled":Ye(i),"data-invalid":Ye(r),"data-readonly":Ye(s),id:T.id!==void 0?T.id:c,htmlFor:T.htmlFor!==void 0?T.htmlFor:l}),[l,i,b,r,s,c]),S=g.useCallback((T={},A=null)=>({id:u,...T,ref:ns(A,O=>{O&&f(!0)}),"aria-live":"polite"}),[u]),C=g.useCallback((T={},A=null)=>({...T,...o,ref:A,role:"group"}),[o]),x=g.useCallback((T={},A=null)=>({...T,ref:A,role:"presentation","aria-hidden":!0,children:T.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!i,isFocused:!!b,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:h,setHasFeedbackText:f,hasHelpText:p,setHasHelpText:m,id:l,labelId:c,feedbackId:u,helpTextId:d,htmlProps:o,getHelpTextProps:v,getErrorMessageProps:S,getRootProps:C,getLabelProps:w,getRequiredIndicatorProps:x}}var Yo=ee(function(e,n){const r=Qs("Form",e),i=mn(e),{getRootProps:s,htmlProps:o,...a}=zse(i),l=Ae("chakra-form-control",e.className);return _.jsx(Bse,{value:a,children:_.jsx(jse,{value:r,children:_.jsx(X.div,{...s({},n),className:l,__css:r.container})})})});Yo.displayName="FormControl";var oj=ee(function(e,n){const r=sd(),i=sj(),s=Ae("chakra-form__helper-text",e.className);return _.jsx(X.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:i.helperText,className:s})});oj.displayName="FormHelperText";var[Use,Wse]=yr({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),aj=ee((t,e)=>{const n=Qs("FormError",t),r=mn(t),i=sd();return i!=null&&i.isInvalid?_.jsx(Use,{value:n,children:_.jsx(X.div,{...i==null?void 0:i.getErrorMessageProps(r,e),className:Ae("chakra-form__error-message",t.className),__css:{display:"flex",alignItems:"center",...n.text}})}):null});aj.displayName="FormErrorMessage";var Hse=ee((t,e)=>{const n=Wse(),r=sd();if(!(r!=null&&r.isInvalid))return null;const i=Ae("chakra-form__error-icon",t.className);return _.jsx($n,{ref:e,"aria-hidden":!0,...t,__css:n.icon,className:i,children:_.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});Hse.displayName="FormErrorIcon";var fl=ee(function(e,n){var r;const i=Ii("FormLabel",e),s=mn(e),{className:o,children:a,requiredIndicator:l=_.jsx(lj,{}),optionalIndicator:c=null,...u}=s,d=sd(),h=(r=d==null?void 0:d.getLabelProps(u,n))!=null?r:{ref:n,...u};return _.jsxs(X.label,{...h,className:Ae("chakra-form__label",s.className),__css:{display:"block",textAlign:"start",...i},children:[a,d!=null&&d.isRequired?l:c]})});fl.displayName="FormLabel";var lj=ee(function(e,n){const r=sd(),i=sj();if(!(r!=null&&r.isRequired))return null;const s=Ae("chakra-form__required-indicator",e.className);return _.jsx(X.span,{...r==null?void 0:r.getRequiredIndicatorProps(e,n),__css:i.requiredIndicator,className:s})});lj.displayName="RequiredIndicator";function QC(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:i,...s}=cj(t);return{...s,disabled:e,readOnly:r,required:i,"aria-invalid":jb(n),"aria-required":jb(i),"aria-readonly":jb(r)}}function cj(t){var e,n,r;const i=sd(),{id:s,disabled:o,readOnly:a,required:l,isRequired:c,isInvalid:u,isReadOnly:d,isDisabled:h,onFocus:f,onBlur:p,...m}=t,b=t["aria-describedby"]?[t["aria-describedby"]]:[];return i!=null&&i.hasFeedbackText&&(i!=null&&i.isInvalid)&&b.push(i.feedbackId),i!=null&&i.hasHelpText&&b.push(i.helpTextId),{...m,"aria-describedby":b.join(" ")||void 0,id:s??(i==null?void 0:i.id),isDisabled:(e=o??h)!=null?e:i==null?void 0:i.isDisabled,isReadOnly:(n=a??d)!=null?n:i==null?void 0:i.isReadOnly,isRequired:(r=l??c)!=null?r:i==null?void 0:i.isRequired,isInvalid:u??(i==null?void 0:i.isInvalid),onFocus:Tt(i==null?void 0:i.onFocus,f),onBlur:Tt(i==null?void 0:i.onBlur,p)}}var qse={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Gse=()=>typeof document<"u",CN=!1,Np=null,pl=!1,L1=!1,F1=new Set;function XC(t,e){F1.forEach(n=>n(t,e))}var Kse=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function Yse(t){return!(t.metaKey||!Kse&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function xN(t){pl=!0,Yse(t)&&(Np="keyboard",XC("keyboard",t))}function rc(t){if(Np="pointer",t.type==="mousedown"||t.type==="pointerdown"){pl=!0;const e=t.composedPath?t.composedPath()[0]:t.target;let n=!1;try{n=e.matches(":focus-visible")}catch{}if(n)return;XC("pointer",t)}}function Qse(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function Xse(t){Qse(t)&&(pl=!0,Np="virtual")}function Zse(t){t.target===window||t.target===document||(!pl&&!L1&&(Np="virtual",XC("virtual",t)),pl=!1,L1=!1)}function Jse(){pl=!1,L1=!0}function IN(){return Np!=="pointer"}function eoe(){if(!Gse()||CN)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){pl=!0,t.apply(this,n)},document.addEventListener("keydown",xN,!0),document.addEventListener("keyup",xN,!0),document.addEventListener("click",Xse,!0),window.addEventListener("focus",Zse,!0),window.addEventListener("blur",Jse,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",rc,!0),document.addEventListener("pointermove",rc,!0),document.addEventListener("pointerup",rc,!0)):(document.addEventListener("mousedown",rc,!0),document.addEventListener("mousemove",rc,!0),document.addEventListener("mouseup",rc,!0)),CN=!0}function toe(t){eoe(),t(IN());const e=()=>t(IN());return F1.add(e),()=>{F1.delete(e)}}function noe(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function roe(t={}){const e=cj(t),{isDisabled:n,isReadOnly:r,isRequired:i,isInvalid:s,id:o,onBlur:a,onFocus:l,"aria-describedby":c}=e,{defaultChecked:u,isChecked:d,isFocusable:h,onChange:f,isIndeterminate:p,name:m,value:b,tabIndex:y=void 0,"aria-label":v,"aria-labelledby":w,"aria-invalid":S,...C}=t,x=noe(C,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),T=Qa(f),A=Qa(a),O=Qa(l),[N,z]=g.useState(!1),[ve,ne]=g.useState(!1),[le,xe]=g.useState(!1),[me,ye]=g.useState(!1);g.useEffect(()=>toe(z),[]);const $=g.useRef(null),[U,J]=g.useState(!0),[Y,ae]=g.useState(!!u),ce=d!==void 0,fe=ce?d:Y,Ie=g.useCallback(Se=>{if(r||n){Se.preventDefault();return}ce||ae(fe?Se.target.checked:p?!0:Se.target.checked),T==null||T(Se)},[r,n,fe,ce,p,T]);Wa(()=>{$.current&&($.current.indeterminate=!!p)},[p]),w1(()=>{n&&ne(!1)},[n,ne]),Wa(()=>{const Se=$.current;if(!(Se!=null&&Se.form))return;const Zt=()=>{ae(!!u)};return Se.form.addEventListener("reset",Zt),()=>{var vn;return(vn=Se.form)==null?void 0:vn.removeEventListener("reset",Zt)}},[]);const De=n&&!h,Be=g.useCallback(Se=>{Se.key===" "&&ye(!0)},[ye]),tt=g.useCallback(Se=>{Se.key===" "&&ye(!1)},[ye]);Wa(()=>{if(!$.current)return;$.current.checked!==fe&&ae($.current.checked)},[$.current]);const Lt=g.useCallback((Se={},Zt=null)=>{const vn=ki=>{ve&&ki.preventDefault(),ye(!0)};return{...Se,ref:Zt,"data-active":Ye(me),"data-hover":Ye(le),"data-checked":Ye(fe),"data-focus":Ye(ve),"data-focus-visible":Ye(ve&&N),"data-indeterminate":Ye(p),"data-disabled":Ye(n),"data-invalid":Ye(s),"data-readonly":Ye(r),"aria-hidden":!0,onMouseDown:Tt(Se.onMouseDown,vn),onMouseUp:Tt(Se.onMouseUp,()=>ye(!1)),onMouseEnter:Tt(Se.onMouseEnter,()=>xe(!0)),onMouseLeave:Tt(Se.onMouseLeave,()=>xe(!1))}},[me,fe,n,ve,N,le,p,s,r]),Ut=g.useCallback((Se={},Zt=null)=>({...Se,ref:Zt,"data-active":Ye(me),"data-hover":Ye(le),"data-checked":Ye(fe),"data-focus":Ye(ve),"data-focus-visible":Ye(ve&&N),"data-indeterminate":Ye(p),"data-disabled":Ye(n),"data-invalid":Ye(s),"data-readonly":Ye(r)}),[me,fe,n,ve,N,le,p,s,r]),Pt=g.useCallback((Se={},Zt=null)=>({...x,...Se,ref:ns(Zt,vn=>{vn&&J(vn.tagName==="LABEL")}),onClick:Tt(Se.onClick,()=>{var vn;U||((vn=$.current)==null||vn.click(),requestAnimationFrame(()=>{var ki;(ki=$.current)==null||ki.focus({preventScroll:!0})}))}),"data-disabled":Ye(n),"data-checked":Ye(fe),"data-invalid":Ye(s)}),[x,n,fe,s,U]),ze=g.useCallback((Se={},Zt=null)=>({...Se,ref:ns($,Zt),type:"checkbox",name:m,value:b,id:o,tabIndex:y,onChange:Tt(Se.onChange,Ie),onBlur:Tt(Se.onBlur,A,()=>ne(!1)),onFocus:Tt(Se.onFocus,O,()=>ne(!0)),onKeyDown:Tt(Se.onKeyDown,Be),onKeyUp:Tt(Se.onKeyUp,tt),required:i,checked:fe,disabled:De,readOnly:r,"aria-label":v,"aria-labelledby":w,"aria-invalid":S?!!S:s,"aria-describedby":c,"aria-disabled":n,style:qse}),[m,b,o,Ie,A,O,Be,tt,i,fe,De,r,v,w,S,s,c,n,y]),Ft=g.useCallback((Se={},Zt=null)=>({...Se,ref:Zt,onMouseDown:Tt(Se.onMouseDown,ioe),"data-disabled":Ye(n),"data-checked":Ye(fe),"data-invalid":Ye(s)}),[fe,n,s]);return{state:{isInvalid:s,isFocused:ve,isChecked:fe,isActive:me,isHovered:le,isIndeterminate:p,isDisabled:n,isReadOnly:r,isRequired:i},getRootProps:Pt,getCheckboxProps:Lt,getIndicatorProps:Ut,getInputProps:ze,getLabelProps:Ft,htmlProps:x}}function ioe(t){t.preventDefault(),t.stopPropagation()}var soe={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},ooe={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},aoe=g_({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),loe=g_({from:{opacity:0},to:{opacity:1}}),coe=g_({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),uj=ee(function(e,n){const r=Mse(),i={...r,...e},s=Qs("Checkbox",i),o=mn(e),{spacing:a="0.5rem",className:l,children:c,iconColor:u,iconSize:d,icon:h=_.jsx(Vse,{}),isChecked:f,isDisabled:p=r==null?void 0:r.isDisabled,onChange:m,inputProps:b,...y}=o;let v=f;r!=null&&r.value&&o.value&&(v=r.value.includes(o.value));let w=m;r!=null&&r.onChange&&o.value&&(w=Tq(r.onChange,m));const{state:S,getInputProps:C,getCheckboxProps:x,getLabelProps:T,getRootProps:A}=roe({...y,isDisabled:p,isChecked:v,onChange:w}),O=$se(S.isChecked),N=g.useMemo(()=>({animation:O?S.isIndeterminate?`${loe} 20ms linear, ${coe} 200ms linear`:`${aoe} 200ms linear`:void 0,fontSize:d,color:u,...s.icon}),[u,d,O,S.isIndeterminate,s.icon]),z=g.cloneElement(h,{__css:N,isIndeterminate:S.isIndeterminate,isChecked:S.isChecked});return _.jsxs(X.label,{__css:{...ooe,...s.container},className:Ae("chakra-checkbox",l),...A(),children:[_.jsx("input",{className:"chakra-checkbox__input",...C(b,n)}),_.jsx(X.span,{__css:{...soe,...s.control},className:"chakra-checkbox__control",...x(),children:z}),c&&_.jsx(X.span,{className:"chakra-checkbox__label",...T(),__css:{marginStart:a,...s.label},children:c})]})});uj.displayName="Checkbox";function yw(t,e,n,r){const i=Qa(n);return g.useEffect(()=>{const s=typeof t=="function"?t():t??document;if(!(!n||!s))return s.addEventListener(e,i,r),()=>{s.removeEventListener(e,i,r)}},[e,t,r,i,n]),()=>{const s=typeof t=="function"?t():t??document;s==null||s.removeEventListener(e,i,r)}}function uoe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var V1="data-focus-lock",dj="data-focus-lock-disabled",doe="data-no-focus-lock",hoe="data-autofocus-inside",foe="data-no-autofocus";function poe(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function moe(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}function hj(t,e){return moe(e||null,function(n){return t.forEach(function(r){return poe(r,n)})})}var _w={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Fi=function(){return Fi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fi.apply(this,arguments)};function Op(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function goe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function fj(t){return t}function pj(t,e){e===void 0&&(e=fj);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function ZC(t,e){return e===void 0&&(e=fj),pj(t,e)}function mj(t){t===void 0&&(t={});var e=pj(null);return e.options=Fi({async:!0,ssr:!1},t),e}var gj=function(t){var e=t.sideCar,n=Op(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Fi({},n))};gj.isSideCarExport=!0;function voe(t,e){return t.useMedium(e),gj}var vj=ZC({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),yj=ZC(),yoe=ZC(),_oe=mj({async:!0}),boe=[],JC=g.forwardRef(function(e,n){var r,i=g.useState(),s=i[0],o=i[1],a=g.useRef(),l=g.useRef(!1),c=g.useRef(null),u=e.children,d=e.disabled,h=e.noFocusGuards,f=e.persistentFocus,p=e.crossFrame,m=e.autoFocus;e.allowTextSelection;var b=e.group,y=e.className,v=e.whiteList,w=e.hasPositiveIndices,S=e.shards,C=S===void 0?boe:S,x=e.as,T=x===void 0?"div":x,A=e.lockProps,O=A===void 0?{}:A,N=e.sideCar,z=e.returnFocus,ve=e.focusOptions,ne=e.onActivation,le=e.onDeactivation,xe=g.useState({}),me=xe[0],ye=g.useCallback(function(){c.current=c.current||document&&document.activeElement,a.current&&ne&&ne(a.current),l.current=!0},[ne]),$=g.useCallback(function(){l.current=!1,le&&le(a.current)},[le]);g.useEffect(function(){d||(c.current=null)},[]);var U=g.useCallback(function(Be){var tt=c.current;if(tt&&tt.focus){var Lt=typeof z=="function"?z(tt):z;if(Lt){var Ut=typeof Lt=="object"?Lt:void 0;c.current=null,Be?Promise.resolve().then(function(){return tt.focus(Ut)}):tt.focus(Ut)}}},[z]),J=g.useCallback(function(Be){l.current&&vj.useMedium(Be)},[]),Y=yj.useMedium,ae=g.useCallback(function(Be){a.current!==Be&&(a.current=Be,o(Be))},[]),ce=al((r={},r[dj]=d&&"disabled",r[V1]=b,r),O),fe=h!==!0,Ie=fe&&h!=="tail",De=hj([n,ae]);return g.createElement(g.Fragment,null,fe&&[g.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:_w}),w?g.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:_w}):null],!d&&g.createElement(N,{id:me,sideCar:_oe,observed:s,disabled:d,persistentFocus:f,crossFrame:p,autoFocus:m,whiteList:v,shards:C,onActivation:ye,onDeactivation:$,returnFocus:U,focusOptions:ve}),g.createElement(T,al({ref:De},ce,{className:y,onBlur:Y,onFocus:J}),u),Ie&&g.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:_w}))});JC.propTypes={};JC.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const _j=JC;function j1(t,e){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j1(t,e)}function woe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,j1(t,e)}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function Soe(t,e){if(Tf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eoe(t){var e=Soe(t,"string");return Tf(e)==="symbol"?e:String(e)}function Toe(t,e,n){return e=Eoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Coe(t,e){function n(r){return r.displayName||r.name||"Component"}return function(i){var s=[],o;function a(){o=t(s.map(function(c){return c.props})),e(o)}var l=function(c){woe(u,c);function u(){return c.apply(this,arguments)||this}u.peek=function(){return o};var d=u.prototype;return d.componentDidMount=function(){s.push(this),a()},d.componentDidUpdate=function(){a()},d.componentWillUnmount=function(){var f=s.indexOf(this);s.splice(f,1),a()},d.render=function(){return Cr.createElement(i,this.props)},u}(g.PureComponent);return Toe(l,"displayName","SideEffect("+n(i)+")"),l}}var cs=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},Jv=function(t){return Array.isArray(t)?t:[t]},bj=function(t){return Array.isArray(t)?t[0]:t},xoe=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},wj=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},Sj=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},Ioe=function(t,e){return!t||Sj(t)||!xoe(t)&&e(wj(t))},Ej=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=Ioe(e,Ej.bind(void 0,t));return t.set(e,r),r},koe=function(t,e){return t&&!Sj(t)?Roe(t)?e(wj(t)):!1:!0},Tj=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=koe(e,Tj.bind(void 0,t));return t.set(e,r),r},Cj=function(t){return t.dataset},Aoe=function(t){return t.tagName==="BUTTON"},xj=function(t){return t.tagName==="INPUT"},Ij=function(t){return xj(t)&&t.type==="radio"},Poe=function(t){return!((xj(t)||Aoe(t))&&(t.type==="hidden"||t.disabled))},Roe=function(t){var e=t.getAttribute(foe);return![!0,"true",""].includes(e)},ex=function(t){var e;return!!(t&&(!((e=Cj(t))===null||e===void 0)&&e.focusGuard))},ey=function(t){return!ex(t)},Noe=function(t){return!!t},Ooe=function(t,e){var n=t.tabIndex-e.tabIndex,r=t.index-e.index;if(n){if(!t.tabIndex)return 1;if(!e.tabIndex)return-1}return n||r},kj=function(t,e,n){return cs(t).map(function(r,i){return{node:r,index:i,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!e||r.tabIndex>=0}).sort(Ooe)},Doe=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],tx=Doe.join(","),Moe="".concat(tx,", [data-focus-guard]"),Aj=function(t,e){return cs((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?Moe:tx)?[r]:[],Aj(r))},[])},$oe=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?H_([t.contentDocument.body],e):[t]},H_=function(t,e){return t.reduce(function(n,r){var i,s=Aj(r,e),o=(i=[]).concat.apply(i,s.map(function(a){return $oe(a,e)}));return n.concat(o,r.parentNode?cs(r.parentNode.querySelectorAll(tx)).filter(function(a){return a===r}):[])},[])},Loe=function(t){var e=t.querySelectorAll("[".concat(hoe,"]"));return cs(e).map(function(n){return H_([n])}).reduce(function(n,r){return n.concat(r)},[])},nx=function(t,e){return cs(t).filter(function(n){return Ej(e,n)}).filter(function(n){return Poe(n)})},kN=function(t,e){return e===void 0&&(e=new Map),cs(t).filter(function(n){return Tj(e,n)})},B1=function(t,e,n){return kj(nx(H_(t,n),e),!0,n)},AN=function(t,e){return kj(nx(H_(t),e),!1)},Foe=function(t,e){return nx(Loe(t),e)},eu=function(t,e){return t.shadowRoot?eu(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:cs(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?eu(i,e):!1}return eu(n,e)})},Voe=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var s=t[r].compareDocumentPosition(t[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},Pj=function(t){return t.parentNode?Pj(t.parentNode):t},rx=function(t){var e=Jv(t);return e.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(V1);return n.push.apply(n,i?Voe(cs(Pj(r).querySelectorAll("[".concat(V1,'="').concat(i,'"]:not([').concat(dj,'="disabled"])')))):[r]),n},[])},joe=function(t){try{return t()}catch{return}},Cf=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?Cf(e.shadowRoot):e instanceof HTMLIFrameElement&&joe(function(){return e.contentWindow.document})?Cf(e.contentWindow.document):e}},Boe=function(t,e){return t===e},zoe=function(t,e){return!!cs(t.querySelectorAll("iframe")).some(function(n){return Boe(n,e)})},Rj=function(t,e){return e===void 0&&(e=Cf(bj(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:rx(t).some(function(n){return eu(n,e)||zoe(n,e)})},Uoe=function(t){t===void 0&&(t=document);var e=Cf(t);return e?cs(t.querySelectorAll("[".concat(doe,"]"))).some(function(n){return eu(n,e)}):!1},Woe=function(t,e){return e.filter(Ij).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},ix=function(t,e){return Ij(t)&&t.name?Woe(t,e):t},Hoe=function(t){var e=new Set;return t.forEach(function(n){return e.add(ix(n,t))}),t.filter(function(n){return e.has(n)})},PN=function(t){return t[0]&&t.length>1?ix(t[0],t):t[0]},RN=function(t,e){return t.length>1?t.indexOf(ix(t[e],t)):e},Nj="NEW_FOCUS",qoe=function(t,e,n,r){var i=t.length,s=t[0],o=t[i-1],a=ex(n);if(!(n&&t.indexOf(n)>=0)){var l=n!==void 0?e.indexOf(n):-1,c=r?e.indexOf(r):l,u=r?t.indexOf(r):-1,d=l-c,h=e.indexOf(s),f=e.indexOf(o),p=Hoe(e),m=n!==void 0?p.indexOf(n):-1,b=m-(r?p.indexOf(r):l),y=RN(t,0),v=RN(t,i-1);if(l===-1||u===-1)return Nj;if(!d&&u>=0)return u;if(l<=h&&a&&Math.abs(d)>1)return v;if(l>=f&&a&&Math.abs(d)>1)return y;if(d&&Math.abs(b)>1)return u;if(l<=h)return v;if(l>f)return y;if(d)return Math.abs(d)>1?u:(i+u+d)%i}},Goe=function(t){return function(e){var n,r=(n=Cj(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},Koe=function(t,e,n){var r=t.map(function(s){var o=s.node;return o}),i=kN(r.filter(Goe(n)));return i&&i.length?PN(i):PN(kN(e))},z1=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&z1(t.parentNode.host||t.parentNode,e),e},bw=function(t,e){for(var n=z1(t),r=z1(e),i=0;i<n.length;i+=1){var s=n[i];if(r.indexOf(s)>=0)return s}return!1},Oj=function(t,e,n){var r=Jv(t),i=Jv(e),s=r[0],o=!1;return i.filter(Boolean).forEach(function(a){o=bw(o||a,a)||o,n.filter(Boolean).forEach(function(l){var c=bw(s,l);c&&(!o||eu(c,o)?o=c:o=bw(c,o))})}),o},Yoe=function(t,e){return t.reduce(function(n,r){return n.concat(Foe(r,e))},[])},Qoe=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(Noe)},Xoe=function(t,e){var n=Cf(Jv(t).length>0?document:bj(t).ownerDocument),r=rx(t).filter(ey),i=Oj(n||t,t,r),s=new Map,o=AN(r,s),a=B1(r,s).filter(function(f){var p=f.node;return ey(p)});if(!(!a[0]&&(a=o,!a[0]))){var l=AN([i],s).map(function(f){var p=f.node;return p}),c=Qoe(l,a),u=c.map(function(f){var p=f.node;return p}),d=qoe(u,l,n,e);if(d===Nj){var h=Koe(o,u,Yoe(r,s));if(h)return{node:h};console.warn("focus-lock: cannot find any node to move focus into");return}return d===void 0?d:c[d]}},Zoe=function(t){var e=rx(t).filter(ey),n=Oj(t,t,e),r=new Map,i=B1([n],r,!0),s=B1(e,r).filter(function(o){var a=o.node;return ey(a)}).map(function(o){var a=o.node;return a});return i.map(function(o){var a=o.node,l=o.index;return{node:a,index:l,lockItem:s.indexOf(a)>=0,guard:ex(a)}})},Joe=function(t,e){"focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus()},ww=0,Sw=!1,Dj=function(t,e,n){n===void 0&&(n={});var r=Xoe(t,e);if(!Sw&&r){if(ww>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Sw=!0,setTimeout(function(){Sw=!1},1);return}ww++,Joe(r.node,n.focusOptions),ww--}};function sx(t){setTimeout(t,1)}var eae=function(){return document&&document.activeElement===document.body},tae=function(){return eae()||Uoe()},tu=null,Lc=null,nu=null,xf=!1,nae=function(){return!0},rae=function(e){return(tu.whiteList||nae)(e)},iae=function(e,n){nu={observerNode:e,portaledElement:n}},sae=function(e){return nu&&nu.portaledElement===e};function NN(t,e,n,r){var i=null,s=t;do{var o=r[s];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(s!==t)return;i=null}else break}while((s+=n)!==e);i&&(i.node.tabIndex=0)}var oae=function(e){return e&&"current"in e?e.current:e},aae=function(e){return e?!!xf:xf==="meanwhile"},lae=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},cae=function(e,n){return n.some(function(r){return lae(e,r,r)})},ty=function(){var e=!1;if(tu){var n=tu,r=n.observed,i=n.persistentFocus,s=n.autoFocus,o=n.shards,a=n.crossFrame,l=n.focusOptions,c=r||nu&&nu.portaledElement,u=document&&document.activeElement;if(c){var d=[c].concat(o.map(oae).filter(Boolean));if((!u||rae(u))&&(i||aae(a)||!tae()||!Lc&&s)&&(c&&!(Rj(d)||u&&cae(u,d)||sae(u))&&(document&&!Lc&&u&&!s?(u.blur&&u.blur(),document.body.focus()):(e=Dj(d,Lc,{focusOptions:l}),nu={})),xf=!1,Lc=document&&document.activeElement),document){var h=document&&document.activeElement,f=Zoe(d),p=f.map(function(m){var b=m.node;return b}).indexOf(h);p>-1&&(f.filter(function(m){var b=m.guard,y=m.node;return b&&y.dataset.focusAutoGuard}).forEach(function(m){var b=m.node;return b.removeAttribute("tabIndex")}),NN(p,f.length,1,f),NN(p,-1,-1,f))}}}return e},Mj=function(e){ty()&&e&&(e.stopPropagation(),e.preventDefault())},ox=function(){return sx(ty)},uae=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||iae(r,n)},dae=function(){return null},$j=function(){xf="just",sx(function(){xf="meanwhile"})},hae=function(){document.addEventListener("focusin",Mj),document.addEventListener("focusout",ox),window.addEventListener("blur",$j)},fae=function(){document.removeEventListener("focusin",Mj),document.removeEventListener("focusout",ox),window.removeEventListener("blur",$j)};function pae(t){return t.filter(function(e){var n=e.disabled;return!n})}function mae(t){var e=t.slice(-1)[0];e&&!tu&&hae();var n=tu,r=n&&e&&e.id===n.id;tu=e,n&&!r&&(n.onDeactivation(),t.filter(function(i){var s=i.id;return s===n.id}).length||n.returnFocus(!e)),e?(Lc=null,(!r||n.observed!==e.observed)&&e.onActivation(),ty(),sx(ty)):(fae(),Lc=null)}vj.assignSyncMedium(uae);yj.assignMedium(ox);yoe.assignMedium(function(t){return t({moveFocusInside:Dj,focusInside:Rj})});const gae=Coe(pae,mae)(dae);var Lj=g.forwardRef(function(e,n){return g.createElement(_j,al({sideCar:gae,ref:n},e))}),Fj=_j.propTypes||{};Fj.sideCar;uoe(Fj,["sideCar"]);Lj.propTypes={};const ON=Lj;function vae(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function Vj(t){var e;if(!vae(t))return!1;const n=(e=t.ownerDocument.defaultView)!=null?e:window;return t instanceof n.HTMLElement}function yae(t){const e=t.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:i}=e.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(n+i+r)}function _ae(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function jj(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:Vj(t)&&yae(t)?t:jj(_ae(t))}var bae=t=>t.hasAttribute("tabindex");function wae(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function Bj(t){return t.parentElement&&Bj(t.parentElement)?!0:t.hidden}function Sae(t){const e=t.getAttribute("contenteditable");return e!=="false"&&e!=null}function Eae(t){if(!Vj(t)||Bj(t)||wae(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const r={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in r?r[e]():Sae(t)?!0:bae(t)}var Tae=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],Cae=Tae.join(),xae=t=>t.offsetWidth>0&&t.offsetHeight>0;function Iae(t){const e=Array.from(t.querySelectorAll(Cae));return e.unshift(t),e.filter(n=>Eae(n)&&xae(n))}var DN,kae=(DN=ON.default)!=null?DN:ON,zj=t=>{const{initialFocusRef:e,finalFocusRef:n,contentRef:r,restoreFocus:i,children:s,isDisabled:o,autoFocus:a,persistentFocus:l,lockFocusAcrossFrames:c}=t,u=g.useCallback(()=>{e!=null&&e.current?e.current.focus():r!=null&&r.current&&Iae(r.current).length===0&&requestAnimationFrame(()=>{var p;(p=r.current)==null||p.focus()})},[e,r]),d=g.useCallback(()=>{var f;(f=n==null?void 0:n.current)==null||f.focus()},[n]),h=i&&!n;return _.jsx(kae,{crossFrame:c,persistentFocus:l,autoFocus:a,disabled:o,onActivation:u,onDeactivation:d,returnFocus:h,children:s})};zj.displayName="FocusLock";var Aae=dee?g.useLayoutEffect:g.useEffect;function MN(t,e=[]){const n=g.useRef(t);return Aae(()=>{n.current=t}),g.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function Uj(t,e){const n=g.useId();return g.useMemo(()=>t||[e,n].filter(Boolean).join("-"),[t,e,n])}function Pae(t,e){const n=t!==void 0;return[n,n&&typeof t<"u"?t:e]}function Rae(t={}){const{onClose:e,onOpen:n,isOpen:r,id:i}=t,s=MN(n),o=MN(e),[a,l]=g.useState(t.defaultIsOpen||!1),[c,u]=Pae(r,a),d=Uj(i,"disclosure"),h=g.useCallback(()=>{c||l(!1),o==null||o()},[c,o]),f=g.useCallback(()=>{c||l(!0),s==null||s()},[c,s]),p=g.useCallback(()=>{(u?h:f)()},[u,f,h]);return{isOpen:!!u,onOpen:f,onClose:h,onToggle:p,isControlled:c,getButtonProps:(m={})=>({...m,"aria-expanded":u,"aria-controls":d,onClick:gee(m.onClick,p)}),getDisclosureProps:(m={})=>({...m,hidden:!u,id:d})}}var[Nae,Wj]=yr({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),Ei=ee(function(e,n){const r=Qs("Input",e),{children:i,className:s,...o}=mn(e),a=Ae("chakra-input__group",s),l={},c=ij(i),u=r.field;c.forEach(h=>{var f,p;r&&(u&&h.type.id==="InputLeftElement"&&(l.paddingStart=(f=u.height)!=null?f:u.h),u&&h.type.id==="InputRightElement"&&(l.paddingEnd=(p=u.height)!=null?p:u.h),h.type.id==="InputRightAddon"&&(l.borderEndRadius=0),h.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const d=c.map(h=>{var f,p;const m=CC({size:((f=h.props)==null?void 0:f.size)||e.size,variant:((p=h.props)==null?void 0:p.variant)||e.variant});return h.type.id!=="Input"?g.cloneElement(h,m):g.cloneElement(h,Object.assign(m,l,h.props))});return _.jsx(X.div,{className:a,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...o,children:_.jsx(Nae,{value:r,children:d})})});Ei.displayName="InputGroup";var Oae={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},Dae=X("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),ax=ee(function(e,n){var r;const{placement:i="left",...s}=e,o=(r=Oae[i])!=null?r:{},a=Wj();return _.jsx(Dae,{ref:n,...s,__css:{...a.addon,...o}})});ax.displayName="InputAddon";var Hj=ee(function(e,n){return _.jsx(ax,{ref:n,placement:"left",...e,className:Ae("chakra-input__left-addon",e.className)})});Hj.displayName="InputLeftAddon";Hj.id="InputLeftAddon";var Qo=ee(function(e,n){return _.jsx(ax,{ref:n,placement:"right",...e,className:Ae("chakra-input__right-addon",e.className)})});Qo.displayName="InputRightAddon";Qo.id="InputRightAddon";var Mae=X("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),q_=ee(function(e,n){var r,i;const{placement:s="left",...o}=e,a=Wj(),l=a.field,u={[s==="left"?"insetStart":"insetEnd"]:"0",width:(r=l==null?void 0:l.height)!=null?r:l==null?void 0:l.h,height:(i=l==null?void 0:l.height)!=null?i:l==null?void 0:l.h,fontSize:l==null?void 0:l.fontSize,...a.element};return _.jsx(Mae,{ref:n,__css:u,...o})});q_.id="InputElement";q_.displayName="InputElement";var lx=ee(function(e,n){const{className:r,...i}=e,s=Ae("chakra-input__left-element",r);return _.jsx(q_,{ref:n,placement:"left",className:s,...i})});lx.id="InputLeftElement";lx.displayName="InputLeftElement";var od=ee(function(e,n){const{className:r,...i}=e,s=Ae("chakra-input__right-element",r);return _.jsx(q_,{ref:n,placement:"right",className:s,...i})});od.id="InputRightElement";od.displayName="InputRightElement";var ei=ee(function(e,n){const{htmlSize:r,...i}=e,s=Qs("Input",i),o=mn(i),a=QC(o),l=Ae("chakra-input",e.className);return _.jsx(X.input,{size:r,...a,__css:s.field,ref:n,className:l})});ei.displayName="Input";ei.id="Input";var qj=ee(function(e,n){const r=Ii("Link",e),{className:i,isExternal:s,...o}=mn(e);return _.jsx(X.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:n,className:Ae("chakra-link",i),...o,__css:r})});qj.displayName="Link";var Nr=ee(function(e,n){const{templateAreas:r,gap:i,rowGap:s,columnGap:o,column:a,row:l,autoFlow:c,autoRows:u,templateRows:d,autoColumns:h,templateColumns:f,...p}=e,m={display:"grid",gridTemplateAreas:r,gridGap:i,gridRowGap:s,gridColumnGap:o,gridAutoColumns:h,gridColumn:a,gridRow:l,gridAutoFlow:c,gridAutoRows:u,gridTemplateRows:d,gridTemplateColumns:f};return _.jsx(X.div,{ref:n,__css:m,...p})});Nr.displayName="Grid";function Gj(t,e){return Array.isArray(t)?t.map(n=>n===null?null:e(n)):yi(t)?Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{}):t!=null?e(t):null}var Kj=X("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Kj.displayName="Spacer";var Fc=ee(function(e,n){const r=Ii("Text",e),{className:i,align:s,decoration:o,casing:a,...l}=mn(e),c=CC({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return _.jsx(X.p,{ref:n,className:Ae("chakra-text",e.className),...c,...l,__css:r})});Fc.displayName="Text";var Yj=t=>_.jsx(X.div,{className:"chakra-stack__divider",...t,__css:{...t.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});Yj.displayName="StackDivider";var Qj=t=>_.jsx(X.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});Qj.displayName="StackItem";function $ae(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Gj(n,i=>r[i])}}var G_=ee((t,e)=>{const{isInline:n,direction:r,align:i,justify:s,spacing:o="0.5rem",wrap:a,children:l,divider:c,className:u,shouldWrapChildren:d,...h}=t,f=n?"row":r??"column",p=g.useMemo(()=>$ae({spacing:o,direction:f}),[o,f]),m=!!c,b=!d&&!m,y=g.useMemo(()=>{const w=ij(l);return b?w:w.map((S,C)=>{const x=typeof S.key<"u"?S.key:C,T=C+1===w.length,O=d?_.jsx(Qj,{children:S},x):S;if(!m)return O;const N=g.cloneElement(c,{__css:p}),z=T?null:N;return _.jsxs(g.Fragment,{children:[O,z]},x)})},[c,p,m,b,d,l]),v=Ae("chakra-stack",u);return _.jsx(X.div,{ref:e,display:"flex",alignItems:i,justifyContent:s,flexDirection:f,flexWrap:a,gap:m?void 0:o,className:v,...h,children:y})});G_.displayName="Stack";var ad=ee((t,e)=>_.jsx(G_,{align:"center",...t,direction:"column",ref:e}));ad.displayName="VStack";var Dp=ee((t,e)=>_.jsx(G_,{align:"center",...t,direction:"row",ref:e}));Dp.displayName="HStack";function $N(t){return Gj(t,e=>e==="auto"?"auto":`span ${e}/span ${e}`)}var cx=ee(function(e,n){const{area:r,colSpan:i,colStart:s,colEnd:o,rowEnd:a,rowSpan:l,rowStart:c,...u}=e,d=CC({gridArea:r,gridColumn:$N(i),gridRow:$N(l),gridColumnStart:s,gridColumnEnd:o,gridRowStart:c,gridRowEnd:a});return _.jsx(X.div,{ref:n,__css:d,...u})});cx.displayName="GridItem";var ua=ee(function(e,n){const r=Ii("Heading",e),{className:i,...s}=mn(e);return _.jsx(X.h2,{ref:n,className:Ae("chakra-heading",e.className),...s,__css:r})});ua.displayName="Heading";var K_=X("div");K_.displayName="Box";var Xj=ee(function(e,n){const{size:r,centerContent:i=!0,...s}=e,o=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return _.jsx(K_,{ref:n,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...s})});Xj.displayName="Square";var Lae=ee(function(e,n){const{size:r,...i}=e;return _.jsx(Xj,{size:r,ref:n,borderRadius:"9999px",...i})});Lae.displayName="Circle";var Fae=ee(function(e,n){const{isExternal:r,target:i,rel:s,className:o,...a}=e;return _.jsx(X.a,{...a,ref:n,className:Ae("chakra-linkbox__overlay",o),rel:r?"noopener noreferrer":s,target:r?"_blank":i,__css:{position:"static","&::before":{content:"''",cursor:"inherit",display:"block",position:"absolute",top:0,left:0,zIndex:0,width:"100%",height:"100%"}}})}),Zj=ee(function(e,n){const{className:r,...i}=e;return _.jsx(X.div,{ref:n,position:"relative",...i,className:Ae("chakra-linkbox",r),__css:{"a[href]:not(.chakra-linkbox__overlay), abbr[title]":{position:"relative",zIndex:1}}})}),Jj=X("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Jj.displayName="Center";var Vae={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};ee(function(e,n){const{axis:r="both",...i}=e;return _.jsx(X.div,{ref:n,__css:Vae[r],...i,position:"absolute"})});var e4=ee(function(e,n){const{className:r,centerContent:i,...s}=mn(e),o=Ii("Container",e);return _.jsx(X.div,{ref:n,className:Ae("chakra-container",r),...s,__css:{...o,...i&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});e4.displayName="Container";var t4=ee(function(e,n){const{direction:r,align:i,justify:s,wrap:o,basis:a,grow:l,shrink:c,...u}=e,d={display:"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c};return _.jsx(X.div,{ref:n,__css:d,...u})});t4.displayName="Flex";var ic=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),wn={arrowShadowColor:ic("--popper-arrow-shadow-color"),arrowSize:ic("--popper-arrow-size","8px"),arrowSizeHalf:ic("--popper-arrow-size-half"),arrowBg:ic("--popper-arrow-bg"),transformOrigin:ic("--popper-transform-origin"),arrowOffset:ic("--popper-arrow-offset")};function jae(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var Bae={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},zae=t=>Bae[t],LN={scroll:!0,resize:!0};function Uae(t){let e;return typeof t=="object"?e={enabled:!0,options:{...LN,...t}}:e={enabled:t,options:LN},e}var Wae={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},Hae={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{FN(t)},effect:({state:t})=>()=>{FN(t)}},FN=t=>{t.elements.popper.style.setProperty(wn.transformOrigin.var,zae(t.placement))},qae={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{Gae(t)}},Gae=t=>{var e;if(!t.placement)return;const n=Kae(t.placement);if((e=t.elements)!=null&&e.arrow&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:wn.arrowSize.varRef,height:wn.arrowSize.varRef,zIndex:-1});const r={[wn.arrowSizeHalf.var]:`calc(${wn.arrowSize.varRef} / 2 - 1px)`,[wn.arrowOffset.var]:`calc(${wn.arrowSizeHalf.varRef} * -1)`};for(const i in r)t.elements.arrow.style.setProperty(i,r[i])}},Kae=t=>{if(t.startsWith("top"))return{property:"bottom",value:wn.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:wn.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:wn.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:wn.arrowOffset.varRef}},Yae={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{VN(t)},effect:({state:t})=>()=>{VN(t)}},VN=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const n=jae(t.placement);n&&e.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(e.style,{transform:"rotate(45deg)",background:wn.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},Qae={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Xae={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function Zae(t,e="ltr"){var n,r;const i=((n=Qae[t])==null?void 0:n[e])||t;return e==="ltr"?i:(r=Xae[t])!=null?r:i}var fr="top",ti="bottom",ni="right",pr="left",ux="auto",Mp=[fr,ti,ni,pr],xu="start",If="end",Jae="clippingParents",n4="viewport",zd="popper",ele="reference",jN=Mp.reduce(function(t,e){return t.concat([e+"-"+xu,e+"-"+If])},[]),r4=[].concat(Mp,[ux]).reduce(function(t,e){return t.concat([e,e+"-"+xu,e+"-"+If])},[]),tle="beforeRead",nle="read",rle="afterRead",ile="beforeMain",sle="main",ole="afterMain",ale="beforeWrite",lle="write",cle="afterWrite",ule=[tle,nle,rle,ile,sle,ole,ale,lle,cle];function rs(t){return t?(t.nodeName||"").toLowerCase():null}function Or(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ml(t){var e=Or(t).Element;return t instanceof e||t instanceof Element}function Qr(t){var e=Or(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function dx(t){if(typeof ShadowRoot>"u")return!1;var e=Or(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function dle(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Qr(s)||!rs(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function hle(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Qr(i)||!rs(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const fle={name:"applyStyles",enabled:!0,phase:"write",fn:dle,effect:hle,requires:["computeStyles"]};function Ki(t){return t.split("-")[0]}var Ja=Math.max,ny=Math.min,Iu=Math.round;function U1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function i4(){return!/^((?!chrome|android).)*safari/i.test(U1())}function ku(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Qr(t)&&(i=t.offsetWidth>0&&Iu(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Iu(r.height)/t.offsetHeight||1);var o=ml(t)?Or(t):window,a=o.visualViewport,l=!i4()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function hx(t){var e=ku(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function s4(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&dx(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function zs(t){return Or(t).getComputedStyle(t)}function ple(t){return["table","td","th"].indexOf(rs(t))>=0}function da(t){return((ml(t)?t.ownerDocument:t.document)||window.document).documentElement}function Y_(t){return rs(t)==="html"?t:t.assignedSlot||t.parentNode||(dx(t)?t.host:null)||da(t)}function BN(t){return!Qr(t)||zs(t).position==="fixed"?null:t.offsetParent}function mle(t){var e=/firefox/i.test(U1()),n=/Trident/i.test(U1());if(n&&Qr(t)){var r=zs(t);if(r.position==="fixed")return null}var i=Y_(t);for(dx(i)&&(i=i.host);Qr(i)&&["html","body"].indexOf(rs(i))<0;){var s=zs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function $p(t){for(var e=Or(t),n=BN(t);n&&ple(n)&&zs(n).position==="static";)n=BN(n);return n&&(rs(n)==="html"||rs(n)==="body"&&zs(n).position==="static")?e:n||mle(t)||e}function fx(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Mh(t,e,n){return Ja(t,ny(e,n))}function gle(t,e,n){var r=Mh(t,e,n);return r>n?n:r}function o4(){return{top:0,right:0,bottom:0,left:0}}function a4(t){return Object.assign({},o4(),t)}function l4(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var vle=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,a4(typeof e!="number"?e:l4(e,Mp))};function yle(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ki(n.placement),l=fx(a),c=[pr,ni].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=vle(i.padding,n),h=hx(s),f=l==="y"?fr:pr,p=l==="y"?ti:ni,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],b=o[l]-n.rects.reference[l],y=$p(s),v=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,w=m/2-b/2,S=d[f],C=v-h[u]-d[p],x=v/2-h[u]/2+w,T=Mh(S,x,C),A=l;n.modifiersData[r]=(e={},e[A]=T,e.centerOffset=T-x,e)}}function _le(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||s4(e.elements.popper,i)&&(e.elements.arrow=i))}const ble={name:"arrow",enabled:!0,phase:"main",fn:yle,effect:_le,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Au(t){return t.split("-")[1]}var wle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sle(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Iu(n*i)/i||0,y:Iu(r*i)/i||0}}function zN(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,m=p===void 0?0:p,b=typeof u=="function"?u({x:f,y:m}):{x:f,y:m};f=b.x,m=b.y;var y=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),w=pr,S=fr,C=window;if(c){var x=$p(n),T="clientHeight",A="clientWidth";if(x===Or(n)&&(x=da(n),zs(x).position!=="static"&&a==="absolute"&&(T="scrollHeight",A="scrollWidth")),x=x,i===fr||(i===pr||i===ni)&&s===If){S=ti;var O=d&&x===C&&C.visualViewport?C.visualViewport.height:x[T];m-=O-r.height,m*=l?1:-1}if(i===pr||(i===fr||i===ti)&&s===If){w=ni;var N=d&&x===C&&C.visualViewport?C.visualViewport.width:x[A];f-=N-r.width,f*=l?1:-1}}var z=Object.assign({position:a},c&&wle),ve=u===!0?Sle({x:f,y:m},Or(n)):{x:f,y:m};if(f=ve.x,m=ve.y,l){var ne;return Object.assign({},z,(ne={},ne[S]=v?"0":"",ne[w]=y?"0":"",ne.transform=(C.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",ne))}return Object.assign({},z,(e={},e[S]=v?m+"px":"",e[w]=y?f+"px":"",e.transform="",e))}function Ele(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ki(e.placement),variation:Au(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zN(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zN(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Tle={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ele,data:{}};var ig={passive:!0};function Cle(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Or(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,ig)}),a&&l.addEventListener("resize",n.update,ig),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,ig)}),a&&l.removeEventListener("resize",n.update,ig)}}const xle={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Cle,data:{}};var Ile={left:"right",right:"left",bottom:"top",top:"bottom"};function Zg(t){return t.replace(/left|right|bottom|top/g,function(e){return Ile[e]})}var kle={start:"end",end:"start"};function UN(t){return t.replace(/start|end/g,function(e){return kle[e]})}function px(t){var e=Or(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function mx(t){return ku(da(t)).left+px(t).scrollLeft}function Ale(t,e){var n=Or(t),r=da(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=i4();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+mx(t),y:l}}function Ple(t){var e,n=da(t),r=px(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ja(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ja(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+mx(t),l=-r.scrollTop;return zs(i||n).direction==="rtl"&&(a+=Ja(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function gx(t){var e=zs(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function c4(t){return["html","body","#document"].indexOf(rs(t))>=0?t.ownerDocument.body:Qr(t)&&gx(t)?t:c4(Y_(t))}function $h(t,e){var n;e===void 0&&(e=[]);var r=c4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Or(r),o=i?[s].concat(s.visualViewport||[],gx(r)?r:[]):r,a=e.concat(o);return i?a:a.concat($h(Y_(o)))}function W1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Rle(t,e){var n=ku(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function WN(t,e,n){return e===n4?W1(Ale(t,n)):ml(e)?Rle(e,n):W1(Ple(da(t)))}function Nle(t){var e=$h(Y_(t)),n=["absolute","fixed"].indexOf(zs(t).position)>=0,r=n&&Qr(t)?$p(t):t;return ml(r)?e.filter(function(i){return ml(i)&&s4(i,r)&&rs(i)!=="body"}):[]}function Ole(t,e,n,r){var i=e==="clippingParents"?Nle(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=WN(t,c,r);return l.top=Ja(u.top,l.top),l.right=ny(u.right,l.right),l.bottom=ny(u.bottom,l.bottom),l.left=Ja(u.left,l.left),l},WN(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function u4(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ki(r):null,s=r?Au(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case fr:l={x:o,y:e.y-n.height};break;case ti:l={x:o,y:e.y+e.height};break;case ni:l={x:e.x+e.width,y:a};break;case pr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?fx(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case xu:l[c]=l[c]-(e[u]/2-n[u]/2);break;case If:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function kf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Jae:a,c=n.rootBoundary,u=c===void 0?n4:c,d=n.elementContext,h=d===void 0?zd:d,f=n.altBoundary,p=f===void 0?!1:f,m=n.padding,b=m===void 0?0:m,y=a4(typeof b!="number"?b:l4(b,Mp)),v=h===zd?ele:zd,w=t.rects.popper,S=t.elements[p?v:h],C=Ole(ml(S)?S:S.contextElement||da(t.elements.popper),l,u,o),x=ku(t.elements.reference),T=u4({reference:x,element:w,strategy:"absolute",placement:i}),A=W1(Object.assign({},w,T)),O=h===zd?A:x,N={top:C.top-O.top+y.top,bottom:O.bottom-C.bottom+y.bottom,left:C.left-O.left+y.left,right:O.right-C.right+y.right},z=t.modifiersData.offset;if(h===zd&&z){var ve=z[i];Object.keys(N).forEach(function(ne){var le=[ni,ti].indexOf(ne)>=0?1:-1,xe=[fr,ti].indexOf(ne)>=0?"y":"x";N[ne]+=ve[xe]*le})}return N}function Dle(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?r4:l,u=Au(r),d=u?a?jN:jN.filter(function(p){return Au(p)===u}):Mp,h=d.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,m){return p[m]=kf(t,{placement:m,boundary:i,rootBoundary:s,padding:o})[Ki(m)],p},{});return Object.keys(f).sort(function(p,m){return f[p]-f[m]})}function Mle(t){if(Ki(t)===ux)return[];var e=Zg(t);return[UN(t),e,UN(e)]}function $le(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,m=n.allowedAutoPlacements,b=e.options.placement,y=Ki(b),v=y===b,w=l||(v||!p?[Zg(b)]:Mle(b)),S=[b].concat(w).reduce(function(fe,Ie){return fe.concat(Ki(Ie)===ux?Dle(e,{placement:Ie,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):Ie)},[]),C=e.rects.reference,x=e.rects.popper,T=new Map,A=!0,O=S[0],N=0;N<S.length;N++){var z=S[N],ve=Ki(z),ne=Au(z)===xu,le=[fr,ti].indexOf(ve)>=0,xe=le?"width":"height",me=kf(e,{placement:z,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),ye=le?ne?ni:pr:ne?ti:fr;C[xe]>x[xe]&&(ye=Zg(ye));var $=Zg(ye),U=[];if(s&&U.push(me[ve]<=0),a&&U.push(me[ye]<=0,me[$]<=0),U.every(function(fe){return fe})){O=z,A=!1;break}T.set(z,U)}if(A)for(var J=p?3:1,Y=function(Ie){var De=S.find(function(Be){var tt=T.get(Be);if(tt)return tt.slice(0,Ie).every(function(Lt){return Lt})});if(De)return O=De,"break"},ae=J;ae>0;ae--){var ce=Y(ae);if(ce==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const Lle={name:"flip",enabled:!0,phase:"main",fn:$le,requiresIfExists:["offset"],data:{_skip:!1}};function HN(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function qN(t){return[fr,ni,ti,pr].some(function(e){return t[e]>=0})}function Fle(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=kf(e,{elementContext:"reference"}),a=kf(e,{altBoundary:!0}),l=HN(o,r),c=HN(a,i,s),u=qN(l),d=qN(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Vle={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Fle};function jle(t,e,n){var r=Ki(t),i=[pr,fr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[pr,ni].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Ble(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=r4.reduce(function(u,d){return u[d]=jle(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const zle={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ble};function Ule(t){var e=t.state,n=t.name;e.modifiersData[n]=u4({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Wle={name:"popperOffsets",enabled:!0,phase:"read",fn:Ule,data:{}};function Hle(t){return t==="x"?"y":"x"}function qle(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,m=p===void 0?0:p,b=kf(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=Ki(e.placement),v=Au(e.placement),w=!v,S=fx(y),C=Hle(S),x=e.modifiersData.popperOffsets,T=e.rects.reference,A=e.rects.popper,O=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,N=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ve={x:0,y:0};if(x){if(s){var ne,le=S==="y"?fr:pr,xe=S==="y"?ti:ni,me=S==="y"?"height":"width",ye=x[S],$=ye+b[le],U=ye-b[xe],J=f?-A[me]/2:0,Y=v===xu?T[me]:A[me],ae=v===xu?-A[me]:-T[me],ce=e.elements.arrow,fe=f&&ce?hx(ce):{width:0,height:0},Ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:o4(),De=Ie[le],Be=Ie[xe],tt=Mh(0,T[me],fe[me]),Lt=w?T[me]/2-J-tt-De-N.mainAxis:Y-tt-De-N.mainAxis,Ut=w?-T[me]/2+J+tt+Be+N.mainAxis:ae+tt+Be+N.mainAxis,Pt=e.elements.arrow&&$p(e.elements.arrow),ze=Pt?S==="y"?Pt.clientTop||0:Pt.clientLeft||0:0,Ft=(ne=z==null?void 0:z[S])!=null?ne:0,fs=ye+Lt-Ft-ze,Se=ye+Ut-Ft,Zt=Mh(f?ny($,fs):$,ye,f?Ja(U,Se):U);x[S]=Zt,ve[S]=Zt-ye}if(a){var vn,ki=S==="x"?fr:pr,ga=S==="x"?ti:ni,tr=x[C],Ai=C==="y"?"height":"width",P=tr+b[ki],j=tr-b[ga],Q=[fr,pr].indexOf(y)!==-1,te=(vn=z==null?void 0:z[C])!=null?vn:0,Ee=Q?P:tr-T[Ai]-A[Ai]-te+N.altAxis,Fe=Q?tr+T[Ai]+A[Ai]-te-N.altAxis:j,at=f&&Q?gle(Ee,tr,Fe):Mh(f?Ee:P,tr,f?Fe:j);x[C]=at,ve[C]=at-tr}e.modifiersData[r]=ve}}const Gle={name:"preventOverflow",enabled:!0,phase:"main",fn:qle,requiresIfExists:["offset"]};function Kle(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Yle(t){return t===Or(t)||!Qr(t)?px(t):Kle(t)}function Qle(t){var e=t.getBoundingClientRect(),n=Iu(e.width)/t.offsetWidth||1,r=Iu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Xle(t,e,n){n===void 0&&(n=!1);var r=Qr(e),i=Qr(e)&&Qle(e),s=da(e),o=ku(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((rs(e)!=="body"||gx(s))&&(a=Yle(e)),Qr(e)?(l=ku(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=mx(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Zle(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Jle(t){var e=Zle(t);return ule.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function ece(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function tce(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var GN={placement:"bottom",modifiers:[],strategy:"absolute"};function KN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function nce(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?GN:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},GN,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(y){var v=typeof y=="function"?y(u.options):y;m(),u.options=Object.assign({},s,u.options,v),u.scrollParents={reference:ml(a)?$h(a):a.contextElement?$h(a.contextElement):[],popper:$h(l)};var w=Jle(tce([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(S){return S.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var y=u.elements,v=y.reference,w=y.popper;if(KN(v,w)){u.rects={reference:Xle(v,$p(w),u.options.strategy==="fixed"),popper:hx(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var C=u.orderedModifiers[S],x=C.fn,T=C.options,A=T===void 0?{}:T,O=C.name;typeof x=="function"&&(u=x({state:u,options:A,name:O,instance:f})||u)}}}},update:ece(function(){return new Promise(function(b){f.forceUpdate(),b(u)})}),destroy:function(){m(),h=!0}};if(!KN(a,l))return f;f.setOptions(c).then(function(b){!h&&c.onFirstUpdate&&c.onFirstUpdate(b)});function p(){u.orderedModifiers.forEach(function(b){var y=b.name,v=b.options,w=v===void 0?{}:v,S=b.effect;if(typeof S=="function"){var C=S({state:u,name:y,instance:f,options:w}),x=function(){};d.push(C||x)}})}function m(){d.forEach(function(b){return b()}),d=[]}return f}}var rce=[xle,Wle,Tle,fle,zle,Lle,Gle,ble,Vle],ice=nce({defaultModifiers:rce});function sce(t={}){const{enabled:e=!0,modifiers:n,placement:r="bottom",strategy:i="absolute",arrowPadding:s=8,eventListeners:o=!0,offset:a,gutter:l=8,flip:c=!0,boundary:u="clippingParents",preventOverflow:d=!0,matchWidth:h,direction:f="ltr"}=t,p=g.useRef(null),m=g.useRef(null),b=g.useRef(null),y=Zae(r,f),v=g.useRef(()=>{}),w=g.useCallback(()=>{var N;!e||!p.current||!m.current||((N=v.current)==null||N.call(v),b.current=ice(p.current,m.current,{placement:y,modifiers:[Yae,qae,Hae,{...Wae,enabled:!!h},{name:"eventListeners",...Uae(o)},{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:a??[0,l]}},{name:"flip",enabled:!!c,options:{padding:8}},{name:"preventOverflow",enabled:!!d,options:{boundary:u}},...n??[]],strategy:i}),b.current.forceUpdate(),v.current=b.current.destroy)},[y,e,n,h,o,s,a,l,c,d,u,i]);g.useEffect(()=>()=>{var N;!p.current&&!m.current&&((N=b.current)==null||N.destroy(),b.current=null)},[]);const S=g.useCallback(N=>{p.current=N,w()},[w]),C=g.useCallback((N={},z=null)=>({...N,ref:ns(S,z)}),[S]),x=g.useCallback(N=>{m.current=N,w()},[w]),T=g.useCallback((N={},z=null)=>({...N,ref:ns(x,z),style:{...N.style,position:i,minWidth:h?void 0:"max-content",inset:"0 auto auto 0"}}),[i,x,h]),A=g.useCallback((N={},z=null)=>{const{size:ve,shadowColor:ne,bg:le,style:xe,...me}=N;return{...me,ref:z,"data-popper-arrow":"",style:oce(N)}},[]),O=g.useCallback((N={},z=null)=>({...N,ref:z,"data-popper-arrow-inner":""}),[]);return{update(){var N;(N=b.current)==null||N.update()},forceUpdate(){var N;(N=b.current)==null||N.forceUpdate()},transformOrigin:wn.transformOrigin.varRef,referenceRef:S,popperRef:x,getPopperProps:T,getArrowProps:A,getArrowInnerProps:O,getReferenceProps:C}}function oce(t){const{size:e,shadowColor:n,bg:r,style:i}=t,s={...i,position:"absolute"};return e&&(s["--popper-arrow-size"]=e),n&&(s["--popper-arrow-shadow-color"]=n),r&&(s["--popper-arrow-bg"]=r),s}function ace(t={}){const{onClose:e,onOpen:n,isOpen:r,id:i}=t,s=Qa(n),o=Qa(e),[a,l]=g.useState(t.defaultIsOpen||!1),c=r!==void 0?r:a,u=r!==void 0,d=g.useId(),h=i??`disclosure-${d}`,f=g.useCallback(()=>{u||l(!1),o==null||o()},[u,o]),p=g.useCallback(()=>{u||l(!0),s==null||s()},[u,s]),m=g.useCallback(()=>{c?f():p()},[c,p,f]);function b(v={}){return{...v,"aria-expanded":c,"aria-controls":h,onClick(w){var S;(S=v.onClick)==null||S.call(v,w),m()}}}function y(v={}){return{...v,hidden:!c,id:h}}return{isOpen:c,onOpen:p,onClose:f,onToggle:m,isControlled:u,getButtonProps:b,getDisclosureProps:y}}var lce={slideInBottom:{...lh,custom:{offsetY:16,reverse:!0}},slideInRight:{...lh,custom:{offsetX:16,reverse:!0}},slideInTop:{...lh,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...lh,custom:{offsetX:-16,reverse:!0}},scale:{...rj,custom:{initialScale:.95,reverse:!0}},none:{}},cce=X(Fl.section),uce=t=>lce[t||"none"],d4=g.forwardRef((t,e)=>{const{preset:n,motionProps:r=uce(n),...i}=t;return _.jsx(cce,{ref:e,...r,...i})});d4.displayName="ModalTransition";var dce=Object.defineProperty,hce=(t,e,n)=>e in t?dce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fce=(t,e,n)=>(hce(t,typeof e!="symbol"?e+"":e,n),n),pce=class{constructor(){fce(this,"modals"),this.modals=new Map}add(t){return this.modals.set(t,this.modals.size+1),this.modals.size}remove(t){this.modals.delete(t)}isTopModal(t){return t?this.modals.get(t)===this.modals.size:!1}},H1=new pce;function h4(t,e){const[n,r]=g.useState(0);return g.useEffect(()=>{const i=t.current;if(i){if(e){const s=H1.add(i);r(s)}return()=>{H1.remove(i),r(0)}}},[e,t]),n}var mce=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sc=new WeakMap,sg=new WeakMap,og={},Ew=0,f4=function(t){return t&&(t.host||f4(t.parentNode))},gce=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=f4(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},vce=function(t,e,n,r){var i=gce(e,Array.isArray(t)?t:[t]);og[n]||(og[n]=new WeakMap);var s=og[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else{var f=h.getAttribute(r),p=f!==null&&f!=="false",m=(sc.get(h)||0)+1,b=(s.get(h)||0)+1;sc.set(h,m),s.set(h,b),o.push(h),m===1&&p&&sg.set(h,!0),b===1&&h.setAttribute(n,"true"),p||h.setAttribute(r,"true")}})};return u(e),a.clear(),Ew++,function(){o.forEach(function(d){var h=sc.get(d)-1,f=s.get(d)-1;sc.set(d,h),s.set(d,f),h||(sg.has(d)||d.removeAttribute(r),sg.delete(d)),f||d.removeAttribute(n)}),Ew--,Ew||(sc=new WeakMap,sc=new WeakMap,sg=new WeakMap,og={})}},yce=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||mce(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),vce(r,i,n,"aria-hidden")):function(){return null}};function _ce(t){const{isOpen:e,onClose:n,id:r,closeOnOverlayClick:i=!0,closeOnEsc:s=!0,useInert:o=!0,onOverlayClick:a,onEsc:l}=t,c=g.useRef(null),u=g.useRef(null),[d,h,f]=wce(r,"chakra-modal","chakra-modal--header","chakra-modal--body");bce(c,e&&o);const p=h4(c,e),m=g.useRef(null),b=g.useCallback(O=>{m.current=O.target},[]),y=g.useCallback(O=>{O.key==="Escape"&&(O.stopPropagation(),s&&(n==null||n()),l==null||l())},[s,n,l]),[v,w]=g.useState(!1),[S,C]=g.useState(!1),x=g.useCallback((O={},N=null)=>({role:"dialog",...O,ref:ns(N,c),id:d,tabIndex:-1,"aria-modal":!0,"aria-labelledby":v?h:void 0,"aria-describedby":S?f:void 0,onClick:Tt(O.onClick,z=>z.stopPropagation())}),[f,S,d,h,v]),T=g.useCallback(O=>{O.stopPropagation(),m.current===O.target&&H1.isTopModal(c.current)&&(i&&(n==null||n()),a==null||a())},[n,i,a]),A=g.useCallback((O={},N=null)=>({...O,ref:ns(N,u),onClick:Tt(O.onClick,T),onKeyDown:Tt(O.onKeyDown,y),onMouseDown:Tt(O.onMouseDown,b)}),[y,b,T]);return{isOpen:e,onClose:n,headerId:h,bodyId:f,setBodyMounted:C,setHeaderMounted:w,dialogRef:c,overlayRef:u,getDialogProps:x,getDialogContainerProps:A,index:p}}function bce(t,e){const n=t.current;g.useEffect(()=>{if(!(!t.current||!e))return yce(t.current)},[e,t,n])}function wce(t,...e){const n=g.useId(),r=t||n;return g.useMemo(()=>e.map(i=>`${i}-${r}`),[r,e])}var[Sce,Lp]=yr({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[Ece,Pu]=yr({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),p4=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...t},{portalProps:n,children:r,autoFocus:i,trapFocus:s,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:d,motionPreset:h,lockFocusAcrossFrames:f,onCloseComplete:p}=e,m=Qs("Modal",e),y={..._ce(e),autoFocus:i,trapFocus:s,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:d,motionPreset:h,lockFocusAcrossFrames:f};return _.jsx(Ece,{value:y,children:_.jsx(Sce,{value:m,children:_.jsx(id,{onExitComplete:p,children:y.isOpen&&_.jsx(rd,{...n,children:r})})})})};p4.displayName="Modal";var Jg="right-scroll-bar-position",ev="width-before-scroll-bar",Tce="with-scroll-bars-hidden",Cce="--removed-body-scroll-bar-size",m4=mj(),Tw=function(){},Q_=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Tw,onWheelCapture:Tw,onTouchMoveCapture:Tw}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noIsolation,p=t.inert,m=t.allowPinchZoom,b=t.as,y=b===void 0?"div":b,v=t.gapMode,w=Op(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,C=hj([n,e]),x=Fi(Fi({},w),i);return g.createElement(g.Fragment,null,u&&g.createElement(S,{sideCar:m4,removeScrollBar:c,shards:d,noIsolation:f,inert:p,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:v}),o?g.cloneElement(g.Children.only(a),Fi(Fi({},x),{ref:C})):g.createElement(y,Fi({},x,{className:l,ref:C}),a))});Q_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Q_.classNames={fullWidth:ev,zeroRight:Jg};var YN,xce=function(){if(YN)return YN;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ice(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=xce();return e&&t.setAttribute("nonce",e),t}function kce(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ace(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Pce=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Ice())&&(kce(e,n),Ace(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Rce=function(){var t=Pce();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},g4=function(){var t=Rce(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Nce={left:0,top:0,right:0,gap:0},Cw=function(t){return parseInt(t||"",10)||0},Oce=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Cw(n),Cw(r),Cw(i)]},Dce=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Nce;var e=Oce(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Mce=g4(),$ce=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Tce,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ev,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Jg," .").concat(Jg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ev," .").concat(ev,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(Cce,": ").concat(a,`px;
  }
`)},Lce=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,s=g.useMemo(function(){return Dce(i)},[i]);return g.createElement(Mce,{styles:$ce(s,!e,i,n?"":"!important")})},q1=!1;if(typeof window<"u")try{var ag=Object.defineProperty({},"passive",{get:function(){return q1=!0,!0}});window.addEventListener("test",ag,ag),window.removeEventListener("test",ag,ag)}catch{q1=!1}var oc=q1?{passive:!1}:!1,Fce=function(t){return t.tagName==="TEXTAREA"},v4=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Fce(t)&&n[e]==="visible")},Vce=function(t){return v4(t,"overflowY")},jce=function(t){return v4(t,"overflowX")},QN=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=y4(t,r);if(i){var s=_4(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Bce=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},zce=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},y4=function(t,e){return t==="v"?Vce(e):jce(e)},_4=function(t,e){return t==="v"?Bce(e):zce(e)},Uce=function(t,e){return t==="h"&&e==="rtl"?-1:1},Wce=function(t,e,n,r,i){var s=Uce(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var f=_4(t,a),p=f[0],m=f[1],b=f[2],y=m-b-s*p;(p||y)&&y4(t,a)&&(d+=y,h+=p),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&d===0||!i&&o>d)||!u&&(i&&h===0||!i&&-o>h))&&(c=!0),c},lg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},XN=function(t){return[t.deltaX,t.deltaY]},ZN=function(t){return t&&"current"in t?t.current:t},Hce=function(t,e){return t[0]===e[0]&&t[1]===e[1]},qce=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Gce=0,ac=[];function Kce(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(Gce++)[0],s=g.useState(g4)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=goe([t.lockRef.current],(t.shards||[]).map(ZN),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(m,b){if("touches"in m&&m.touches.length===2)return!o.current.allowPinchZoom;var y=lg(m),v=n.current,w="deltaX"in m?m.deltaX:v[0]-y[0],S="deltaY"in m?m.deltaY:v[1]-y[1],C,x=m.target,T=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&T==="h"&&x.type==="range")return!1;var A=QN(T,x);if(!A)return!0;if(A?C=T:(C=T==="v"?"h":"v",A=QN(T,x)),!A)return!1;if(!r.current&&"changedTouches"in m&&(w||S)&&(r.current=C),!C)return!0;var O=r.current||C;return Wce(O,b,m,O==="h"?w:S,!0)},[]),l=g.useCallback(function(m){var b=m;if(!(!ac.length||ac[ac.length-1]!==s)){var y="deltaY"in b?XN(b):lg(b),v=e.current.filter(function(C){return C.name===b.type&&C.target===b.target&&Hce(C.delta,y)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(ZN).filter(Boolean).filter(function(C){return C.contains(b.target)}),S=w.length>0?a(b,w[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),c=g.useCallback(function(m,b,y,v){var w={name:m,delta:b,target:y,should:v};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),u=g.useCallback(function(m){n.current=lg(m),r.current=void 0},[]),d=g.useCallback(function(m){c(m.type,XN(m),m.target,a(m,t.lockRef.current))},[]),h=g.useCallback(function(m){c(m.type,lg(m),m.target,a(m,t.lockRef.current))},[]);g.useEffect(function(){return ac.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,oc),document.addEventListener("touchmove",l,oc),document.addEventListener("touchstart",u,oc),function(){ac=ac.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,oc),document.removeEventListener("touchmove",l,oc),document.removeEventListener("touchstart",u,oc)}},[]);var f=t.removeScrollBar,p=t.inert;return g.createElement(g.Fragment,null,p?g.createElement(s,{styles:qce(i)}):null,f?g.createElement(Lce,{gapMode:t.gapMode}):null)}const Yce=voe(m4,Kce);var b4=g.forwardRef(function(t,e){return g.createElement(Q_,Fi({},t,{ref:e,sideCar:Yce}))});b4.classNames=Q_.classNames;const Qce=b4;function Xce(t){const{autoFocus:e,trapFocus:n,dialogRef:r,initialFocusRef:i,blockScrollOnMount:s,allowPinchZoom:o,finalFocusRef:a,returnFocusOnClose:l,preserveScrollBarGap:c,lockFocusAcrossFrames:u,isOpen:d}=Pu(),[h,f]=$V();g.useEffect(()=>{!h&&f&&setTimeout(f)},[h,f]);const p=h4(r,d);return _.jsx(zj,{autoFocus:e,isDisabled:!n,initialFocusRef:i,finalFocusRef:a,restoreFocus:l,contentRef:r,lockFocusAcrossFrames:u,children:_.jsx(Qce,{removeScrollBar:!c,allowPinchZoom:o,enabled:p===1&&s,forwardProps:!0,children:t.children})})}var w4=ee((t,e)=>{const{className:n,children:r,containerProps:i,motionProps:s,...o}=t,{getDialogProps:a,getDialogContainerProps:l}=Pu(),c=a(o,e),u=l(i),d=Ae("chakra-modal__content",n),h=Lp(),f={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...h.dialog},p={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...h.dialogContainer},{motionPreset:m}=Pu();return _.jsx(Xce,{children:_.jsx(X.div,{...u,className:"chakra-modal__content-container",tabIndex:-1,__css:p,children:_.jsx(d4,{preset:m,motionProps:s,className:d,...c,__css:f,children:r})})})});w4.displayName="ModalContent";var S4=ee((t,e)=>{const{className:n,...r}=t,i=Ae("chakra-modal__footer",n),o={display:"flex",alignItems:"center",justifyContent:"flex-end",...Lp().footer};return _.jsx(X.footer,{ref:e,...r,__css:o,className:i})});S4.displayName="ModalFooter";var E4=ee((t,e)=>{const{className:n,...r}=t,{headerId:i,setHeaderMounted:s}=Pu();g.useEffect(()=>(s(!0),()=>s(!1)),[s]);const o=Ae("chakra-modal__header",n),l={flex:0,...Lp().header};return _.jsx(X.header,{ref:e,className:o,id:i,...r,__css:l})});E4.displayName="ModalHeader";var Zce=X(Fl.div),T4=ee((t,e)=>{const{className:n,transition:r,motionProps:i,...s}=t,o=Ae("chakra-modal__overlay",n),l={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Lp().overlay},{motionPreset:c}=Pu(),d=i||(c==="none"?{}:nj);return _.jsx(Zce,{...d,__css:l,ref:e,className:o,...s})});T4.displayName="ModalOverlay";var C4=ee((t,e)=>{const{onClick:n,className:r,...i}=t,{onClose:s}=Pu(),o=Ae("chakra-modal__close-btn",r),a=Lp();return _.jsx(YC,{ref:e,__css:a.closeButton,className:o,onClick:Tt(n,l=>{l.stopPropagation(),s()}),...i})});C4.displayName="ModalCloseButton";var x4=ee(function(e,n){const{children:r,placeholder:i,className:s,...o}=e;return _.jsxs(X.select,{...o,ref:n,className:Ae("chakra-select",s),children:[i&&_.jsx("option",{value:"",children:i}),r]})});x4.displayName="SelectField";function Jce(t,e){const n={},r={};for(const[i,s]of Object.entries(t))e.includes(i)?n[i]=s:r[i]=s;return[n,r]}var G1=ee((t,e)=>{var n;const r=Qs("Select",t),{rootProps:i,placeholder:s,icon:o,color:a,height:l,h:c,minH:u,minHeight:d,iconColor:h,iconSize:f,...p}=mn(t),[m,b]=Jce(p,kG),y=QC(b),v={width:"100%",height:"fit-content",position:"relative",color:a},w={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(n=r.field)==null?void 0:n._focus}};return _.jsxs(X.div,{className:"chakra-select__wrapper",__css:v,...m,...i,children:[_.jsx(x4,{ref:e,height:c??l,minH:u??d,placeholder:s,...y,__css:w,children:t.children}),_.jsx(I4,{"data-disabled":Ye(y.disabled),...(h||a)&&{color:h||a},__css:r.icon,...f&&{fontSize:f},children:o})]})});G1.displayName="Select";var eue=t=>_.jsx("svg",{viewBox:"0 0 24 24",...t,children:_.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),tue=X("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),I4=t=>{const{children:e=_.jsx(eue,{}),...n}=t,r=g.cloneElement(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return _.jsx(tue,{...n,className:"chakra-select__icon-wrapper",children:g.isValidElement(e)?r:null})};I4.displayName="SelectIcon";var[nue,k4]=yr({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),vx=ee((t,e)=>{const n=Qs("Tag",t),r=mn(t),i={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...n.container};return _.jsx(nue,{value:n,children:_.jsx(X.span,{ref:e,...r,__css:i})})});vx.displayName="Tag";var rue=ee((t,e)=>{const n=k4();return _.jsx(X.span,{ref:e,noOfLines:1,...t,__css:n.label})});rue.displayName="TagLabel";var iue=ee((t,e)=>_.jsx($n,{ref:e,verticalAlign:"top",marginEnd:"0.5rem",...t}));iue.displayName="TagLeftIcon";var sue=ee((t,e)=>_.jsx($n,{ref:e,verticalAlign:"top",marginStart:"0.5rem",...t}));sue.displayName="TagRightIcon";var A4=t=>_.jsx($n,{verticalAlign:"inherit",viewBox:"0 0 512 512",...t,children:_.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});A4.displayName="TagCloseIcon";var oue=ee((t,e)=>{const{isDisabled:n,children:r,...i}=t,o={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...k4().closeButton};return _.jsx(X.button,{ref:e,"aria-label":"close",...i,type:"button",disabled:n,__css:o,children:r||_.jsx(A4,{})})});oue.displayName="TagCloseButton";function aue(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var lue=["h","minH","height","minHeight"],P4=ee((t,e)=>{const n=Ii("Textarea",t),{className:r,rows:i,...s}=mn(t),o=QC(s),a=i?aue(n,lue):n;return _.jsx(X.textarea,{ref:e,rows:i,...o,className:Ae("chakra-textarea",r),__css:a})});P4.displayName="Textarea";var cue={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},K1=t=>{var e;return((e=t.current)==null?void 0:e.ownerDocument)||document},tv=t=>{var e,n;return((n=(e=t.current)==null?void 0:e.ownerDocument)==null?void 0:n.defaultView)||window};function uue(t={}){const{openDelay:e=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:i,closeOnScroll:s,closeOnPointerDown:o=i,closeOnEsc:a=!0,onOpen:l,onClose:c,placement:u,id:d,isOpen:h,defaultIsOpen:f,arrowSize:p=10,arrowShadowColor:m,arrowPadding:b,modifiers:y,isDisabled:v,gutter:w,offset:S,direction:C,...x}=t,{isOpen:T,onOpen:A,onClose:O}=ace({isOpen:h,defaultIsOpen:f,onOpen:l,onClose:c}),{referenceRef:N,getPopperProps:z,getArrowInnerProps:ve,getArrowProps:ne}=sce({enabled:T,placement:u,arrowPadding:b,modifiers:y,gutter:w,offset:S,direction:C}),le=g.useId(),me=`tooltip-${d??le}`,ye=g.useRef(null),$=g.useRef(),U=g.useCallback(()=>{$.current&&(clearTimeout($.current),$.current=void 0)},[]),J=g.useRef(),Y=g.useCallback(()=>{J.current&&(clearTimeout(J.current),J.current=void 0)},[]),ae=g.useCallback(()=>{Y(),O()},[O,Y]),ce=due(ye,ae),fe=g.useCallback(()=>{if(!v&&!$.current){T&&ce();const ze=tv(ye);$.current=ze.setTimeout(A,e)}},[ce,v,T,A,e]),Ie=g.useCallback(()=>{U();const ze=tv(ye);J.current=ze.setTimeout(ae,n)},[n,ae,U]),De=g.useCallback(()=>{T&&r&&Ie()},[r,Ie,T]),Be=g.useCallback(()=>{T&&o&&Ie()},[o,Ie,T]),tt=g.useCallback(ze=>{T&&ze.key==="Escape"&&Ie()},[T,Ie]);yw(()=>K1(ye),"keydown",a?tt:void 0),yw(()=>{const ze=ye.current;if(!ze)return null;const Ft=jj(ze);return Ft.localName==="body"?tv(ye):Ft},"scroll",()=>{T&&s&&ae()},{passive:!0,capture:!0}),g.useEffect(()=>{v&&(U(),T&&O())},[v,T,O,U]),g.useEffect(()=>()=>{U(),Y()},[U,Y]),yw(()=>ye.current,"pointerleave",Ie);const Lt=g.useCallback((ze={},Ft=null)=>({...ze,ref:ns(ye,Ft,N),onPointerEnter:Tt(ze.onPointerEnter,Se=>{Se.pointerType!=="touch"&&fe()}),onClick:Tt(ze.onClick,De),onPointerDown:Tt(ze.onPointerDown,Be),onFocus:Tt(ze.onFocus,fe),onBlur:Tt(ze.onBlur,Ie),"aria-describedby":T?me:void 0}),[fe,Ie,Be,T,me,De,N]),Ut=g.useCallback((ze={},Ft=null)=>z({...ze,style:{...ze.style,[wn.arrowSize.var]:p?`${p}px`:void 0,[wn.arrowShadowColor.var]:m}},Ft),[z,p,m]),Pt=g.useCallback((ze={},Ft=null)=>{const fs={...ze.style,position:"relative",transformOrigin:wn.transformOrigin.varRef};return{ref:Ft,...x,...ze,id:me,role:"tooltip",style:fs}},[x,me]);return{isOpen:T,show:fe,hide:Ie,getTriggerProps:Lt,getTooltipProps:Pt,getTooltipPositionerProps:Ut,getArrowProps:ne,getArrowInnerProps:ve}}var xw="chakra-ui:close-tooltip";function due(t,e){return g.useEffect(()=>{const n=K1(t);return n.addEventListener(xw,e),()=>n.removeEventListener(xw,e)},[e,t]),()=>{const n=K1(t),r=tv(t);n.dispatchEvent(new r.CustomEvent(xw))}}function hue(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function fue(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}var pue=X(Fl.div),R4=ee((t,e)=>{var n,r;const i=Ii("Tooltip",t),s=mn(t),o=ZL(),{children:a,label:l,shouldWrapChildren:c,"aria-label":u,hasArrow:d,bg:h,portalProps:f,background:p,backgroundColor:m,bgColor:b,motionProps:y,...v}=s,w=(r=(n=p??m)!=null?n:h)!=null?r:b;if(w){i.bg=w;const z=zG(o,"colors",w);i[wn.arrowBg.var]=z}const S=uue({...v,direction:o.direction}),C=typeof a=="string"||c;let x;if(C)x=_.jsx(X.span,{display:"inline-block",tabIndex:0,...S.getTriggerProps(),children:a});else{const z=g.Children.only(a);x=g.cloneElement(z,S.getTriggerProps(z.props,z.ref))}const T=!!u,A=S.getTooltipProps({},e),O=T?hue(A,["role","id"]):A,N=fue(A,["role","id"]);return l?_.jsxs(_.Fragment,{children:[x,_.jsx(id,{children:S.isOpen&&_.jsx(rd,{...f,children:_.jsx(X.div,{...S.getTooltipPositionerProps(),__css:{zIndex:i.zIndex,pointerEvents:"none"},children:_.jsxs(pue,{variants:cue,initial:"exit",animate:"enter",exit:"exit",...y,...O,__css:i,children:[l,T&&_.jsx(X.span,{srOnly:!0,...N,children:u}),d&&_.jsx(X.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:_.jsx(X.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:i.bg}})})]})})})})]}):_.jsx(_.Fragment,{children:a})});R4.displayName="Tooltip";var N4,JN=pC;N4=JN.createRoot,JN.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Af.apply(this,arguments)}var Co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Co||(Co={}));const eO="popstate";function mue(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Y1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ry(i)}return vue(e,n,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gue(){return Math.random().toString(36).substr(2,8)}function tO(t,e){return{usr:t.state,key:t.key,idx:e}}function Y1(t,e,n,r){return n===void 0&&(n=null),Af({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ld(e):e,{state:n,key:e&&e.key||r||gue()})}function ry(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ld(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vue(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Co.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Af({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Co.Pop;let b=u(),y=b==null?null:b-c;c=b,l&&l({action:a,location:m.location,delta:y})}function h(b,y){a=Co.Push;let v=Y1(m.location,b,y);n&&n(v,b),c=u()+1;let w=tO(v,c),S=m.createHref(v);try{o.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}s&&l&&l({action:a,location:m.location,delta:1})}function f(b,y){a=Co.Replace;let v=Y1(m.location,b,y);n&&n(v,b),c=u();let w=tO(v,c),S=m.createHref(v);o.replaceState(w,"",S),s&&l&&l({action:a,location:m.location,delta:0})}function p(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:ry(b);return Bt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eO,d),l=b,()=>{i.removeEventListener(eO,d),l=null}},createHref(b){return e(i,b)},createURL:p,encodeLocation(b){let y=p(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(b){return o.go(b)}};return m}var nO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nO||(nO={}));function yue(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ld(e):e,i=_x(r.pathname||"/",n);if(i==null)return null;let s=O4(t);_ue(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=kue(s[a],Rue(i));return o}function O4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Lo([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Bt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),O4(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:xue(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of D4(s.path))i(s,o,l)}),e}function D4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=D4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _ue(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Iue(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bue=/^:\w+$/,wue=3,Sue=2,Eue=1,Tue=10,Cue=-2,rO=t=>t==="*";function xue(t,e){let n=t.split("/"),r=n.length;return n.some(rO)&&(r+=Cue),e&&(r+=Sue),n.filter(i=>!rO(i)).reduce((i,s)=>i+(bue.test(s)?wue:s===""?Eue:Tue),r)}function Iue(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kue(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=Aue({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Lo([i,u.pathname]),pathnameBase:Mue(Lo([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Lo([i,u.pathnameBase]))}return s}function Aue(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Pue(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=Nue(a[d]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Pue(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Rue(t){try{return decodeURI(t)}catch(e){return yx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nue(t,e){try{return decodeURIComponent(t)}catch(n){return yx(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function _x(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Oue(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ld(t):t;return{pathname:n?n.startsWith("/")?n:Due(n,e):e,search:$ue(r),hash:Lue(i)}}function Due(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Iw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ld(t):(i=Af({},t),Bt(!i.pathname||!i.pathname.includes("?"),Iw("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),Iw("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),Iw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=Oue(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Lo=t=>t.join("/").replace(/\/\/+/g,"/"),Mue=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$ue=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Lue=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Fue(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M4=["post","put","patch","delete"];new Set(M4);const Vue=["get",...M4];new Set(Vue);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}const Sx=g.createContext(null),jue=g.createContext(null),cd=g.createContext(null),X_=g.createContext(null),us=g.createContext({outlet:null,matches:[],isDataRoute:!1}),$4=g.createContext(null);function Bue(t,e){let{relative:n}=e===void 0?{}:e;ud()||Bt(!1);let{basename:r,navigator:i}=g.useContext(cd),{hash:s,pathname:o,search:a}=V4(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Lo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ud(){return g.useContext(X_)!=null}function dd(){return ud()||Bt(!1),g.useContext(X_).location}function L4(t){g.useContext(cd).static||g.useLayoutEffect(t)}function Z_(){let{isDataRoute:t}=g.useContext(us);return t?nde():zue()}function zue(){ud()||Bt(!1);let t=g.useContext(Sx),{basename:e,navigator:n}=g.useContext(cd),{matches:r}=g.useContext(us),{pathname:i}=dd(),s=JSON.stringify(bx(r).map(l=>l.pathnameBase)),o=g.useRef(!1);return L4(()=>{o.current=!0}),g.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=wx(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Lo([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}const Uue=g.createContext(null);function Wue(t){let e=g.useContext(us).outlet;return e&&g.createElement(Uue.Provider,{value:t},e)}function F4(){let{matches:t}=g.useContext(us),e=t[t.length-1];return e?e.params:{}}function V4(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=g.useContext(us),{pathname:i}=dd(),s=JSON.stringify(bx(r).map(o=>o.pathnameBase));return g.useMemo(()=>wx(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function Hue(t,e){return que(t,e)}function que(t,e,n){ud()||Bt(!1);let{navigator:r}=g.useContext(cd),{matches:i}=g.useContext(us),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=dd(),c;if(e){var u;let m=typeof e=="string"?ld(e):e;a==="/"||(u=m.pathname)!=null&&u.startsWith(a)||Bt(!1),c=m}else c=l;let d=c.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",f=yue(t,{pathname:h}),p=Xue(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Lo([a,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:Lo([a,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n);return e&&p?g.createElement(X_.Provider,{value:{location:iy({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Co.Pop}},p):p}function Gue(){let t=tde(),e=Fue(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,s)}const Kue=g.createElement(Gue,null);class Yue extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?g.createElement(us.Provider,{value:this.props.routeContext},g.createElement($4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Que(t){let{routeContext:e,match:n,children:r}=t,i=g.useContext(Sx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(us.Provider,{value:e},r)}function Xue(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Bt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||Kue);let h=e.concat(s.slice(0,c+1)),f=()=>{let p;return u?p=d:l.route.Component?p=g.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,g.createElement(Que,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?g.createElement(Yue,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var j4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(j4||{}),sy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sy||{});function Zue(t){let e=g.useContext(Sx);return e||Bt(!1),e}function Jue(t){let e=g.useContext(jue);return e||Bt(!1),e}function ede(t){let e=g.useContext(us);return e||Bt(!1),e}function B4(t){let e=ede(),n=e.matches[e.matches.length-1];return n.route.id||Bt(!1),n.route.id}function tde(){var t;let e=g.useContext($4),n=Jue(sy.UseRouteError),r=B4(sy.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function nde(){let{router:t}=Zue(j4.UseNavigateStable),e=B4(sy.UseNavigateStable),n=g.useRef(!1);return L4(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,iy({fromRouteId:e},s)))},[t,e])}function z4(t){let{to:e,replace:n,state:r,relative:i}=t;ud()||Bt(!1);let{matches:s}=g.useContext(us),{pathname:o}=dd(),a=Z_(),l=wx(e,bx(s).map(u=>u.pathnameBase),o,i==="path"),c=JSON.stringify(l);return g.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function rde(t){return Wue(t.context)}function co(t){Bt(!1)}function ide(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Co.Pop,navigator:s,static:o=!1}=t;ud()&&Bt(!1);let a=e.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ld(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,p=g.useMemo(()=>{let m=_x(c,a);return m==null?null:{location:{pathname:m,search:u,hash:d,state:h,key:f},navigationType:i}},[a,c,u,d,h,f,i]);return p==null?null:g.createElement(cd.Provider,{value:l},g.createElement(X_.Provider,{children:n,value:p}))}function sde(t){let{children:e,location:n}=t;return Hue(Q1(e),n)}new Promise(()=>{});function Q1(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,Q1(r.props.children,s));return}r.type!==co&&Bt(!1),!r.props.index||!r.props.children||Bt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Q1(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(this,arguments)}function ode(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ade(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lde(t,e){return t.button===0&&(!e||e==="_self")&&!ade(t)}const cde=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ude="startTransition",iO=gS[ude];function dde(t){let{basename:e,children:n,future:r,window:i}=t,s=g.useRef();s.current==null&&(s.current=mue({window:i,v5Compat:!0}));let o=s.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=g.useCallback(d=>{c&&iO?iO(()=>l(d)):l(d)},[l,c]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.createElement(ide,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const hde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fde=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U4=g.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,d=ode(e,cde),{basename:h}=g.useContext(cd),f,p=!1;if(typeof c=="string"&&fde.test(c)&&(f=c,hde))try{let v=new URL(window.location.href),w=c.startsWith("//")?new URL(v.protocol+c):new URL(c),S=_x(w.pathname,h);w.origin===v.origin&&S!=null?c=S+w.search+w.hash:p=!0}catch{}let m=Bue(c,{relative:i}),b=pde(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function y(v){r&&r(v),v.defaultPrevented||b(v)}return g.createElement("a",X1({},d,{href:f||m,onClick:p||s?r:y,ref:n,target:l}))});var sO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(sO||(sO={}));var oO;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oO||(oO={}));function pde(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Z_(),l=dd(),c=V4(t,{relative:o});return g.useCallback(u=>{if(lde(u,n)){u.preventDefault();let d=r!==void 0?r:ry(l)===ry(c);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}function mde(){const{pathname:t}=dd();return g.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function Xs(){return _.jsx(Jj,{h:"100%",w:"100%",children:_.jsx(W_,{})})}const gde=()=>Math.round(Math.random()*6*100)/100-3,Z1=ee(({tooltip:t,children:e,...n},r)=>{const i=g.useMemo(gde,[]),s=t?_.jsx(R4,{label:t,children:e}):e;return _.jsx(vx,{...n,ref:r,cursor:"default",_hover:{transform:`scale(1.1) rotate(${i}deg)`},children:s})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e){if(!t)throw hd(e)},hd=function(t){return new Error("Firebase Database ("+W4.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vde=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ex={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vde(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new yde;const h=s<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yde extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q4=function(t){const e=H4(t);return Ex.encodeByteArray(e,!0)},oy=function(t){return q4(t).replace(/\./g,"")},ay=function(t){try{return Ex.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _de(t){return G4(void 0,t)}function G4(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!bde(n)||(t[n]=G4(t[n],e[n]));return t}function bde(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sde=()=>wde().__FIREBASE_DEFAULTS__,Ede=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Tde=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ay(t[1]);return e&&JSON.parse(e)},Tx=()=>{try{return Sde()||Ede()||Tde()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K4=t=>{var e,n;return(n=(e=Tx())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Cde=t=>{const e=K4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Y4=()=>{var t;return(t=Tx())===null||t===void 0?void 0:t.config},Q4=t=>{var e;return(e=Tx())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xde(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[oy(JSON.stringify(n)),oy(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function Ide(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function X4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kde(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Z4(){return W4.NODE_ADMIN===!0}function J4(){try{return typeof indexedDB=="object"}catch{return!1}}function Ade(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pde="FirebaseError";class ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Pde,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Rde(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ii(i,a,r)}}function Rde(t,e){return t.replace(Nde,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Nde=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t){return JSON.parse(t)}function dn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Pf(ay(s[0])||""),n=Pf(ay(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Ode=function(t){const e=eB(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Dde=function(t){const e=eB(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ru(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function J1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ly(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function cy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(aO(s)&&aO(o)){if(!cy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mde{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function $de(t,e){const n=new Lde(t,e);return n.subscribe.bind(n)}class Lde{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Fde(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kw),i.error===void 0&&(i.error=kw),i.complete===void 0&&(i.complete=kw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fde(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kw(){}function tB(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vde=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,V(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},J_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jde=1e3,Bde=2,zde=4*60*60*1e3,Ude=.5;function Wde(t,e=jde,n=Bde){const r=e*Math.pow(n,t),i=Math.round(Ude*r*(Math.random()-.5)*2);return Math.min(zde,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class Dr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gde(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qde(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qde(t){return t===Ia?void 0:t}function Gde(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kde{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Hde(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const Yde={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Qde=Re.INFO,Xde={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Zde=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Xde[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fp{constructor(e){this.name=e,this._logLevel=Qde,this._logHandler=Zde,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yde[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const Jde=(t,e)=>e.some(n=>t instanceof n);let lO,cO;function ehe(){return lO||(lO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function the(){return cO||(cO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nB=new WeakMap,eE=new WeakMap,rB=new WeakMap,Aw=new WeakMap,Ix=new WeakMap;function nhe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nB.set(n,t)}).catch(()=>{}),Ix.set(e,t),e}function rhe(t){if(eE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});eE.set(t,e)}let tE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ihe(t){tE=t(tE)}function she(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pw(this),e,...n);return rB.set(r,e.sort?e.sort():[e]),Fo(r)}:the().includes(t)?function(...e){return t.apply(Pw(this),e),Fo(nB.get(this))}:function(...e){return Fo(t.apply(Pw(this),e))}}function ohe(t){return typeof t=="function"?she(t):(t instanceof IDBTransaction&&rhe(t),Jde(t,ehe())?new Proxy(t,tE):t)}function Fo(t){if(t instanceof IDBRequest)return nhe(t);if(Aw.has(t))return Aw.get(t);const e=ohe(t);return e!==t&&(Aw.set(t,e),Ix.set(e,t)),e}const Pw=t=>Ix.get(t);function ahe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fo(o.result),l.oldVersion,l.newVersion,Fo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const lhe=["get","getKey","getAll","getAllKeys","count"],che=["put","add","delete","clear"],Rw=new Map;function uO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rw.get(e))return Rw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=che.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lhe.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Rw.set(e,s),s}ihe(t=>({...t,get:(e,n,r)=>uO(e,n)||t.get(e,n,r),has:(e,n)=>!!uO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dhe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dhe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nE="@firebase/app",dO="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new Fp("@firebase/app"),hhe="@firebase/app-compat",fhe="@firebase/analytics-compat",phe="@firebase/analytics",mhe="@firebase/app-check-compat",ghe="@firebase/app-check",vhe="@firebase/auth",yhe="@firebase/auth-compat",_he="@firebase/database",bhe="@firebase/database-compat",whe="@firebase/functions",She="@firebase/functions-compat",Ehe="@firebase/installations",The="@firebase/installations-compat",Che="@firebase/messaging",xhe="@firebase/messaging-compat",Ihe="@firebase/performance",khe="@firebase/performance-compat",Ahe="@firebase/remote-config",Phe="@firebase/remote-config-compat",Rhe="@firebase/storage",Nhe="@firebase/storage-compat",Ohe="@firebase/firestore",Dhe="@firebase/firestore-compat",Mhe="firebase",$he="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="[DEFAULT]",Lhe={[nE]:"fire-core",[hhe]:"fire-core-compat",[phe]:"fire-analytics",[fhe]:"fire-analytics-compat",[ghe]:"fire-app-check",[mhe]:"fire-app-check-compat",[vhe]:"fire-auth",[yhe]:"fire-auth-compat",[_he]:"fire-rtdb",[bhe]:"fire-rtdb-compat",[whe]:"fire-fn",[She]:"fire-fn-compat",[Ehe]:"fire-iid",[The]:"fire-iid-compat",[Che]:"fire-fcm",[xhe]:"fire-fcm-compat",[Ihe]:"fire-perf",[khe]:"fire-perf-compat",[Ahe]:"fire-rc",[Phe]:"fire-rc-compat",[Rhe]:"fire-gcs",[Nhe]:"fire-gcs-compat",[Ohe]:"fire-fst",[Dhe]:"fire-fst-compat","fire-js":"fire-js",[Mhe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,iE=new Map;function Fhe(t,e){try{t.container.addComponent(e)}catch(n){gl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ri(t){const e=t.name;if(iE.has(e))return gl.debug(`There were multiple attempts to register component ${e}.`),!1;iE.set(e,t);for(const n of Rf.values())Fhe(n,t);return!0}function Vp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vhe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vo=new Vl("app","Firebase",Vhe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jhe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=$he;function iB(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rE,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vo.create("bad-app-name",{appName:String(i)});if(n||(n=Y4()),!n)throw Vo.create("no-options");const s=Rf.get(i);if(s){if(cy(n,s.options)&&cy(r,s.config))return s;throw Vo.create("duplicate-app",{appName:i})}const o=new Kde(i);for(const l of iE.values())o.addComponent(l);const a=new jhe(n,r,o);return Rf.set(i,a),a}function sB(t=rE){const e=Rf.get(t);if(!e&&t===rE&&Y4())return iB();if(!e)throw Vo.create("no-app",{appName:t});return e}function Bhe(){return Array.from(Rf.values())}function Qt(t,e,n){var r;let i=(r=Lhe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gl.warn(a.join(" "));return}ri(new Dr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zhe="firebase-heartbeat-database",Uhe=1,Nf="firebase-heartbeat-store";let Nw=null;function oB(){return Nw||(Nw=ahe(zhe,Uhe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Nf)}}}).catch(t=>{throw Vo.create("idb-open",{originalErrorMessage:t.message})})),Nw}async function Whe(t){try{return await(await oB()).transaction(Nf).objectStore(Nf).get(aB(t))}catch(e){if(e instanceof ii)gl.warn(e.message);else{const n=Vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gl.warn(n.message)}}}async function hO(t,e){try{const r=(await oB()).transaction(Nf,"readwrite");await r.objectStore(Nf).put(e,aB(t)),await r.done}catch(n){if(n instanceof ii)gl.warn(n.message);else{const r=Vo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gl.warn(r.message)}}}function aB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe=1024,qhe=30*24*60*60*1e3;class Ghe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yhe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fO();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=qhe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fO(),{heartbeatsToSend:n,unsentEntries:r}=Khe(this._heartbeatsCache.heartbeats),i=oy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function fO(){return new Date().toISOString().substring(0,10)}function Khe(t,e=Hhe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Yhe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J4()?Ade().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Whe(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pO(t){return oy(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qhe(t){ri(new Dr("platform-logger",e=>new uhe(e),"PRIVATE")),ri(new Dr("heartbeat",e=>new Ghe(e),"PRIVATE")),Qt(nE,dO,t),Qt(nE,dO,"esm2017"),Qt("fire-js","")}Qhe("");var Xhe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,kx=kx||{},ge=Xhe||self;function e0(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function jp(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Zhe(t){return Object.prototype.hasOwnProperty.call(t,Ow)&&t[Ow]||(t[Ow]=++Jhe)}var Ow="closure_uid_"+(1e9*Math.random()>>>0),Jhe=0;function efe(t,e,n){return t.call.apply(t.bind,arguments)}function tfe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ln(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ln=efe:Ln=tfe,Ln.apply(null,arguments)}function cg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function gn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ha(){this.s=this.s,this.o=this.o}var nfe=0;ha.prototype.s=!1;ha.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),nfe!=0)&&Zhe(this)};ha.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lB=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ax(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(e0(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Fn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Fn.prototype.h=function(){this.defaultPrevented=!0};var rfe=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Of(t){return/^[\s\xa0]*$/.test(t)}function t0(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function Vi(t){return t0().indexOf(t)!=-1}function Px(t){return Px[" "](t),t}Px[" "]=function(){};function ife(t,e){var n=Qfe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var sfe=Vi("Opera"),Nu=Vi("Trident")||Vi("MSIE"),cB=Vi("Edge"),sE=cB||Nu,uB=Vi("Gecko")&&!(t0().toLowerCase().indexOf("webkit")!=-1&&!Vi("Edge"))&&!(Vi("Trident")||Vi("MSIE"))&&!Vi("Edge"),ofe=t0().toLowerCase().indexOf("webkit")!=-1&&!Vi("Edge");function dB(){var t=ge.document;return t?t.documentMode:void 0}var oE;e:{var Dw="",Mw=function(){var t=t0();if(uB)return/rv:([^\);]+)(\)|;)/.exec(t);if(cB)return/Edge\/([\d\.]+)/.exec(t);if(Nu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ofe)return/WebKit\/(\S+)/.exec(t);if(sfe)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mw&&(Dw=Mw?Mw[1]:""),Nu){var $w=dB();if($w!=null&&$w>parseFloat(Dw)){oE=String($w);break e}}oE=Dw}var aE;if(ge.document&&Nu){var gO=dB();aE=gO||parseInt(oE,10)||void 0}else aE=void 0;var afe=aE;function Df(t,e){if(Fn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uB){e:{try{Px(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:lfe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Df.$.h.call(this)}}gn(Df,Fn);var lfe={2:"touch",3:"pen",4:"mouse"};Df.prototype.h=function(){Df.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bp="closure_listenable_"+(1e6*Math.random()|0),cfe=0;function ufe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++cfe,this.fa=this.ia=!1}function n0(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Rx(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dfe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function hB(t){const e={};for(const n in t)e[n]=t[n];return e}const vO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fB(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<vO.length;s++)n=vO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function r0(t){this.src=t,this.g={},this.h=0}r0.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=cE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new ufe(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function lE(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=lB(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(n0(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function cE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Nx="closure_lm_"+(1e6*Math.random()|0),Lw={};function pB(t,e,n,r,i){if(r&&r.once)return gB(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pB(t,e[s],n,r,i);return null}return n=Mx(n),t&&t[Bp]?t.O(e,n,jp(r)?!!r.capture:!!r,i):mB(t,e,n,!1,r,i)}function mB(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=jp(i)?!!i.capture:!!i,a=Dx(t);if(a||(t[Nx]=a=new r0(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=hfe(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rfe||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yB(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hfe(){function t(n){return e.call(t.src,t.listener,n)}const e=ffe;return t}function gB(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gB(t,e[s],n,r,i);return null}return n=Mx(n),t&&t[Bp]?t.P(e,n,jp(r)?!!r.capture:!!r,i):mB(t,e,n,!0,r,i)}function vB(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)vB(t,e[s],n,r,i);else r=jp(r)?!!r.capture:!!r,n=Mx(n),t&&t[Bp]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=cE(s,n,r,i),-1<n&&(n0(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Dx(t))&&(e=t.g[e.toString()],t=-1,e&&(t=cE(e,n,r,i)),(n=-1<t?e[t]:null)&&Ox(n))}function Ox(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Bp])lE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yB(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Dx(e))?(lE(n,t),n.h==0&&(n.src=null,e[Nx]=null)):n0(t)}}}function yB(t){return t in Lw?Lw[t]:Lw[t]="on"+t}function ffe(t,e){if(t.fa)t=!0;else{e=new Df(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ox(t),t=n.call(r,e)}return t}function Dx(t){return t=t[Nx],t instanceof r0?t:null}var Fw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mx(t){return typeof t=="function"?t:(t[Fw]||(t[Fw]=function(e){return t.handleEvent(e)}),t[Fw])}function fn(){ha.call(this),this.i=new r0(this),this.S=this,this.J=null}gn(fn,ha);fn.prototype[Bp]=!0;fn.prototype.removeEventListener=function(t,e,n,r){vB(this,t,e,n,r)};function Tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Fn(e,t);else if(e instanceof Fn)e.target=e.target||t;else{var i=e;e=new Fn(r,t),fB(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ug(o,r,!0,e)&&i}if(o=e.g=t,i=ug(o,r,!0,e)&&i,i=ug(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ug(o,r,!1,e)&&i}fn.prototype.N=function(){if(fn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)n0(n[r]);delete t.g[e],t.h--}}this.J=null};fn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};fn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ug(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&lE(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var $x=ge.JSON.stringify;class pfe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function mfe(){var t=Lx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class gfe{constructor(){this.h=this.g=null}add(e,n){const r=_B.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _B=new pfe(()=>new vfe,t=>t.reset());class vfe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yfe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function _fe(t){ge.setTimeout(()=>{throw t},0)}let Mf,$f=!1,Lx=new gfe,bB=()=>{const t=ge.Promise.resolve(void 0);Mf=()=>{t.then(bfe)}};var bfe=()=>{for(var t;t=mfe();){try{t.h.call(t.g)}catch(n){_fe(n)}var e=_B;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$f=!1};function i0(t,e){fn.call(this),this.h=t||1,this.g=e||ge,this.j=Ln(this.qb,this),this.l=Date.now()}gn(i0,fn);B=i0.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(Fx(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fx(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}B.N=function(){i0.$.N.call(this),Fx(this),delete this.g};function Vx(t,e,n){if(typeof t=="function")n&&(t=Ln(t,n));else if(t&&typeof t.handleEvent=="function")t=Ln(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function wB(t){t.g=Vx(()=>{t.g=null,t.i&&(t.i=!1,wB(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wfe extends ha{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wB(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lf(t){ha.call(this),this.h=t,this.g={}}gn(Lf,ha);var yO=[];function SB(t,e,n,r){Array.isArray(n)||(n&&(yO[0]=n.toString()),n=yO);for(var i=0;i<n.length;i++){var s=pB(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function EB(t){Rx(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ox(e)},t),t.g={}}Lf.prototype.N=function(){Lf.$.N.call(this),EB(this)};Lf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function s0(){this.g=!0}s0.prototype.Ea=function(){this.g=!1};function Sfe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Efe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Vc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Cfe(t,n)+(r?" "+r:"")})}function Tfe(t,e){t.info(function(){return"TIMEOUT: "+e})}s0.prototype.info=function(){};function Cfe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return $x(n)}catch{return e}}var jl={},_O=null;function o0(){return _O=_O||new fn}jl.Ta="serverreachability";function TB(t){Fn.call(this,jl.Ta,t)}gn(TB,Fn);function Ff(t){const e=o0();Tn(e,new TB(e))}jl.STAT_EVENT="statevent";function CB(t,e){Fn.call(this,jl.STAT_EVENT,t),this.stat=e}gn(CB,Fn);function Gn(t){const e=o0();Tn(e,new CB(e,t))}jl.Ua="timingevent";function xB(t,e){Fn.call(this,jl.Ua,t),this.size=e}gn(xB,Fn);function zp(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}var a0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},IB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jx(){}jx.prototype.h=null;function bO(t){return t.h||(t.h=t.i())}function kB(){}var Up={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bx(){Fn.call(this,"d")}gn(Bx,Fn);function zx(){Fn.call(this,"c")}gn(zx,Fn);var uE;function l0(){}gn(l0,jx);l0.prototype.g=function(){return new XMLHttpRequest};l0.prototype.i=function(){return{}};uE=new l0;function Wp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Lf(this),this.P=xfe,t=sE?125:void 0,this.V=new i0(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AB}function AB(){this.i=null,this.g="",this.h=!1}var xfe=45e3,dE={},uy={};B=Wp.prototype;B.setTimeout=function(t){this.P=t};function hE(t,e,n){t.L=1,t.v=u0(Us(e)),t.s=n,t.S=!0,PB(t,null)}function PB(t,e){t.G=Date.now(),Hp(t),t.A=Us(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),FB(n.i,"t",r),t.C=0,n=t.l.J,t.h=new AB,t.g=s5(t.l,n?e:null,!t.s),0<t.O&&(t.M=new wfe(Ln(t.Pa,t,t.g),t.O)),SB(t.U,t.g,"readystatechange",t.nb),e=t.I?hB(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ff(),Sfe(t.j,t.u,t.A,t.m,t.W,t.s)}B.nb=function(t){t=t.target;const e=this.M;e&&Bi(t)==3?e.l():this.Pa(t)};B.Pa=function(t){try{if(t==this.g)e:{const u=Bi(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||sE||this.g&&(this.h.h||this.g.ja()||TO(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Ff(3):Ff(2)),c0(this);var n=this.g.da();this.ca=n;t:if(RB(this)){var r=TO(this.g);t="";var i=r.length,s=Bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Va(this),Lh(this);var o="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Efe(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Of(a)){var c=a;break t}}c=null}if(n=c)Vc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fE(this,n);else{this.i=!1,this.o=3,Gn(12),Va(this),Lh(this);break e}}this.S?(NB(this,u,o),sE&&this.i&&u==3&&(SB(this.U,this.V,"tick",this.mb),this.V.start())):(Vc(this.j,this.m,o,null),fE(this,o)),u==4&&Va(this),this.i&&!this.J&&(u==4?t5(this.l,this):(this.i=!1,Hp(this)))}else Gfe(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Gn(12)):(this.o=0,Gn(13)),Va(this),Lh(this)}}}catch{}finally{}};function RB(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function NB(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Ife(t,n),i==uy){e==4&&(t.o=4,Gn(14),r=!1),Vc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==dE){t.o=4,Gn(15),Vc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Vc(t.j,t.m,i,null),fE(t,i);RB(t)&&i!=uy&&i!=dE&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kx(e),e.M=!0,Gn(11))):(Vc(t.j,t.m,n,"[Invalid Chunked Response]"),Va(t),Lh(t))}B.mb=function(){if(this.g){var t=Bi(this.g),e=this.g.ja();this.C<e.length&&(c0(this),NB(this,t,e),this.i&&t!=4&&Hp(this))}};function Ife(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?uy:(n=Number(e.substring(n,r)),isNaN(n)?dE:(r+=1,r+n>e.length?uy:(e=e.slice(r,r+n),t.C=r+n,e)))}B.cancel=function(){this.J=!0,Va(this)};function Hp(t){t.Y=Date.now()+t.P,OB(t,t.P)}function OB(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=zp(Ln(t.lb,t),e)}function c0(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}B.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Tfe(this.j,this.A),this.L!=2&&(Ff(),Gn(17)),Va(this),this.o=2,Lh(this)):OB(this,this.Y-t)};function Lh(t){t.l.H==0||t.J||t5(t.l,t)}function Va(t){c0(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Fx(t.V),EB(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function fE(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||pE(n.i,t))){if(!t.K&&pE(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)fy(n),p0(n);else break e;Gx(n),Gn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=zp(Ln(n.ib,n),6e3));if(1>=BB(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ja(n,11)}else if((t.K||n.g==t)&&fy(n),!Of(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ux(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,vt(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=i5(r,r.J?r.pa:null,r.Y),o.K){zB(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(c0(a),Hp(a)),r.g=o}else JB(r);0<n.j.length&&m0(n)}else c[0]!="stop"&&c[0]!="close"||ja(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ja(n,7):qx(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ff(4)}catch{}}function kfe(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(e0(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Afe(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(e0(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function DB(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(e0(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Afe(t),r=kfe(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var MB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pfe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function el(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof el){this.h=t.h,dy(this,t.j),this.s=t.s,this.g=t.g,hy(this,t.m),this.l=t.l;var e=t.i,n=new Vf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wO(this,n),this.o=t.o}else t&&(e=String(t).match(MB))?(this.h=!1,dy(this,e[1]||"",!0),this.s=ch(e[2]||""),this.g=ch(e[3]||"",!0),hy(this,e[4]),this.l=ch(e[5]||"",!0),wO(this,e[6]||"",!0),this.o=ch(e[7]||"")):(this.h=!1,this.i=new Vf(null,this.h))}el.prototype.toString=function(){var t=[],e=this.j;e&&t.push(uh(e,SO,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(uh(e,SO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(uh(n,n.charAt(0)=="/"?Ofe:Nfe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",uh(n,Mfe)),t.join("")};function Us(t){return new el(t)}function dy(t,e,n){t.j=n?ch(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wO(t,e,n){e instanceof Vf?(t.i=e,$fe(t.i,t.h)):(n||(e=uh(e,Dfe)),t.i=new Vf(e,t.h))}function vt(t,e,n){t.i.set(e,n)}function u0(t){return vt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ch(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Rfe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rfe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var SO=/[#\/\?@]/g,Nfe=/[#\?:]/g,Ofe=/[#\?]/g,Dfe=/[#\?@]/g,Mfe=/#/g;function Vf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fa(t){t.g||(t.g=new Map,t.h=0,t.i&&Pfe(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=Vf.prototype;B.add=function(t,e){fa(this),this.i=null,t=pd(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $B(t,e){fa(t),e=pd(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function LB(t,e){return fa(t),e=pd(t,e),t.g.has(e)}B.forEach=function(t,e){fa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};B.ta=function(){fa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};B.Z=function(t){fa(this);let e=[];if(typeof t=="string")LB(this,t)&&(e=e.concat(this.g.get(pd(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return fa(this),this.i=null,t=pd(this,t),LB(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function FB(t,e,n){$B(t,e),0<n.length&&(t.i=null,t.g.set(pd(t,e),Ax(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function pd(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $fe(t,e){e&&!t.j&&(fa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($B(this,r),FB(this,i,n))},t)),t.j=e}var Lfe=class{constructor(t,e){this.g=t,this.map=e}};function VB(t){this.l=t||Ffe,ge.PerformanceNavigationTiming?(t=ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ffe=10;function jB(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BB(t){return t.h?1:t.g?t.g.size:0}function pE(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ux(t,e){t.g?t.g.add(e):t.h=e}function zB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}VB.prototype.cancel=function(){if(this.i=UB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function UB(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ax(t.i)}var Vfe=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function jfe(){this.g=new Vfe}function Bfe(t,e,n){const r=n||"";try{DB(t,function(i,s){let o=i;jp(i)&&(o=$x(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function zfe(t,e){const n=new s0;if(ge.Image){const r=new Image;r.onload=cg(dg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cg(dg,n,r,"TestLoadImage: error",!1,e),r.onabort=cg(dg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cg(dg,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function dg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function d0(t){this.l=t.ec||null,this.j=t.ob||!1}gn(d0,jx);d0.prototype.g=function(){return new h0(this.l,this.j)};d0.prototype.i=function(t){return function(){return t}}({});function h0(t,e){fn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Wx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gn(h0,fn);var Wx=0;B=h0.prototype;B.open=function(t,e){if(this.readyState!=Wx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jf(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qp(this)),this.readyState=Wx};B.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jf(this)),this.g&&(this.readyState=3,jf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WB(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function WB(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}B.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qp(this):jf(this),this.readyState==3&&WB(this)}};B.Za=function(t){this.g&&(this.response=this.responseText=t,qp(this))};B.Ya=function(t){this.g&&(this.response=t,qp(this))};B.ka=function(){this.g&&qp(this)};function qp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jf(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function jf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(h0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Ufe=ge.JSON.parse;function $t(t){fn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HB,this.L=this.M=!1}gn($t,fn);var HB="",Wfe=/^https?$/i,Hfe=["POST","PUT"];B=$t.prototype;B.Oa=function(t){this.M=t};B.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():uE.g(),this.C=this.u?bO(this.u):bO(uE),this.g.onreadystatechange=Ln(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){EO(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ge.FormData&&t instanceof ge.FormData,!(0<=lB(Hfe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KB(this),0<this.B&&((this.L=qfe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ln(this.ua,this)):this.A=Vx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){EO(this,s)}};function qfe(t){return Nu&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.ua=function(){typeof kx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))};function EO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qB(t),f0(t)}function qB(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),f0(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),f0(this,!0)),$t.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?GB(this):this.kb())};B.kb=function(){GB(this)};function GB(t){if(t.h&&typeof kx<"u"&&(!t.C[1]||Bi(t)!=4||t.da()!=2)){if(t.v&&Bi(t)==4)Vx(t.La,0,t);else if(Tn(t,"readystatechange"),Bi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(MB)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),r=!Wfe.test(i?i.toLowerCase():"")}n=r}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var s=2<Bi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",qB(t)}}finally{f0(t)}}}}function f0(t,e){if(t.g){KB(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function KB(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}B.isActive=function(){return!!this.g};function Bi(t){return t.g?t.g.readyState:0}B.da=function(){try{return 2<Bi(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Ufe(e)}};function TO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case HB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Gfe(t){const e={};t=(t.g&&2<=Bi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Of(t[r]))continue;var n=yfe(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}dfe(e,function(r){return r.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function YB(t){let e="";return Rx(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Hx(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YB(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):vt(t,e,n))}function Ud(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function QB(t){this.Ga=0,this.j=[],this.l=new s0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ud("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ud("baseRetryDelayMs",5e3,t),this.hb=Ud("retryDelaySeedMs",1e4,t),this.eb=Ud("forwardChannelMaxRetries",2,t),this.xa=Ud("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new VB(t&&t.concurrentRequestLimit),this.Ja=new jfe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=QB.prototype;B.ra=8;B.H=1;function qx(t){if(XB(t),t.H==3){var e=t.W++,n=Us(t.I);if(vt(n,"SID",t.K),vt(n,"RID",e),vt(n,"TYPE","terminate"),Gp(t,n),e=new Wp(t,t.l,e),e.L=2,e.v=u0(Us(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ge.Image&&(new Image().src=e.v,n=!0),n||(e.g=s5(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hp(e)}r5(t)}function p0(t){t.g&&(Kx(t),t.g.cancel(),t.g=null)}function XB(t){p0(t),t.u&&(ge.clearTimeout(t.u),t.u=null),fy(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ge.clearTimeout(t.m),t.m=null)}function m0(t){if(!jB(t.i)&&!t.m){t.m=!0;var e=t.Na;Mf||bB(),$f||(Mf(),$f=!0),Lx.add(e,t),t.C=0}}function Kfe(t,e){return BB(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=zp(Ln(t.Na,t,e),n5(t,t.C)),t.C++,!0)}B.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Wp(this,this.l,t);let s=this.s;if(this.U&&(s?(s=hB(s),fB(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZB(this,i,e),n=Us(this.I),vt(n,"RID",t),vt(n,"CVER",22),this.F&&vt(n,"X-HTTP-Session-Id",this.F),Gp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(YB(s)))+"&"+e:this.o&&Hx(n,this.o,s)),Ux(this.i,i),this.bb&&vt(n,"TYPE","init"),this.P?(vt(n,"$req",e),vt(n,"SID","null"),i.aa=!0,hE(i,n,null)):hE(i,n,e),this.H=2}}else this.H==3&&(t?CO(this,t):this.j.length==0||jB(this.i)||CO(this))};function CO(t,e){var n;e?n=e.m:n=t.W++;const r=Us(t.I);vt(r,"SID",t.K),vt(r,"RID",n),vt(r,"AID",t.V),Gp(t,r),t.o&&t.s&&Hx(r,t.o,t.s),n=new Wp(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ZB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ux(t.i,n),hE(n,r,e)}function Gp(t,e){t.na&&Rx(t.na,function(n,r){vt(e,r,n)}),t.h&&DB({},function(n,r){vt(e,r,n)})}function ZB(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ln(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{Bfe(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Mf||bB(),$f||(Mf(),$f=!0),Lx.add(e,t),t.A=0}}function Gx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=zp(Ln(t.Ma,t),n5(t,t.A)),t.A++,!0)}B.Ma=function(){if(this.u=null,e5(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=zp(Ln(this.jb,this),t)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gn(10),p0(this),e5(this))};function Kx(t){t.B!=null&&(ge.clearTimeout(t.B),t.B=null)}function e5(t){t.g=new Wp(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Us(t.wa);vt(e,"RID","rpc"),vt(e,"SID",t.K),vt(e,"AID",t.V),vt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&vt(e,"TO",t.qa),vt(e,"TYPE","xmlhttp"),Gp(t,e),t.o&&t.s&&Hx(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=u0(Us(e)),n.s=null,n.S=!0,PB(n,t)}B.ib=function(){this.v!=null&&(this.v=null,p0(this),Gx(this),Gn(19))};function fy(t){t.v!=null&&(ge.clearTimeout(t.v),t.v=null)}function t5(t,e){var n=null;if(t.g==e){fy(t),Kx(t),t.g=null;var r=2}else if(pE(t.i,e))n=e.F,zB(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=o0(),Tn(r,new xB(r,n)),m0(t)}else JB(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&Kfe(t,e)||r==2&&Gx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ja(t,5);break;case 4:ja(t,10);break;case 3:ja(t,6);break;default:ja(t,2)}}}function n5(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ja(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ln(t.pb,t);n||(n=new el("//www.google.com/images/cleardot.gif"),ge.location&&ge.location.protocol=="http"||dy(n,"https"),u0(n)),zfe(n.toString(),r)}else Gn(2);t.H=0,t.h&&t.h.za(e),r5(t),XB(t)}B.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gn(2)):(this.l.info("Failed to ping google.com"),Gn(1))};function r5(t){if(t.H=0,t.ma=[],t.h){const e=UB(t.i);(e.length!=0||t.j.length!=0)&&(mO(t.ma,e),mO(t.ma,t.j),t.i.i.length=0,Ax(t.j),t.j.length=0),t.h.ya()}}function i5(t,e,n){var r=n instanceof el?Us(n):new el(n);if(r.g!="")e&&(r.g=e+"."+r.g),hy(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new el(null);r&&dy(s,r),e&&(s.g=e),i&&hy(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&vt(r,n,e),vt(r,"VER",t.ra),Gp(t,r),r}function s5(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new $t(new d0({ob:!0})):new $t(t.va),e.Oa(t.J),e}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function o5(){}B=o5.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function py(){if(Nu&&!(10<=Number(afe)))throw Error("Environmental error: no available transport.")}py.prototype.g=function(t,e){return new Mr(t,e)};function Mr(t,e){fn.call(this),this.g=new QB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Of(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Of(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new md(this)}gn(Mr,fn);Mr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=i5(t,null,t.Y),m0(t)};Mr.prototype.close=function(){qx(this.g)};Mr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$x(t),t=n);e.j.push(new Lfe(e.fb++,t)),e.H==3&&m0(e)};Mr.prototype.N=function(){this.g.h=null,delete this.j,qx(this.g),delete this.g,Mr.$.N.call(this)};function a5(t){Bx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gn(a5,Bx);function l5(){zx.call(this),this.status=1}gn(l5,zx);function md(t){this.g=t}gn(md,o5);md.prototype.Ba=function(){Tn(this.g,"a")};md.prototype.Aa=function(t){Tn(this.g,new a5(t))};md.prototype.za=function(t){Tn(this.g,new l5)};md.prototype.ya=function(){Tn(this.g,"b")};function Yfe(){this.blockSize=-1}function Ti(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gn(Ti,Yfe);Ti.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Vw(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ti.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Vw(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Vw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Vw(this,r),i=0;break}}this.h=i,this.i+=e};Ti.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function rt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Qfe={};function Yx(t){return-128<=t&&128>t?ife(t,function(e){return new rt([e|0],0>e?-1:0)}):new rt([t|0],0>t?-1:0)}function zi(t){if(isNaN(t)||!isFinite(t))return ru;if(0>t)return Sn(zi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=mE;return new rt(e,0)}function c5(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Sn(c5(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zi(Math.pow(e,8)),r=ru,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=zi(Math.pow(e,s)),r=r.R(s).add(zi(o))):(r=r.R(n),r=r.add(zi(o)))}return r}var mE=4294967296,ru=Yx(0),gE=Yx(1),xO=Yx(16777216);B=rt.prototype;B.ea=function(){if(Gr(this))return-Sn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:mE+r)*e,e*=mE}return t};B.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(xs(this))return"0";if(Gr(this))return"-"+Sn(this).toString(t);for(var e=zi(Math.pow(t,6)),n=this,r="";;){var i=gy(n,e).g;n=my(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,xs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};B.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function xs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Gr(t){return t.h==-1}B.X=function(t){return t=my(this,t),Gr(t)?-1:xs(t)?0:1};function Sn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new rt(n,~t.h).add(gE)}B.abs=function(){return Gr(this)?Sn(this):this};B.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new rt(n,n[n.length-1]&-2147483648?-1:0)};function my(t,e){return t.add(Sn(e))}B.R=function(t){if(xs(this)||xs(t))return ru;if(Gr(this))return Gr(t)?Sn(this).R(Sn(t)):Sn(Sn(this).R(t));if(Gr(t))return Sn(this.R(Sn(t)));if(0>this.X(xO)&&0>t.X(xO))return zi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,hg(n,2*r+2*i),n[2*r+2*i+1]+=s*l,hg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,hg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,hg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new rt(n,0)};function hg(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Wd(t,e){this.g=t,this.h=e}function gy(t,e){if(xs(e))throw Error("division by zero");if(xs(t))return new Wd(ru,ru);if(Gr(t))return e=gy(Sn(t),e),new Wd(Sn(e.g),Sn(e.h));if(Gr(e))return e=gy(t,Sn(e)),new Wd(Sn(e.g),e.h);if(30<t.g.length){if(Gr(t)||Gr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=gE,r=e;0>=r.X(t);)n=IO(n),r=IO(r);var i=lc(n,1),s=lc(r,1);for(r=lc(r,2),n=lc(n,2);!xs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=lc(r,1),n=lc(n,1)}return e=my(t,i.R(e)),new Wd(i,e)}for(i=ru;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=zi(n),o=s.R(e);Gr(o)||0<o.X(t);)n-=r,s=zi(n),o=s.R(e);xs(s)&&(s=gE),i=i.add(s),t=my(t,o)}return new Wd(i,t)}B.gb=function(t){return gy(this,t).h};B.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new rt(n,this.h&t.h)};B.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new rt(n,this.h|t.h)};B.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new rt(n,this.h^t.h)};function IO(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new rt(n,t.h)}function lc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new rt(i,t.h)}py.prototype.createWebChannel=py.prototype.g;Mr.prototype.send=Mr.prototype.u;Mr.prototype.open=Mr.prototype.m;Mr.prototype.close=Mr.prototype.close;a0.NO_ERROR=0;a0.TIMEOUT=8;a0.HTTP_ERROR=6;IB.COMPLETE="complete";kB.EventType=Up;Up.OPEN="a";Up.CLOSE="b";Up.ERROR="c";Up.MESSAGE="d";fn.prototype.listen=fn.prototype.O;$t.prototype.listenOnce=$t.prototype.P;$t.prototype.getLastError=$t.prototype.Sa;$t.prototype.getLastErrorCode=$t.prototype.Ia;$t.prototype.getStatus=$t.prototype.da;$t.prototype.getResponseJson=$t.prototype.Wa;$t.prototype.getResponseText=$t.prototype.ja;$t.prototype.send=$t.prototype.ha;$t.prototype.setWithCredentials=$t.prototype.Oa;Ti.prototype.digest=Ti.prototype.l;Ti.prototype.reset=Ti.prototype.reset;Ti.prototype.update=Ti.prototype.j;rt.prototype.add=rt.prototype.add;rt.prototype.multiply=rt.prototype.R;rt.prototype.modulo=rt.prototype.gb;rt.prototype.compare=rt.prototype.X;rt.prototype.toNumber=rt.prototype.ea;rt.prototype.toString=rt.prototype.toString;rt.prototype.getBits=rt.prototype.D;rt.fromNumber=zi;rt.fromString=c5;var Xfe=function(){return new py},Zfe=function(){return o0()},jw=a0,Jfe=IB,epe=jl,kO={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fg=kB,tpe=$t,npe=Ti,iu=rt;const AO="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Fp("@firebase/firestore");function Hd(){return vl.logLevel}function Z(t,...e){if(vl.logLevel<=Re.DEBUG){const n=e.map(Qx);vl.debug(`Firestore (${gd}): ${t}`,...n)}}function Ws(t,...e){if(vl.logLevel<=Re.ERROR){const n=e.map(Qx);vl.error(`Firestore (${gd}): ${t}`,...n)}}function Ou(t,...e){if(vl.logLevel<=Re.WARN){const n=e.map(Qx);vl.warn(`Firestore (${gd}): ${t}`,...n)}}function Qx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${gd}) INTERNAL ASSERTION FAILED: `+t;throw Ws(e),new Error(e)}function bt(t,e){t||pe()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class ipe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class spe{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new tl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string"),new u5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string"),new Pn(e)}}class ope{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ape{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ope(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lpe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cpe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string"),this.R=n.token,new lpe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function upe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=upe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Du(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Mt(0,0))}static max(){return new _e(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends Bf{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const dpe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Bf{construct(e,n,r){return new Mn(e,n,r)}static isValidIdentifier(e){return dpe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(yt.fromString(e))}static fromName(e){return new re(yt.fromString(e).popFirst(5))}static empty(){return new re(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new yt(e.slice()))}}function hpe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new Xo(i,re.empty(),e)}function fpe(t){return new Xo(t.readTime,t.key,-1)}class Xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xo(_e.min(),re.empty(),-1)}static max(){return new Xo(_e.max(),re.empty(),-1)}}function ppe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mpe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gpe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==mpe)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Yp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xx.ae=-1;function g0(t){return t==null}function vy(t){return t===0&&1/t==-1/0}function vpe(t){return typeof t=="number"&&Number.isInteger(t)&&!vy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xt=class vE{constructor(e,n){this.comparator=e,this.root=n||jo.EMPTY}insert(e,n){return new vE(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jo.BLACK,null,null))}remove(e){return new vE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pg(this.root,e,this.comparator,!0)}},pg=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},jo=class gs{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gs.RED,this.left=i??gs.EMPTY,this.right=s??gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gs(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}};jo.EMPTY=null,jo.RED=!0,jo.BLACK=!1;jo.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RO(this.data.getIterator())}getIteratorFrom(e){return new RO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class RO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new Vn(Mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Du(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new f5("Invalid base64 string: "+s):s}}(e);return new zn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const ype=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(t){if(bt(!!t),typeof t=="string"){let e=0;const n=ype.exec(t);if(bt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yl(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jx(t){const e=t.mapValue.fields.__previous_value__;return Zx(e)?Jx(e):e}function zf(t){const e=Zo(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Uf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Uf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Uf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _l(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zx(t)?4:bpe(t)?9007199254740991:10:pe()}function is(t,e){if(t===e)return!0;const n=_l(t);if(n!==_l(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zf(t).isEqual(zf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Zo(i.timestampValue),a=Zo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return yl(i.bytesValue).isEqual(yl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qt(i.geoPointValue.latitude)===qt(s.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qt(i.integerValue)===qt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qt(i.doubleValue),a=qt(s.doubleValue);return o===a?vy(o)===vy(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Du(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(PO(o)!==PO(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!is(o[l],a[l])))return!1;return!0}(t,e);default:return pe()}}function Wf(t,e){return(t.values||[]).find(n=>is(n,e))!==void 0}function Mu(t,e){if(t===e)return 0;const n=_l(t),r=_l(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=qt(s.integerValue||s.doubleValue),l=qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return NO(t.timestampValue,e.timestampValue);case 4:return NO(zf(t),zf(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=yl(s),l=yl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Xe(a[c],l[c]);if(u!==0)return u}return Xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Xe(qt(s.latitude),qt(o.latitude));return a!==0?a:Xe(qt(s.longitude),qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Mu(a[c],l[c]);if(u)return u}return Xe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===mg.mapValue&&o===mg.mapValue)return 0;if(s===mg.mapValue)return 1;if(o===mg.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Xe(l[d],u[d]);if(h!==0)return h;const f=Mu(a[l[d]],c[u[d]]);if(f!==0)return f}return Xe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw pe()}}function NO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=Zo(t),r=Zo(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function $u(t){return yE(t)}function yE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=yE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${yE(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function OO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _E(t){return!!t&&"integerValue"in t}function eI(t){return!!t&&"arrayValue"in t}function DO(t){return!!t&&"nullValue"in t}function MO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nv(t){return!!t&&"mapValue"in t}function Fh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bpe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fh(n)}setAll(e){let n=Mn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Fh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new sr(Fh(this.value))}}function p5(t){const e=[];return Bl(t.fields,(n,r)=>{const i=new Mn([n]);if(nv(r)){const s=p5(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nn(e,0,_e.min(),_e.min(),_e.min(),sr.empty(),0)}static newFoundDocument(e,n,r,i){return new Nn(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new Nn(e,2,n,_e.min(),_e.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,_e.min(),_e.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.position=e,this.inclusive=n}}function $O(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=Mu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!is(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function wpe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{}class Yt extends m5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Epe(e,n,r):n==="array-contains"?new xpe(e,r):n==="in"?new Ipe(e,r):n==="not-in"?new kpe(e,r):n==="array-contains-any"?new Ape(e,r):new Yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Tpe(e,r):new Cpe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mu(n,this.value)):n!==null&&_l(this.value)===_l(n)&&this.matchesComparison(Mu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ci extends m5{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ci(e,n)}matches(e){return g5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function g5(t){return t.op==="and"}function v5(t){return Spe(t)&&g5(t)}function Spe(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function bE(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+$u(t.value);if(v5(t))return t.filters.map(e=>bE(e)).join(",");{const e=t.filters.map(n=>bE(n)).join(",");return`${t.op}(${e})`}}function y5(t,e){return t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.field.isEqual(i.field)&&is(r.value,i.value)}(t,e):t instanceof Ci?function(r,i){return i instanceof Ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&y5(o,i.filters[a]),!0):!1}(t,e):void pe()}function _5(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${$u(n.value)}`}(t):t instanceof Ci?function(n){return n.op.toString()+" {"+n.getFilters().map(_5).join(" ,")+"}"}(t):"Filter"}class Epe extends Yt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tpe extends Yt{constructor(e,n){super(e,"in",n),this.keys=b5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Cpe extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=b5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class xpe extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eI(n)&&Wf(n.arrayValue,this.value)}}class Ipe extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wf(this.value.arrayValue,n)}}class kpe extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wf(this.value.arrayValue,n)}}class Ape extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ppe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function FO(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ppe(t,e,n,r,i,s,o)}function tI(t){const e=Ce(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),g0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$u(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$u(r)).join(",")),e.he=n}return e.he}function nI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wpe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LO(t.startAt,e.startAt)&&LO(t.endAt,e.endAt)}function wE(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Rpe(t,e,n,r,i,s,o,a){return new vd(t,e,n,r,i,s,o,a)}function rI(t){return new vd(t)}function VO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function v0(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function w5(t){return t.collectionGroup!==null}function Vh(t){const e=Ce(t);if(e.Pe===null){e.Pe=[];const n=v0(e),r=iI(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new su(n)),e.Pe.push(new su(Mn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new su(Mn.keyField(),s))}}}return e.Pe}function Yi(t){const e=Ce(t);return e.Ie||(e.Ie=Npe(e,Vh(t))),e.Ie}function Npe(t,e){if(t.limitType==="F")return FO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new su(i.field,s)});const n=t.endAt?new yy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yy(t.startAt.position,t.startAt.inclusive):null;return FO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function SE(t,e){e.getFirstInequalityField(),v0(t);const n=t.filters.concat([e]);return new vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function EE(t,e,n){return new vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qp(t,e){return nI(Yi(t),Yi(e))&&t.limitType===e.limitType}function S5(t){return`${tI(Yi(t))}|lt:${t.limitType}`}function dc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_5(i)).join(", ")}]`),g0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$u(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$u(i)).join(",")),`Target(${r})`}(Yi(t))}; limitType=${t.limitType})`}function y0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Vh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=$O(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Vh(r),i)||r.endAt&&!function(o,a,l){const c=$O(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Vh(r),i))}(t,e)}function Ope(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E5(t){return(e,n)=>{let r=!1;for(const i of Vh(t)){const s=Dpe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Dpe(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Mu(l,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return h5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mpe=new Xt(re.comparator);function Hs(){return Mpe}const T5=new Xt(re.comparator);function dh(...t){let e=T5;for(const n of t)e=e.insert(n.key,n);return e}function C5(t){let e=T5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ba(){return jh()}function x5(){return jh()}function jh(){return new yd(t=>t.toString(),(t,e)=>t.isEqual(e))}const $pe=new Xt(re.comparator),Lpe=new Vn(re.comparator);function Me(...t){let e=Lpe;for(const n of t)e=e.add(n);return e}const Fpe=new Vn(Xe);function Vpe(){return Fpe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vy(e)?"-0":e}}function k5(t){return{integerValue:""+t}}function jpe(t,e){return vpe(e)?k5(e):I5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this._=void 0}}function Bpe(t,e,n){return t instanceof _y?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zx(s)&&(s=Jx(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Hf?P5(t,e):t instanceof qf?R5(t,e):function(i,s){const o=A5(i,s),a=jO(o)+jO(i.Te);return _E(o)&&_E(i.Te)?k5(a):I5(i.serializer,a)}(t,e)}function zpe(t,e,n){return t instanceof Hf?P5(t,e):t instanceof qf?R5(t,e):n}function A5(t,e){return t instanceof by?function(r){return _E(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class _y extends _0{}class Hf extends _0{constructor(e){super(),this.elements=e}}function P5(t,e){const n=N5(e);for(const r of t.elements)n.some(i=>is(i,r))||n.push(r);return{arrayValue:{values:n}}}class qf extends _0{constructor(e){super(),this.elements=e}}function R5(t,e){let n=N5(e);for(const r of t.elements)n=n.filter(i=>!is(i,r));return{arrayValue:{values:n}}}class by extends _0{constructor(e,n){super(),this.serializer=e,this.Te=n}}function jO(t){return qt(t.integerValue||t.doubleValue)}function N5(t){return eI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Upe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hf&&i instanceof Hf||r instanceof qf&&i instanceof qf?Du(r.elements,i.elements,is):r instanceof by&&i instanceof by?is(r.Te,i.Te):r instanceof _y&&i instanceof _y}(t.transform,e.transform)}class Wpe{constructor(e,n){this.version=e,this.transformResults=n}}class Xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class b0{}function O5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sI(t.key,Xr.none()):new Xp(t.key,t.data,Xr.none());{const n=t.data,r=sr.empty();let i=new Vn(Mn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pa(t.key,r,new Sr(i.toArray()),Xr.none())}}function Hpe(t,e,n){t instanceof Xp?function(i,s,o){const a=i.value.clone(),l=zO(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pa?function(i,s,o){if(!rv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=zO(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(D5(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bh(t,e,n,r){return t instanceof Xp?function(s,o,a,l){if(!rv(s.precondition,o))return a;const c=s.value.clone(),u=UO(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof pa?function(s,o,a,l){if(!rv(s.precondition,o))return a;const c=UO(s.fieldTransforms,l,o),u=o.data;return u.setAll(D5(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return rv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qpe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=A5(r.transform,i||null);s!=null&&(n===null&&(n=sr.empty()),n.set(r.field,s))}return n||null}function BO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Du(r,i,(s,o)=>Upe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xp extends b0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pa extends b0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function D5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zO(t,e,n){const r=new Map;bt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zpe(o,a,n[i]))}return r}function UO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Bpe(s,o,e))}return r}class sI extends b0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gpe extends b0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kpe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Hpe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=x5();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=O5(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Du(this.mutations,e.mutations,(n,r)=>BO(n,r))&&Du(this.baseMutations,e.baseMutations,(n,r)=>BO(n,r))}}class oI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bt(e.mutations.length===r.length);let i=function(){return $pe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new oI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ype{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qpe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,je;function Xpe(t){switch(t){default:return pe();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function M5(t){if(t===void 0)return Ws("GRPC error has no .code"),D.UNKNOWN;switch(t){case Wt.OK:return D.OK;case Wt.CANCELLED:return D.CANCELLED;case Wt.UNKNOWN:return D.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return D.INTERNAL;case Wt.UNAVAILABLE:return D.UNAVAILABLE;case Wt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Wt.NOT_FOUND:return D.NOT_FOUND;case Wt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Wt.ABORTED:return D.ABORTED;case Wt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Wt.DATA_LOSS:return D.DATA_LOSS;default:return pe()}}(je=Wt||(Wt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zpe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpe=new iu([4294967295,4294967295],0);function WO(t){const e=Zpe().encode(t),n=new npe;return n.update(e),new Uint8Array(n.digest())}function HO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new iu([n,r],0),new iu([i,s],0)]}class aI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hh(`Invalid padding: ${n}`);if(r<0)throw new hh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hh(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=iu.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(iu.fromNumber(r)));return i.compare(Jpe)===1&&(i=new iu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=WO(e),[r,i]=HO(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new aI(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=WO(e),[r,i]=HO(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new w0(_e.min(),i,new Xt(Xe),Hs(),Me())}}class Zp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zp(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class $5{constructor(e,n){this.targetId=e,this.ye=n}}class L5{constructor(e,n,r=zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qO{constructor(){this.we=0,this.Se=KO(),this.be=zn.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Me(),n=Me(),r=Me();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Zp(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=KO()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class eme{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Hs(),this.Ue=GO(),this.We=new Xt(Xe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(wE(s))if(r===0){const o=new re(s.path);this.je(n,o,Nn.newNoDocument(o,_e.min()))}else bt(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),l=a?this.rt(a,e,o):1;if(l!==0){this.Ze(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,c)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=yl(r).toUint8Array()}catch(l){if(l instanceof f5)return Ou("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new aI(o,i,s)}catch(l){return Ou(l instanceof hh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&wE(a.target)){const l=new re(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,Nn.newNoDocument(l,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=Me();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new w0(e,n,this.We,this.$e,r);return this.$e=Hs(),this.Ue=GO(),this.We=new Xt(Xe),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new qO,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Vn(Xe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new qO),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function GO(){return new Xt(re.comparator)}function KO(){return new Xt(re.comparator)}const tme=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),nme=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),rme=(()=>({and:"AND",or:"OR"}))();class ime{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function TE(t,e){return t.useProto3Json||g0(e)?e:{value:e}}function wy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sme(t,e){return wy(t,e.toTimestamp())}function Qi(t){return bt(!!t),_e.fromTimestamp(function(n){const r=Zo(n);return new Mt(r.seconds,r.nanos)}(t))}function lI(t,e){return function(r){return new yt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function V5(t){const e=yt.fromString(t);return bt(U5(e)),e}function CE(t,e){return lI(t.databaseId,e.path)}function Bw(t,e){const n=V5(e);if(n.get(1)!==t.databaseId.projectId)throw new K(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(j5(n))}function xE(t,e){return lI(t.databaseId,e)}function ome(t){const e=V5(t);return e.length===4?yt.emptyPath():j5(e)}function IE(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function j5(t){return bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YO(t,e,n){return{name:CE(t,e),fields:n.value.mapValue.fields}}function ame(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(bt(u===void 0||typeof u=="string"),zn.fromBase64String(u||"")):(bt(u===void 0||u instanceof Uint8Array),zn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?D.UNKNOWN:M5(c.code);return new K(u,c.message||"")}(o);n=new L5(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bw(t,r.document.name),s=Qi(r.document.updateTime),o=r.document.createTime?Qi(r.document.createTime):_e.min(),a=new sr({mapValue:{fields:r.document.fields}}),l=Nn.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new iv(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bw(t,r.document),s=r.readTime?Qi(r.readTime):_e.min(),o=Nn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new iv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bw(t,r.document),s=r.removedTargetIds||[];n=new iv([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Qpe(i,s),a=r.targetId;n=new $5(a,o)}}return n}function lme(t,e){let n;if(e instanceof Xp)n={update:YO(t,e.key,e.value)};else if(e instanceof sI)n={delete:CE(t,e.key)};else if(e instanceof pa)n={update:YO(t,e.key,e.data),updateMask:vme(e.fieldMask)};else{if(!(e instanceof Gpe))return pe();n={verify:CE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof _y)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof by)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:sme(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),n}function cme(t,e){return t&&t.length>0?(bt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Qi(i.updateTime):Qi(s);return o.isEqual(_e.min())&&(o=Qi(s)),new Wpe(o,i.transformResults||[])}(n,e))):[]}function ume(t,e){return{documents:[xE(t,e.path)]}}function dme(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=xE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return z5(Ci.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:hc(d.field),direction:pme(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=TE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function hme(t){let e=ome(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=B5(d);return h instanceof Ci&&v5(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new su(fc(p.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,g0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new yy(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new yy(f,h)}(n.endAt)),Rpe(e,i,o,s,a,"F",l,c)}function fme(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function B5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fc(n.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fc(n.unaryFilter.field);return Yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fc(n.unaryFilter.field);return Yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fc(n.unaryFilter.field);return Yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return Yt.create(fc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ci.create(n.compositeFilter.filters.map(r=>B5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function pme(t){return tme[t]}function mme(t){return nme[t]}function gme(t){return rme[t]}function hc(t){return{fieldPath:t.canonicalString()}}function fc(t){return Mn.fromServerFormat(t.fieldPath)}function z5(t){return t instanceof Yt?function(n){if(n.op==="=="){if(MO(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NAN"}};if(DO(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MO(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NAN"}};if(DO(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(n.field),op:mme(n.op),value:n.value}}}(t):t instanceof Ci?function(n){const r=n.getFilters().map(i=>z5(i));return r.length===1?r[0]:{compositeFilter:{op:gme(n.op),filters:r}}}(t):pe()}function vme(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r,i,s=_e.min(),o=_e.min(),a=zn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yme{constructor(e){this.ht=e}}function _me(t){const e=hme({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?EE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bme{constructor(){this.an=new wme}addToCollectionParentIndex(e,n){return this.an.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Xo.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class wme{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vn(yt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Lu(0)}static Ln(){return new Lu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sme{constructor(){this.changes=new yd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eme{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tme{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bh(r.mutation,i,Sr.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=Ba();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=dh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ba();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hs();const o=jh(),a=function(){return jh()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof pa)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Bh(u.mutation,c,u.mutation.getFieldMask(),Mt.now())):o.set(c.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Eme(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=jh();let i=new Xt((o,a)=>o-a),s=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Sr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Me()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=x5();u.forEach(h=>{if(!s.has(h)){const f=O5(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Ba());let a=-1,l=s;return o.next(c=>M.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Me())).next(u=>({batchId:a,changes:C5(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=dh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=dh();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,l=>{const c=function(d,h){return new vd(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Nn.newInvalidDocument(u)))});let a=dh();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Bh(u.mutation,c,Sr.empty(),Mt.now()),y0(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cme{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return M.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qi(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:_me(i.bundledQuery),readTime:Qi(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xme{constructor(){this.overlays=new Xt(re.comparator),this.Pr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ba();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Ba(),s=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ba(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ba(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return M.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ype(n,r));let s=this.Pr.get(n);s===void 0&&(s=Me(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.Ir=new Vn(ln.dr),this.Tr=new Vn(ln.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new ln(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new ln(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new re(new yt([])),r=new ln(n,e),i=new ln(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new re(new yt([])),r=new ln(n,e),i=new ln(n,e+1);let s=Me();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ln(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return re.comparator(e.key,n.key)||Xe(e.yr,n.yr)}static Er(e,n){return Xe(e.yr,n.yr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ime{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Vn(ln.dr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Kpe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new ln(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),i=new ln(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vn(Xe);return n.forEach(i=>{const s=new ln(i,0),o=new ln(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;re.isDocumentKey(s)||(s=s.child(""));const o=new ln(new re(s),0);let a=new Vn(Xe);return this.Sr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.yr)),!0)},o),M.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){bt(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return M.forEach(n.mutations,i=>{const s=new ln(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new ln(n,0),i=this.Sr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kme{constructor(e){this.Fr=e,this.docs=function(){return new Xt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hs();const o=n.path,a=new re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ppe(fpe(u),r)<=0||(i.has(u.key)||y0(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe()}Mr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ame(this)}getSize(e){return M.resolve(this.size)}}class Ame extends Sme{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme{constructor(e){this.persistence=e,this.Or=new yd(n=>tI(n),nI),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Nr=0,this.Br=new cI,this.targetCount=0,this.Lr=Lu.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),M.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Lu(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Qn(n),M.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rme{constructor(e,n){this.kr={},this.overlays={},this.qr=new Xx(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Pme(this),this.indexManager=new bme,this.remoteDocumentCache=function(i){return new kme(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new yme(n),this.Ur=new Cme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xme,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Ime(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new Nme(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return M.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class Nme extends gpe{constructor(e){super(),this.currentSequenceNumber=e}}class uI{constructor(e){this.persistence=e,this.jr=new cI,this.Hr=null}static Jr(e){return new uI(e)}get Yr(){if(this.Hr)return this.Hr;throw pe()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),M.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Yr,r=>{const i=re.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return M.or([()=>M.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=Me(),i=Me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ome{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dme{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Ome;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(Hd()<=Re.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),M.resolve()):(Hd()<=Re.DEBUG&&Z("QueryEngine","Query:",dc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Hd()<=Re.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):M.resolve())}Hi(e,n){if(VO(n))return M.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=EE(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Me(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Xi(n,a);return this.es(n,c,o,l.readTime)?this.Hi(e,EE(n,null,"F")):this.ts(e,c,n,l)}))})))}Ji(e,n,r,i){return VO(n)||i.isEqual(_e.min())?M.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?M.resolve(null):(Hd()<=Re.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dc(n)),this.ts(e,o,n,hpe(i,-1)).next(a=>a))})}Xi(e,n){let r=new Vn(E5(e));return n.forEach((i,s)=>{y0(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return Hd()<=Re.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",dc(n)),this.ji.getDocumentsMatchingQuery(e,n,Xo.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mme{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Xt(Xe),this.ss=new yd(s=>tI(s),nI),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tme(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function $me(t,e,n,r){return new Mme(t,e,n,r)}async function W5(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Me();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({cs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Lme(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=M.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const b=c.docVersions.get(p);bt(b!==null),m.version.compareTo(b)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function H5(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function Fme(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Kr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Kr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(zn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(m,b,y){return m.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,u)&&a.push(n.Kr.updateTargetData(s,f))});let l=Hs(),c=Me();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Vme(s,o,e.documentUpdates).next(u=>{l=u.ls,c=u.hs})),!r.isEqual(_e.min())){const u=n.Kr.getLastRemoteSnapshotVersion(s).next(d=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.rs=i,s))}function Vme(t,e,n){let r=Me(),i=Me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hs();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ls:o,hs:i}})}function jme(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bme(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new xo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function kE(t,e,n){const r=Ce(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yp(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function QO(t,e,n){const r=Ce(t);let i=_e.min(),s=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Ce(l),h=d.ss.get(u);return h!==void 0?M.resolve(d.rs.get(h)):d.Kr.getTargetData(c,u)}(r,o,Yi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?s:Me())).next(a=>(zme(r,Ope(e),a),{documents:a,Ps:s})))}function zme(t,e,n){let r=t.os.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}class XO{constructor(){this.activeTargetIds=Vpe()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ume{constructor(){this.ro=new XO,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new XO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wme{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg=null;function zw(){return gg===null?gg=function(){return 268435456+Math.round(2147483648*Math.random())}():gg++,"0x"+gg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hme={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qme{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class Gme extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=zw(),l=this.Do(n,r);Z("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(c,s,o),this.vo(n,l,c,i).then(u=>(Z("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ou("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gd}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=Hme[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=zw();return new Promise((o,a)=>{const l=new tpe;l.setWithCredentials(!0),l.listenOnce(Jfe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jw.NO_ERROR:const u=l.getResponseJson();Z(kn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case jw.TIMEOUT:Z(kn,`RPC '${e}' ${s} timed out`),a(new K(D.DEADLINE_EXCEEDED,"Request time out"));break;case jw.HTTP_ERROR:const d=l.getStatus();if(Z(kn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(y)>=0?y:D.UNKNOWN}(f.status);a(new K(p,f.message))}else a(new K(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(D.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{Z(kn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Z(kn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Mo(e,n,r){const i=zw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xfe(),a=Zfe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Z(kn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new qme({ho:b=>{f?Z(kn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(Z(kn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Z(kn,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Po:()=>d.close()}),m=(b,y,v)=>{b.listen(y,w=>{try{v(w)}catch(S){setTimeout(()=>{throw S},0)}})};return m(d,fg.EventType.OPEN,()=>{f||Z(kn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,fg.EventType.CLOSE,()=>{f||(f=!0,Z(kn,`RPC '${e}' stream ${i} transport closed`),p.mo())}),m(d,fg.EventType.ERROR,b=>{f||(f=!0,Ou(kn,`RPC '${e}' stream ${i} transport errored:`,b),p.mo(new K(D.UNAVAILABLE,"The operation could not be completed")))}),m(d,fg.EventType.MESSAGE,b=>{var y;if(!f){const v=b.data[0];bt(!!v);const w=v,S=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(S){Z(kn,`RPC '${e}' stream ${i} received error:`,S);const C=S.status;let x=function(O){const N=Wt[O];if(N!==void 0)return M5(N)}(C),T=S.message;x===void 0&&(x=D.INTERNAL,T="Unknown error status: "+C+" with message "+S.message),f=!0,p.mo(new K(x,T)),d.close()}else Z(kn,`RPC '${e}' stream ${i} received:`,v),p.fo(v)}}),m(a,epe.STAT_EVENT,b=>{b.stat===kO.PROXY?Z(kn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===kO.NOPROXY&&Z(kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Vo()},0),p}}function Uw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){return new ime(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n,r,i,s,o,a,l){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new q5(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Ws(n.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new K(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kme extends G5{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=ame(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Qi(o.readTime):_e.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=IE(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=wE(l)?{documents:ume(s,l)}:{query:dme(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=F5(s,o.resumeToken);const c=TE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=wy(s,o.snapshotVersion.toTimestamp());const c=TE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=fme(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=IE(this.serializer),n.removeTarget=e,this.n_(n)}}class Yme extends G5{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=cme(e.writeResults,e.commitTime),r=Qi(e.commitTime);return this.listener.T_(r,n)}return bt(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=IE(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lme(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qme extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new K(D.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(D.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(D.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class Xme{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Ws(n),this.p_=!1):Z("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zme{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{zl(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ce(l);c.F_.add(4),await Jp(c),c.O_.set("Unknown"),c.F_.delete(4),await E0(c)}(this))})}),this.O_=new Xme(r,i)}}async function E0(t){if(zl(t))for(const e of t.M_)await e(!0)}async function Jp(t){for(const e of t.M_)await e(!1)}function K5(t,e){const n=Ce(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),pI(n)?fI(n):_d(n).Yo()&&hI(n,e))}function Y5(t,e){const n=Ce(t),r=_d(n);n.v_.delete(e),r.Yo()&&Q5(n,e),n.v_.size===0&&(r.Yo()?r.e_():zl(n)&&n.O_.set("Unknown"))}function hI(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_d(t).l_(e)}function Q5(t,e){t.N_.Le(e),_d(t).h_(e)}function fI(t){t.N_=new eme({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),_d(t).start(),t.O_.y_()}function pI(t){return zl(t)&&!_d(t).Jo()&&t.v_.size>0}function zl(t){return Ce(t).F_.size===0}function X5(t){t.N_=void 0}async function Jme(t){t.v_.forEach((e,n)=>{hI(t,e)})}async function ege(t,e){X5(t),pI(t)?(t.O_.b_(e),fI(t)):t.O_.set("Unknown")}async function tge(t,e,n){if(t.O_.set("Online"),e instanceof L5&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sy(t,r)}else if(e instanceof iv?t.N_.Ge(e):e instanceof $5?t.N_.Xe(e):t.N_.He(e),!n.isEqual(_e.min()))try{const r=await H5(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.v_.get(c);u&&s.v_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.v_.get(l);if(!u)return;s.v_.set(l,u.withResumeToken(zn.EMPTY_BYTE_STRING,u.snapshotVersion)),Q5(s,l);const d=new xo(u.target,l,c,u.sequenceNumber);hI(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await Sy(t,r)}}async function Sy(t,e,n){if(!Yp(e))throw e;t.F_.add(1),await Jp(t),t.O_.set("Offline"),n||(n=()=>H5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await E0(t)})}function Z5(t,e){return e().catch(n=>Sy(t,n,e))}async function T0(t){const e=Ce(t),n=Jo(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;nge(e);)try{const i=await jme(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,rge(e,i)}catch(i){await Sy(e,i)}J5(e)&&ez(e)}function nge(t){return zl(t)&&t.C_.length<10}function rge(t,e){t.C_.push(e);const n=Jo(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function J5(t){return zl(t)&&!Jo(t).Jo()&&t.C_.length>0}function ez(t){Jo(t).start()}async function ige(t){Jo(t).A_()}async function sge(t){const e=Jo(t);for(const n of t.C_)e.d_(n.mutations)}async function oge(t,e,n){const r=t.C_.shift(),i=oI.from(r,e,n);await Z5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await T0(t)}async function age(t,e){e&&Jo(t).I_&&await async function(r,i){if(function(o){return Xpe(o)&&o!==D.ABORTED}(i.code)){const s=r.C_.shift();Jo(r).Xo(),await Z5(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await T0(r)}}(t,e),J5(t)&&ez(t)}async function JO(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=zl(n);n.F_.add(3),await Jp(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await E0(n)}async function lge(t,e){const n=Ce(t);e?(n.F_.delete(2),await E0(n)):e||(n.F_.add(2),await Jp(n),n.O_.set("Unknown"))}function _d(t){return t.B_||(t.B_=function(n,r,i){const s=Ce(n);return s.V_(),new Kme(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:Jme.bind(null,t),Eo:ege.bind(null,t),c_:tge.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),pI(t)?fI(t):t.O_.set("Unknown")):(await t.B_.stop(),X5(t))})),t.B_}function Jo(t){return t.L_||(t.L_=function(n,r,i){const s=Ce(n);return s.V_(),new Yme(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:ige.bind(null,t),Eo:age.bind(null,t),E_:sge.bind(null,t),T_:oge.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await T0(t)):(await t.L_.stop(),t.C_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new mI(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gI(t,e){if(Ws("AsyncQueue",`${e}: ${t}`),Yp(t))return new K(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=dh(),this.sortedSet=new Xt(this.comparator)}static emptySet(e){return new ou(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ou;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.k_=new Xt(re.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):pe():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fu{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fu(e,n,ou.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cge{constructor(){this.Q_=void 0,this.listeners=[]}}class uge{constructor(){this.queries=new yd(e=>S5(e),Qp),this.onlineState="Unknown",this.K_=new Set}}async function dge(t,e){const n=Ce(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new cge),i)try{s.Q_=await n.onListen(r)}catch(o){const a=gI(o,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&vI(n)}async function hge(t,e){const n=Ce(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function fge(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&vI(n)}function pge(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function vI(t){t.K_.forEach(e=>{e.next()})}class mge{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.key=e}}class nz{constructor(e){this.key=e}}class gge{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Me(),this.mutatedKeys=Me(),this.ua=E5(e),this.ca=new ou(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new e2,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=y0(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),b=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),b=!0,(l&&this.ua(f,l)>0||c&&this.ua(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),b=!0):h&&!f&&(r.track({type:1,doc:h}),b=!0,(l||c)&&(a=!0)),b&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((c,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return p(h)-p(f)}(c.type,u.type)||this.ua(c.doc,u.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,s.length!==0||l?{snapshot:new Fu(this.query,e.ca,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new e2,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Me(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new nz(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new tz(r))}),n}Ra(e){this.oa=e.Ps,this.aa=Me();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Fu.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class vge{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yge{constructor(e){this.key=e,this.ma=!1}}class _ge{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new yd(a=>S5(a),Qp),this.pa=new Map,this.ya=new Set,this.wa=new Xt(re.comparator),this.Sa=new Map,this.ba=new cI,this.Da={},this.Ca=new Map,this.va=Lu.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function bge(t,e){const n=Pge(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await Bme(n.localStore,Yi(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await wge(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&K5(n.remoteStore,o)}return i}async function wge(t,e,n,r,i){t.Ma=(d,h,f)=>async function(m,b,y,v){let w=b.view.ha(y);w.es&&(w=await QO(m.localStore,b.query,!1).then(({documents:x})=>b.view.ha(x,w)));const S=v&&v.targetChanges.get(b.targetId),C=b.view.applyChanges(w,m.isPrimaryClient,S);return n2(m,b.targetId,C.Ea),C.snapshot}(t,d,h,f);const s=await QO(t.localStore,e,!0),o=new gge(e,s.Ps),a=o.ha(s.documents),l=Zp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);n2(t,n,c.Ea);const u=new vge(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function Sge(t,e){const n=Ce(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Qp(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await kE(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Y5(n.remoteStore,r.targetId),AE(n,r.targetId)}).catch(Kp)):(AE(n,r.targetId),await kE(n.localStore,r.targetId,!0))}async function Ege(t,e,n){const r=Rge(t);try{const i=await function(o,a){const l=Ce(o),c=Mt.now(),u=a.reduce((f,p)=>f.add(p.key),Me());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Hs(),m=Me();return l._s.getEntries(f,u).next(b=>{p=b,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(b=>{d=b;const y=[];for(const v of a){const w=qpe(v,d.get(v.key).overlayedDocument);w!=null&&y.push(new pa(v.key,w,p5(w.value.mapValue),Xr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,y,a)}).next(b=>{h=b;const y=b.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,b.batchId,y)})}).then(()=>({batchId:h.batchId,changes:C5(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Da[o.currentUser.toKey()];c||(c=new Xt(Xe)),c=c.insert(a,l),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),await em(r,i.changes),await T0(r.remoteStore)}catch(i){const s=gI(i,"Failed to persist write");n.reject(s)}}async function rz(t,e){const n=Ce(t);try{const r=await Fme(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?bt(o.ma):i.removedDocuments.size>0&&(bt(o.ma),o.ma=!1))}),await em(n,r,e)}catch(r){await Kp(r)}}function t2(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.U_(a)&&(c=!0)}),c&&vI(l)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tge(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Xt(re.comparator);o=o.insert(s,Nn.newNoDocument(s,_e.min()));const a=Me().add(s),l=new w0(_e.min(),new Map,new Xt(Xe),o,a);await rz(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),yI(r)}else await kE(r.localStore,e,!1).then(()=>AE(r,e,n)).catch(Kp)}async function Cge(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await Lme(n.localStore,e);sz(n,r,null),iz(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await em(n,i)}catch(i){await Kp(i)}}async function xge(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(bt(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);sz(r,e,n),iz(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await em(r,i)}catch(i){await Kp(i)}}function iz(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function sz(t,e,n){const r=Ce(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function AE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||oz(t,r)})}function oz(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Y5(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),yI(t))}function n2(t,e,n){for(const r of n)r instanceof tz?(t.ba.addReference(r.key,e),Ige(t,r)):r instanceof nz?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||oz(t,r.key)):pe()}function Ige(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.ya.add(r),yI(t))}function yI(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new re(yt.fromString(e)),r=t.va.next();t.Sa.set(r,new yge(n)),t.wa=t.wa.insert(n,r),K5(t.remoteStore,new xo(Yi(rI(n.path)),r,"TargetPurposeLimboResolution",Xx.ae))}}async function em(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=dI.$i(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.fa.c_(i),await async function(l,c){const u=Ce(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>M.forEach(c,h=>M.forEach(h.Qi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>M.forEach(h.Ki,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Yp(d))throw d;Z("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.rs.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);u.rs=u.rs.insert(h,m)}}}(r.localStore,s))}async function kge(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await W5(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new K(D.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await em(n,r.cs)}}function Age(t,e){const n=Ce(t),r=n.Sa.get(e);if(r&&r.ma)return Me().add(r.key);{let i=Me();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function Pge(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Age.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tge.bind(null,e),e.fa.c_=fge.bind(null,e.eventManager),e.fa.xa=pge.bind(null,e.eventManager),e}function Rge(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cge.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xge.bind(null,e),e}class r2{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=S0(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $me(this.persistence,new Dme,e.initialUser,this.serializer)}createPersistence(e){return new Rme(uI.Jr,this.serializer)}createSharedClientState(e){return new Ume}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Nge{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kge.bind(null,this.syncEngine),await lge(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uge}()}createDatastore(e){const n=S0(e.databaseInfo.databaseId),r=function(s){return new Gme(s)}(e.databaseInfo);return function(s,o,a,l){return new Qme(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Zme(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>t2(this.syncEngine,n,0),function(){return ZO.C()?new ZO:new Wme}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new _ge(i,s,o,a,l,c);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ce(n);Z("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await Jp(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oge{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ws("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dge{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pn.UNAUTHENTICATED,this.clientId=d5.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gI(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ww(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await W5(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function i2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $ge(t);Z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>JO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>JO(e.remoteStore,s)),t._onlineComponents=e}function Mge(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function $ge(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ww(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Mge(n))throw n;Ou("Error using user provided cache. Falling back to memory cache: "+n),await Ww(t,new r2)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Ww(t,new r2);return t._offlineComponents}async function az(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await i2(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await i2(t,new Nge))),t._onlineComponents}function Lge(t){return az(t).then(e=>e.syncEngine)}async function s2(t){const e=await az(t),n=e.eventManager;return n.onListen=bge.bind(null,e.syncEngine),n.onUnlisten=Sge.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t,e,n){if(!n)throw new K(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fge(t,e,n,r){if(e===!0&&r===!0)throw new K(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function a2(t){if(!re.isDocumentKey(t))throw new K(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l2(t){if(re.isDocumentKey(t))throw new K(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function C0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function Xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C0(t);throw new K(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fge("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lz((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rpe;switch(r.type){case"firstParty":return new ape(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=o2.get(n);r&&(Z("ComponentProvider","Removing Datastore"),o2.delete(n),r.terminate())}(this),Promise.resolve()}}function Vge(t,e,n,r={}){var i;const s=(t=Xi(t,x0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Pn.MOCK_USER;else{a=xde(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new K(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pn(c)}t._authCredentials=new ipe(new u5(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Bo extends qs{constructor(e,n,r){super(e,n,rI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new re(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function jge(t,e,...n){if(t=zt(t),cz("collection","path",e),t instanceof x0){const r=yt.fromString(e,...n);return l2(r),new Bo(t,null,r)}{if(!(t instanceof Qn||t instanceof Bo))throw new K(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return l2(r),new Bo(t.firestore,null,r)}}function _I(t,e,...n){if(t=zt(t),arguments.length===1&&(e=d5.V()),cz("doc","path",e),t instanceof x0){const r=yt.fromString(e,...n);return a2(r),new Qn(t,null,new re(r))}{if(!(t instanceof Qn||t instanceof Bo))throw new K(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return a2(r),new Qn(t.firestore,t instanceof Bo?t.converter:null,new re(r))}}function Bge(t,e){return t=zt(t),e=zt(e),t instanceof qs&&e instanceof qs&&t.firestore===e.firestore&&Qp(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zge{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new q5(this,"async_queue_retry"),this.ou=()=>{const n=Uw();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=Uw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=Uw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new tl;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!Yp(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ws("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=mI.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&pe()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function u2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class bl extends x0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new zge}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dz(this),this._firestoreClient.terminate()}}function Uge(t,e){const n=typeof t=="object"?t:sB(),r=typeof t=="string"?t:e||"(default)",i=Vp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Cde("firestore");s&&Vge(i,...s)}return i}function uz(t){return t._firestoreClient||dz(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dz(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new _pe(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,lz(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Dge(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vu(zn.fromBase64String(e))}catch(n){throw new K(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vu(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wge=/^__.*__$/;class Hge{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xp(e,this.data,n,this.fieldTransforms)}}class hz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class SI{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new SI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Ey(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(fz(this.Tu)&&Wge.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class qge{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||S0(e)}wu(e,n,r,i=!1){return new SI({Tu:e,methodName:n,yu:r,path:Mn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k0(t){const e=t._freezeSettings(),n=S0(t._databaseId);return new qge(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pz(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);EI("Data must be an object, but it was:",o,r);const a=mz(r,o);let l,c;if(s.merge)l=new Sr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=PE(e,d,n);if(!o.contains(h))throw new K(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);vz(u,h)||u.push(h)}l=new Sr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Hge(new sr(a),l,c)}class A0 extends bI{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof A0}}function Gge(t,e,n,r){const i=t.wu(1,e,n);EI("Data must be an object, but it was:",i,r);const s=[],o=sr.empty();Bl(r,(l,c)=>{const u=TI(e,l,n);c=zt(c);const d=i.mu(u);if(c instanceof A0)s.push(u);else{const h=tm(c,d);h!=null&&(s.push(u),o.set(u,h))}});const a=new Sr(s);return new hz(o,a,i.fieldTransforms)}function Kge(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[PE(e,r,n)],l=[i];if(s.length%2!=0)throw new K(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(PE(e,s[h])),l.push(s[h+1]);const c=[],u=sr.empty();for(let h=a.length-1;h>=0;--h)if(!vz(c,a[h])){const f=a[h];let p=l[h];p=zt(p);const m=o.mu(f);if(p instanceof A0)c.push(f);else{const b=tm(p,m);b!=null&&(c.push(f),u.set(f,b))}}const d=new Sr(c);return new hz(u,d,o.fieldTransforms)}function Yge(t,e,n,r=!1){return tm(n,t.wu(r?4:3,e))}function tm(t,e){if(gz(t=zt(t)))return EI("Unsupported field value:",e,t),mz(t,e);if(t instanceof bI)return function(r,i){if(!fz(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=tm(a,i.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jpe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Mt.fromDate(r);return{timestampValue:wy(i.serializer,s)}}if(r instanceof Mt){const s=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wy(i.serializer,s)}}if(r instanceof wI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vu)return{bytesValue:F5(i.serializer,r._byteString)};if(r instanceof Qn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${C0(r)}`)}(t,e)}function mz(t,e){const n={};return h5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(t,(r,i)=>{const s=tm(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof wI||t instanceof Vu||t instanceof Qn||t instanceof bI)}function EI(t,e,n){if(!gz(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=C0(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function PE(t,e,n){if((e=zt(e))instanceof I0)return e._internalPath;if(typeof e=="string")return TI(t,e);throw Ey("Field path arguments must be of type string or ",t,!1,void 0,n)}const Qge=new RegExp("[~\\*/\\[\\]]");function TI(t,e,n){if(e.search(Qge)>=0)throw Ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new I0(...e.split("."))._internalPath}catch{throw Ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ey(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(D.INVALID_ARGUMENT,a+t+l)}function vz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(CI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xge extends yz{data(){return super.data()}}function CI(t,e){return typeof e=="string"?TI(t,e):e instanceof I0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zge(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xI{}class _z extends xI{}function d2(t,e,...n){let r=[];e instanceof xI&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof kI).length,a=s.filter(l=>l instanceof II).length;if(o>1||o>0&&a>0)throw new K(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class II extends _z{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new II(e,n,r)}_apply(e){const n=this._parse(e);return bz(e._query,n),new qs(e.firestore,e.converter,SE(e._query,n))}_parse(e){const n=k0(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new K(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){f2(d,u);const f=[];for(const p of d)f.push(h2(l,s,p));h={arrayValue:{values:f}}}else h=h2(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||f2(d,u),h=Yge(a,o,d,u==="in"||u==="not-in");return Yt.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class kI extends xI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)bz(o,l),o=SE(o,l)}(e._query,n),new qs(e.firestore,e.converter,SE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class AI extends _z{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new AI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new K(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new su(s,o);return function(c,u){if(iI(c)===null){const d=v0(c);d!==null&&wz(c,d,u.field)}}(i,a),a}(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new vd(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Jge(t,e="asc"){const n=e,r=CI("orderBy",t);return AI._create(r,n)}function h2(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new K(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w5(e)&&n.indexOf("/")!==-1)throw new K(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yt.fromString(n));if(!re.isDocumentKey(r))throw new K(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OO(t,new re(r))}if(n instanceof Qn)return OO(t,n._key);throw new K(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${C0(n)}.`)}function f2(t,e){if(!Array.isArray(t)||t.length===0)throw new K(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bz(t,e){if(e.isInequality()){const r=v0(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new K(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=iI(t);s!==null&&wz(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function wz(t,e,n){if(!n.isEqual(e))throw new K(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class eve{convertValue(e,n="none"){switch(_l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new wI(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zf(e));default:return null}}convertTimestamp(e){const n=Zo(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);bt(U5(r));const i=new Uf(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(n)||Ws(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ez extends yz{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(CI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sv extends Ez{data(e={}){return super.data(e)}}class tve{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sv(this._firestore,this._userDataWriter,r.key,r,new fh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new sv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new sv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:nve(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nve(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class Tz extends eve{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function p2(t,e,n){t=Xi(t,Qn);const r=Xi(t.firestore,bl),i=Sz(t.converter,e,n);return P0(r,[pz(k0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xr.none())])}function rve(t,e,n,...r){t=Xi(t,Qn);const i=Xi(t.firestore,bl),s=k0(i);let o;return o=typeof(e=zt(e))=="string"||e instanceof I0?Kge(s,"updateDoc",t._key,e,n,r):Gge(s,"updateDoc",t._key,e),P0(i,[o.toMutation(t._key,Xr.exists(!0))])}function Cz(t){return P0(Xi(t.firestore,bl),[new sI(t._key,Xr.none())])}function ive(t,e){const n=Xi(t.firestore,bl),r=_I(t),i=Sz(t.converter,e);return P0(n,[pz(k0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xr.exists(!1))]).then(()=>r)}function sve(t,...e){var n,r,i;t=zt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||u2(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(u2(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof Qn)c=Xi(t.firestore,bl),u=rI(t._key.path),l={next:d=>{e[o]&&e[o](ove(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Xi(t,qs);c=Xi(d.firestore,bl),u=d._query;const h=new Tz(c);l={next:f=>{e[o]&&e[o](new tve(c,h,d,f))},error:e[o+1],complete:e[o+2]},Zge(t._query)}return function(h,f,p,m){const b=new Oge(m),y=new mge(f,b,p);return h.asyncQueue.enqueueAndForget(async()=>dge(await s2(h),y)),()=>{b.La(),h.asyncQueue.enqueueAndForget(async()=>hge(await s2(h),y))}}(uz(c),u,a,l)}function P0(t,e){return function(r,i){const s=new tl;return r.asyncQueue.enqueueAndForget(async()=>Ege(await Lge(r),i,s)),s.promise}(uz(t),e)}function ove(t,e,n){const r=n.docs.get(e._key),i=new Tz(t);return new Ez(t,i,e._key,r,new fh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gd=i})(Js),ri(new Dr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new bl(new spe(r.getProvider("auth-internal")),new cpe(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uf(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qt(AO,"4.2.0",e),Qt(AO,"4.2.0","esm2017")})();function xz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ave=xz,Iz=new Vl("auth","Firebase",xz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new Fp("@firebase/auth");function lve(t,...e){Ty.logLevel<=Re.WARN&&Ty.warn(`Auth (${Js}): ${t}`,...e)}function ov(t,...e){Ty.logLevel<=Re.ERROR&&Ty.error(`Auth (${Js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,...e){throw PI(t,...e)}function Zi(t,...e){return PI(t,...e)}function kz(t,e,n){const r=Object.assign(Object.assign({},ave()),{[e]:n});return new Vl("auth","Firebase",r).create(e,{appName:t.name})}function cve(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ss(t,"argument-error"),kz(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function PI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Iz.create(t,...e)}function be(t,e,...n){if(!t)throw PI(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ov(e),new Error(e)}function Gs(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uve(){return m2()==="http:"||m2()==="https:"}function m2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dve(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uve()||Ide()||"connection"in navigator)?navigator.onLine:!0}function hve(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gs(n>e,"Short delay should be less than long delay!"),this.isMobile=xx()||X4()}get(){return dve()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){Gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pve=new nm(3e4,6e4);function Pz(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rm(t,e,n,r,i={}){return Rz(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=fd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Az.fetch()(Nz(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Rz(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fve),e);try{const i=new gve(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vg(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kz(t,u,c);ss(t,u)}}catch(i){if(i instanceof ii)throw i;ss(t,"network-request-failed",{message:String(i)})}}async function mve(t,e,n,r,i={}){const s=await rm(t,e,n,r,i);return"mfaPendingCredential"in s&&ss(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Nz(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?RI(t.config,i):`${t.config.apiScheme}://${i}`}class gve{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zi(this.auth,"network-request-failed")),pve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vve(t,e){return rm(t,"POST","/v1/accounts:delete",e)}async function yve(t,e){return rm(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _ve(t,e=!1){const n=zt(t),r=await n.getIdToken(e),i=NI(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zh(Hw(i.auth_time)),issuedAtTime:zh(Hw(i.iat)),expirationTime:zh(Hw(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hw(t){return Number(t)*1e3}function NI(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ov("JWT malformed, contained fewer than 3 sections"),null;try{const i=ay(n);return i?JSON.parse(i):(ov("Failed to decode base64 JWT payload"),null)}catch(i){return ov("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bve(t){const e=NI(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ii&&wve(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wve({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sve{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zh(this.lastLoginAt),this.creationTime=zh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cy(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gf(t,yve(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Cve(s.providerUserInfo):[],a=Tve(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Oz(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Eve(t){const e=zt(t);await Cy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tve(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Cve(t){return t.map(e=>{var{providerId:n}=e,r=Op(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xve(t,e){const n=await Rz(t,{},async()=>{const r=fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Nz(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Az.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bve(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return be(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await xve(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Kf;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kf,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Oz(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gf(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _ve(this,e)}reload(){return Eve(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Gf(this,vve(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:S,isAnonymous:C,providerData:x,stsTokenManager:T}=n;be(w&&T,e,"internal-error");const A=Kf.fromJSON(this.name,T);be(typeof w=="string",e,"internal-error"),ao(d,e.name),ao(h,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof C=="boolean",e,"internal-error"),ao(f,e.name),ao(p,e.name),ao(m,e.name),ao(b,e.name),ao(y,e.name),ao(v,e.name);const O=new nl({uid:w,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:C,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:A,createdAt:y,lastLoginAt:v});return x&&Array.isArray(x)&&(O.providerData=x.map(N=>Object.assign({},N))),b&&(O._redirectEventId=b),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Kf;i.updateFromServerResponse(n);const s=new nl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cy(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Map;function ks(t){Gs(t instanceof Function,"Expected a class definition");let e=g2.get(t);return e?(Gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Dz.type="NONE";const v2=Dz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e,n){return`firebase:${t}:${e}:${n}`}class au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=av(this.userKey,i.apiKey,s),this.fullPersistenceKey=av("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new au(ks(v2),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ks(v2);const o=av(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=nl._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new au(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new au(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vz(e))return"Blackberry";if(jz(e))return"Webos";if(OI(e))return"Safari";if((e.includes("chrome/")||$z(e))&&!e.includes("edge/"))return"Chrome";if(Fz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Mz(t=Bn()){return/firefox\//i.test(t)}function OI(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $z(t=Bn()){return/crios\//i.test(t)}function Lz(t=Bn()){return/iemobile/i.test(t)}function Fz(t=Bn()){return/android/i.test(t)}function Vz(t=Bn()){return/blackberry/i.test(t)}function jz(t=Bn()){return/webos/i.test(t)}function R0(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ive(t=Bn()){var e;return R0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kve(){return kde()&&document.documentMode===10}function Bz(t=Bn()){return R0(t)||Fz(t)||jz(t)||Vz(t)||/windows phone/i.test(t)||Lz(t)}function Ave(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e=[]){let n;switch(t){case"Browser":n=y2(Bn());break;case"Worker":n=`${y2(Bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rve(t,e={}){return rm(t,"GET","/v2/passwordPolicy",Pz(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nve=6;class Ove{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Nve,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dve{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _2(this),this.idTokenSubscription=new _2(this),this.beforeStateQueue=new Pve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hve()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?zt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rve(this),n=new Ove(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lve(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function N0(t){return zt(t)}class _2{constructor(e){this.auth=e,this.observer=null,this.addObserver=$de(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mve(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function $ve(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Mve().appendChild(r)})}function Lve(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fve(t,e){const n=Vp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(cy(s,e??{}))return i;ss(i,"already-initialized")}return n.initialize({options:e})}function Vve(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jve(t,e,n){const r=N0(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Uz(e),{host:o,port:a}=Bve(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||zve()}function Uz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bve(t){const e=Uz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:b2(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:b2(o)}}}function b2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zve(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e){return mve(t,"POST","/v1/accounts:signInWithIdp",Pz(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uve="http://localhost";class wl extends Wz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Op(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new wl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lu(e,n)}buildRequest(){const e={requestUri:Uve,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends DI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends im{constructor(){super("facebook.com")}static credential(e){return wl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";yo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends im{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wl._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ws.credential(n,r)}catch{return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com";ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends im{constructor(){super("github.com")}static credential(e){return wl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends im{constructor(){super("twitter.com")}static credential(e,n){return wl._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bo.credential(n,r)}catch{return null}}}bo.TWITTER_SIGN_IN_METHOD="twitter.com";bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await nl._fromIdTokenResponse(e,r,i),o=w2(r);return new ju({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=w2(r);return new ju({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function w2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends ii{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xy.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xy(e,n,r,i)}}function Hz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xy._fromErrorAndOperation(t,s,e,r):s})}async function Wve(t,e,n=!1){const r=await Gf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ju._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hve(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Gf(t,Hz(r,i,e,t),n);be(s.idToken,r,"internal-error");const o=NI(s.idToken);be(o,r,"internal-error");const{sub:a}=o;return be(t.uid===a,r,"user-mismatch"),ju._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ss(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qve(t,e,n=!1){const r="signIn",i=await Hz(t,r,e),s=await ju._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function qz(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function Gve(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}const Iy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Iy,"1"),this.storage.removeItem(Iy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kve(){const t=Bn();return OI(t)||R0(t)}const Yve=1e3,Qve=10;class Kz extends Gz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Kve()&&Ave(),this.fallbackToPolling=Bz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);kve()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Qve):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yve)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kz.type="LOCAL";const Xve=Kz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz extends Gz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yz.type="SESSION";const Qz=Yz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zve(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new O0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Zve(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}O0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jve{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=MI("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function eye(t){Ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function tye(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nye(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rye(){return Xz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz="firebaseLocalStorageDb",iye=1,ky="firebaseLocalStorage",Jz="fbase_key";class sm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function D0(t,e){return t.transaction([ky],e?"readwrite":"readonly").objectStore(ky)}function sye(){const t=indexedDB.deleteDatabase(Zz);return new sm(t).toPromise()}function NE(){const t=indexedDB.open(Zz,iye);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ky,{keyPath:Jz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ky)?e(r):(r.close(),await sye(),e(await NE()))})})}async function S2(t,e,n){const r=D0(t,!0).put({[Jz]:e,value:n});return new sm(r).toPromise()}async function oye(t,e){const n=D0(t,!1).get(e),r=await new sm(n).toPromise();return r===void 0?null:r.value}function E2(t,e){const n=D0(t,!0).delete(e);return new sm(n).toPromise()}const aye=800,lye=3;class e3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await NE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lye)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=O0._getInstance(rye()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tye(),!this.activeServiceWorker)return;this.sender=new Jve(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nye()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await NE();return await S2(e,Iy,"1"),await E2(e,Iy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oye(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=D0(i,!1).getAll();return new sm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e3.type="LOCAL";const cye=e3;new nm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t,e){return e?ks(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends Wz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uye(t){return qve(t.auth,new $I(t),t.bypassAuthState)}function dye(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),Hve(n,new $I(t),t.bypassAuthState)}async function hye(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),Wve(n,new $I(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uye;case"linkViaPopup":case"linkViaRedirect":return hye;case"reauthViaPopup":case"reauthViaRedirect":return dye;default:ss(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fye=new nm(2e3,1e4);class jc extends n3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,jc.currentPopupAction&&jc.currentPopupAction.cancel(),jc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=MI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fye.get())};e()}}jc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pye="pendingRedirect",lv=new Map;class mye extends n3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lv.get(this.auth._key());if(!e){try{const r=await gye(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lv.set(this.auth._key(),e)}return this.bypassAuthState||lv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gye(t,e){const n=i3(e),r=r3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function vye(t,e){return r3(t)._set(i3(e),"true")}function yye(t,e){lv.set(t._key(),e)}function r3(t){return ks(t._redirectPersistence)}function i3(t){return av(pye,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ye(t,e,n){return bye(t,e,n)}async function bye(t,e,n){const r=N0(t);cve(t,e,DI),await r._initializationPromise;const i=t3(r,n);return await vye(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function wye(t,e,n=!1){const r=N0(t),i=t3(r,e),o=await new mye(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sye=10*60*1e3;class Eye{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tye(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sye&&this.cachedEventUids.clear(),this.cachedEventUids.has(T2(e))}saveEventToCache(e){this.cachedEventUids.add(T2(e)),this.lastProcessedEventTime=Date.now()}}function T2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Tye(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cye(t,e={}){return rm(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xye=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iye=/^https?/;async function kye(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Cye(t);for(const n of e)try{if(Aye(n))return}catch{}ss(t,"unauthorized-domain")}function Aye(t){const e=RE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Iye.test(n))return!1;if(xye.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pye=new nm(3e4,6e4);function C2(){const t=Ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Rye(t){return new Promise((e,n)=>{var r,i,s;function o(){C2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C2(),n(Zi(t,"network-request-failed"))},timeout:Pye.get()})}if(!((i=(r=Ji().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ji().gapi)===null||s===void 0)&&s.load)o();else{const a=Lve("iframefcb");return Ji()[a]=()=>{gapi.load?o():n(Zi(t,"network-request-failed"))},$ve(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cv=null,e})}let cv=null;function Nye(t){return cv=cv||Rye(t),cv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oye=new nm(5e3,15e3),Dye="__/auth/iframe",Mye="emulator/auth/iframe",$ye={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lye=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fye(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?RI(e,Mye):`https://${t.config.authDomain}/${Dye}`,r={apiKey:e.apiKey,appName:t.name,v:Js},i=Lye.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fd(r).slice(1)}`}async function Vye(t){const e=await Nye(t),n=Ji().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:Fye(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$ye,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zi(t,"network-request-failed"),a=Ji().setTimeout(()=>{s(o)},Oye.get());function l(){Ji().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jye={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bye=500,zye=600,Uye="_blank",Wye="http://localhost";class x2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hye(t,e,n,r=Bye,i=zye){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},jye),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Bn().toLowerCase();n&&(a=$z(c)?Uye:n),Mz(c)&&(e=e||Wye,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(Ive(c)&&a!=="_self")return qye(e||"",a),new x2(null);const d=window.open(e||"",a,u);be(d,t,"popup-blocked");try{d.focus()}catch{}return new x2(d)}function qye(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gye="__/auth/handler",Kye="emulator/auth/handler",Yye=encodeURIComponent("fac");async function I2(t,e,n,r,i,s){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(e instanceof DI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",J1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof im){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Yye}=${encodeURIComponent(l)}`:"";return`${Qye(t)}?${fd(a).slice(1)}${c}`}function Qye({config:t}){return t.emulator?RI(t,Kye):`https://${t.authDomain}/${Gye}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="webStorageSupport";class Xye{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qz,this._completeRedirectFn=wye,this._overrideRedirectResult=yye}async _openPopup(e,n,r,i){var s;Gs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await I2(e,n,r,RE(),i);return Hye(e,o,MI())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await I2(e,n,r,RE(),i);return eye(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Vye(e),r=new Eye(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qw,{type:qw},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[qw];o!==void 0&&n(!!o),ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kye(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Bz()||OI()||R0()}}const Zye=Xye;var k2="@firebase/auth",A2="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jye{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function t_e(t){ri(new Dr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zz(t)},c=new Dve(r,i,s,l);return Vve(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ri(new Dr("auth-internal",e=>{const n=N0(e.getProvider("auth").getImmediate());return(r=>new Jye(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qt(k2,A2,e_e(t)),Qt(k2,A2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_e=5*60,r_e=Q4("authIdTokenMaxAge")||n_e;let P2=null;const i_e=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r_e)return;const i=n==null?void 0:n.token;P2!==i&&(P2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s_e(t=sB()){const e=Vp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Fve(t,{popupRedirectResolver:Zye,persistence:[cye,Xve,Qz]}),r=Q4("authTokenSyncURL");if(r){const s=i_e(r);Gve(n,s,()=>s(n.currentUser)),qz(n,o=>s(o))}const i=K4("auth");return i&&jve(n,`http://${i}`),n}t_e("Browser");const R2="@firebase/database",N2="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o3="";function o_e(t){o3=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_e{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Pf(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new a_e(e)}}catch{}return new l_e},za=a3("localStorage"),OE=a3("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Fp("@firebase/database"),c_e=function(){let t=1;return function(){return t++}}(),l3=function(t){const e=Vde(t),n=new Mde;n.update(e);const r=n.digest();return Ex.encodeByteArray(r)},om=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=om.apply(null,r):typeof r=="object"?e+=dn(r):e+=r,e+=" "}return e};let rl=null,O2=!0;const u_e=function(t,e){V(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(cu.logLevel=Re.VERBOSE,rl=cu.log.bind(cu),e&&OE.set("logging_enabled",!0)):typeof t=="function"?rl=t:(rl=null,OE.remove("logging_enabled"))},On=function(...t){if(O2===!0&&(O2=!1,rl===null&&OE.get("logging_enabled")===!0&&u_e(!0)),rl){const e=om.apply(null,t);rl(e)}},am=function(t){return function(...e){On(t,...e)}},DE=function(...t){const e="FIREBASE INTERNAL ERROR: "+om(...t);cu.error(e)},Sl=function(...t){const e=`FIREBASE FATAL ERROR: ${om(...t)}`;throw cu.error(e),new Error(e)},Ar=function(...t){const e="FIREBASE WARNING: "+om(...t);cu.warn(e)},d_e=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},c3=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},h_e=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Bu="[MIN_NAME]",El="[MAX_NAME]",bd=function(t,e){if(t===e)return 0;if(t===Bu||e===El)return-1;if(e===Bu||t===El)return 1;{const n=D2(t),r=D2(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},f_e=function(t,e){return t===e?0:t<e?-1:1},qd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+dn(e))},LI=function(t){if(typeof t!="object"||t===null)return dn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=dn(e[r]),n+=":",n+=LI(t[e[r]]);return n+="}",n},u3=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function vr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const d3=function(t){V(!c3(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},p_e=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},m_e=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function g_e(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const v_e=new RegExp("^-?(0*)\\d{1,10}$"),y_e=-2147483648,__e=2147483647,D2=function(t){if(v_e.test(t)){const e=Number(t);if(e>=y_e&&e<=__e)return e}return null},lm=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ar("Exception was thrown by user callback.",n),e},Math.floor(0))}},b_e=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_e{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ar(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_e{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(On("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ar(e)}}class ME{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ME.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="5",h3="v",f3="s",p3="r",m3="f",g3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,v3="ls",y3="p",$E="ac",_3="websocket",b3="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_e{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=za.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&za.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function T_e(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function w3(t,e,n){V(typeof e=="string","typeof type must == string"),V(typeof n=="object","typeof params must == object");let r;if(e===_3)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===b3)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);T_e(t)&&(n.ns=t.namespace);const i=[];return vr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_e{constructor(){this.counters_={}}incrementCounter(e,n=1){Zs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return _de(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw={},Kw={};function VI(t){const e=t.toString();return Gw[e]||(Gw[e]=new C_e),Gw[e]}function x_e(t,e){const n=t.toString();return Kw[n]||(Kw[n]=e()),Kw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_e{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&lm(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="start",k_e="close",A_e="pLPCommand",P_e="pRTLPCB",S3="id",E3="pw",T3="ser",R_e="cb",N_e="seg",O_e="ts",D_e="d",M_e="dframe",C3=1870,x3=30,$_e=C3-x3,L_e=25e3,F_e=3e4;class Bc{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=am(e),this.stats_=VI(n),this.urlFn=l=>(this.appCheckToken&&(l[$E]=this.appCheckToken),w3(n,b3,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new I_e(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(F_e)),h_e(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jI((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===M2)this.id=a,this.password=l;else if(o===k_e)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[M2]="t",r[T3]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[R_e]=this.scriptTagHolder.uniqueCallbackIdentifier),r[h3]=FI,this.transportSessionId&&(r[f3]=this.transportSessionId),this.lastSessionId&&(r[v3]=this.lastSessionId),this.applicationId&&(r[y3]=this.applicationId),this.appCheckToken&&(r[$E]=this.appCheckToken),typeof location<"u"&&location.hostname&&g3.test(location.hostname)&&(r[p3]=m3);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bc.forceAllow_=!0}static forceDisallow(){Bc.forceDisallow_=!0}static isAvailable(){return Bc.forceAllow_?!0:!Bc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!p_e()&&!m_e()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=dn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=q4(n),i=u3(r,$_e);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[M_e]="t",r[S3]=e,r[E3]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=dn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class jI{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=c_e(),window[A_e+this.uniqueCallbackIdentifier]=e,window[P_e+this.uniqueCallbackIdentifier]=n,this.myIFrame=jI.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){On("frame writing exception"),a.stack&&On(a.stack),On(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||On("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[S3]=this.myID,e[E3]=this.myPW,e[T3]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+x3+r.length<=C3;){const o=this.pendingSegs.shift();r=r+"&"+N_e+i+"="+o.seg+"&"+O_e+i+"="+o.ts+"&"+D_e+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(L_e)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{On("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_e=16384,j_e=45e3;let Ay=null;typeof MozWebSocket<"u"?Ay=MozWebSocket:typeof WebSocket<"u"&&(Ay=WebSocket);class di{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=am(this.connId),this.stats_=VI(n),this.connURL=di.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[h3]=FI,typeof location<"u"&&location.hostname&&g3.test(location.hostname)&&(o[p3]=m3),n&&(o[f3]=n),r&&(o[v3]=r),i&&(o[$E]=i),s&&(o[y3]=s),w3(e,_3,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,za.set("previous_websocket_failure",!0);try{let r;Z4(),this.mySock=new Ay(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ay!==null&&!di.forceDisallow_}static previouslyFailed(){return za.isInMemoryStorage||za.get("previous_websocket_failure")===!0}markConnectionHealthy(){za.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Pf(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=dn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=u3(n,V_e);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(j_e))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}di.responsesRequiredToBeHealthy=2;di.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Bc,di]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=di&&di.isAvailable();let r=n&&!di.previouslyFailed();if(e.webSocketOnly&&(n||Ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[di];else{const i=this.transports_=[];for(const s of Yf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Yf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Yf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_e=6e4,z_e=5e3,U_e=10*1024,W_e=100*1024,Yw="t",$2="d",H_e="s",L2="r",q_e="e",F2="o",V2="a",j2="n",B2="p",G_e="h";class K_e{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=am("c:"+this.id+":"),this.transportManager_=new Yf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Uh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>W_e?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>U_e?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yw in e){const n=e[Yw];n===V2?this.upgradeIfSecondaryHealthy_():n===L2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===F2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=qd("t",e),r=qd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:B2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:V2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:j2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=qd("t",e),r=qd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=qd(Yw,e);if($2 in e){const r=e[$2];if(n===G_e){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===j2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===H_e?this.onConnectionShutdown_(r):n===L2?this.onReset_(r):n===q_e?DE("Server Error: "+r):n===F2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):DE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),FI!==r&&Ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Uh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(B_e))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(z_e))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:B2,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(za.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){V(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py extends k3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Py}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=32,U2=768;class ot{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Je(){return new ot("")}function Ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ea(t){return t.pieces_.length-t.pieceNum_}function ct(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ot(t.pieces_,e)}function A3(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Y_e(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function P3(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function R3(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ot(e,0)}function en(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ot)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ot(n,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function lr(t,e){const n=Ne(t),r=Ne(e);if(n===null)return e;if(n===r)return lr(ct(t),ct(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function BI(t,e){if(ea(t)!==ea(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function hi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ea(t)>ea(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Q_e{constructor(e,n){this.errorPrefix_=n,this.parts_=P3(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=J_(this.parts_[r]);N3(this)}}function X_e(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=J_(e),N3(t)}function Z_e(t){const e=t.parts_.pop();t.byteLength_-=J_(e),t.parts_.length>0&&(t.byteLength_-=1)}function N3(t){if(t.byteLength_>U2)throw new Error(t.errorPrefix_+"has a key path longer than "+U2+" bytes ("+t.byteLength_+").");if(t.parts_.length>z2)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+z2+") or object contains a cycle "+ka(t))}function ka(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI extends k3{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zI}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=1e3,J_e=60*5*1e3,W2=30*1e3,e0e=1.3,t0e=3e4,n0e="server_kill",H2=3;class Ds extends I3{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ds.nextPersistentConnectionId_++,this.log_=am("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gd,this.maxReconnectDelay_=J_e,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Z4())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Py.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(dn(s)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Cx,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Ds.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Zs(e,"w")){const r=Ru(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Dde(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=W2)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Ode(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):DE("Unrecognized action received from server: "+dn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>t0e&&(this.reconnectDelay_=Gd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*e0e)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ds.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){V(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?On("getToken() completed but was canceled"):(On("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new K_e(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Ar(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(n0e)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ar(d),l())}}}interrupt(e){On("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){On("Resuming connection for reason: "+e),delete this.interruptReasons_[e],J1(this.interruptReasons_)&&(this.reconnectDelay_=Gd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>LI(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ot(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){On("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=H2&&(this.reconnectDelay_=W2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){On("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=H2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+o3.replace(/\./g,"-")]=1,xx()?e["framework.cordova"]=1:X4()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Py.getInstance().currentlyOnline();return J1(this.interruptReasons_)&&e}}Ds.nextPersistentConnectionId_=0;Ds.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Pe(Bu,e),i=new Pe(Bu,n);return this.compare(r,i)!==0}minPost(){return Pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yg;class O3 extends M0{static get __EMPTY_NODE(){return yg}static set __EMPTY_NODE(e){yg=e}compare(e,n){return bd(e.name,n.name)}isDefinedOn(e){throw hd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Pe.MIN}maxPost(){return new Pe(El,yg)}makePost(e,n){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new Pe(e,yg)}toString(){return".key"}}const uu=new O3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??un.RED,this.left=i??cr.EMPTY_NODE,this.right=s??cr.EMPTY_NODE}copy(e,n,r,i,s){return new un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return cr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return cr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}un.RED=!0;un.BLACK=!1;class r0e{copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class cr{constructor(e,n=cr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new cr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,un.BLACK,null,null))}remove(e){return new cr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,un.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _g(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new _g(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new _g(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new _g(this.root_,null,this.comparator_,!0,e)}}cr.EMPTY_NODE=new r0e;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0e(t,e){return bd(t.name,e.name)}function UI(t,e){return bd(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LE;function s0e(t){LE=t}const D3=function(t){return typeof t=="number"?"number:"+d3(t):"string:"+t},M3=function(t){if(t.isLeafNode()){const e=t.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zs(e,".sv"),"Priority must be a string or number.")}else V(t===LE||t.isEmpty(),"priority of unexpected type.");V(t===LE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q2;class an{constructor(e,n=an.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),M3(this.priorityNode_)}static set __childrenNodeConstructor(e){q2=e}static get __childrenNodeConstructor(){return q2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new an(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:an.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Ne(e)===".priority"?this.priorityNode_:an.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:an.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ne(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(V(r!==".priority"||ea(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,an.__childrenNodeConstructor.EMPTY_NODE.updateChild(ct(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+D3(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=d3(this.value_):e+=this.value_,this.lazyHash_=l3(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===an.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof an.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=an.VALUE_TYPE_ORDER.indexOf(n),s=an.VALUE_TYPE_ORDER.indexOf(r);return V(i>=0,"Unknown leaf type: "+n),V(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}an.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $3,L3;function o0e(t){$3=t}function a0e(t){L3=t}class l0e extends M0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?bd(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Pe.MIN}maxPost(){return new Pe(El,new an("[PRIORITY-POST]",L3))}makePost(e,n){const r=$3(e);return new Pe(n,new an("[PRIORITY-POST]",r))}toString(){return".priority"}}const Dt=new l0e;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0e=Math.log(2);class u0e{constructor(e){const n=s=>parseInt(Math.log(s)/c0e,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ry=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new un(h,d.node,un.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=t[f],h=n?n(d):d,new un(h,d.node,un.BLACK,p,m)}},s=function(l){let c=null,u=null,d=t.length;const h=function(p,m){const b=d-p,y=d;d-=p;const v=i(b+1,y),w=t[b],S=n?n(w):w;f(new un(S,w.node,m,null,v))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),b=Math.pow(2,l.count-(p+1));m?h(b,un.BLACK):(h(b,un.BLACK),h(b,un.RED))}return u},o=new u0e(t.length),a=s(o);return new cr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qw;const cc={};class As{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return V(cc&&Dt,"ChildrenNode.ts has not been loaded"),Qw=Qw||new As({".priority":cc},{".priority":Dt}),Qw}get(e){const n=Ru(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof cr?n:null}hasIndex(e){return Zs(this.indexSet_,e.toString())}addIndex(e,n){V(e!==uu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Pe.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Ry(r,e.getCompare()):a=cc;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new As(u,c)}addToIndexes(e,n){const r=ly(this.indexes_,(i,s)=>{const o=Ru(this.indexSet_,s);if(V(o,"Missing index implementation for "+s),i===cc)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Pe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ry(a,o.getCompare())}else return cc;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Pe(e.name,a))),l.insert(e,e.node)}});return new As(r,this.indexSet_)}removeFromIndexes(e,n){const r=ly(this.indexes_,i=>{if(i===cc)return i;{const s=n.get(e.name);return s?i.remove(new Pe(e.name,s)):i}});return new As(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;class he{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&M3(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Kd||(Kd=new he(new cr(UI),null,As.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Kd}updatePriority(e){return this.children_.isEmpty()?this:new he(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Kd:n}}getChild(e){const n=Ne(e);return n===null?this:this.getImmediateChild(n).getChild(ct(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(V(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Pe(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Kd:this.priorityNode_;return new he(i,o,s)}}updateChild(e,n){const r=Ne(e);if(r===null)return n;{V(Ne(e)!==".priority"||ea(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ct(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Dt,(o,a)=>{n[o]=a.val(e),r++,s&&he.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+D3(this.getPriority().val())+":"),this.forEachChild(Dt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":l3(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Pe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Pe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Pe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Pe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cm?-1:0}withIndex(e){if(e===uu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new he(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===uu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Dt),i=n.getIterator(Dt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===uu?null:this.indexMap_.get(e.toString())}}he.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class d0e extends he{constructor(){super(new cr(UI),he.EMPTY_NODE,As.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return he.EMPTY_NODE}isEmpty(){return!1}}const cm=new d0e;Object.defineProperties(Pe,{MIN:{value:new Pe(Bu,he.EMPTY_NODE)},MAX:{value:new Pe(El,cm)}});O3.__EMPTY_NODE=he.EMPTY_NODE;an.__childrenNodeConstructor=he;s0e(cm);a0e(cm);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0e=!0;function Dn(t,e=null){if(t===null)return he.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new an(n,Dn(e))}if(!(t instanceof Array)&&h0e){const n=[];let r=!1;if(vr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Dn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Pe(o,l)))}}),n.length===0)return he.EMPTY_NODE;const s=Ry(n,i0e,o=>o.name,UI);if(r){const o=Ry(n,Dt.getCompare());return new he(s,Dn(e),new As({".priority":o},{".priority":Dt}))}else return new he(s,Dn(e),As.Default)}else{let n=he.EMPTY_NODE;return vr(t,(r,i)=>{if(Zs(t,r)&&r.substring(0,1)!=="."){const s=Dn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Dn(e))}}o0e(Dn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0e extends M0{constructor(e){super(),this.indexPath_=e,V(!Oe(e)&&Ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?bd(e.name,n.name):s}makePost(e,n){const r=Dn(e),i=he.EMPTY_NODE.updateChild(this.indexPath_,r);return new Pe(n,i)}maxPost(){const e=he.EMPTY_NODE.updateChild(this.indexPath_,cm);return new Pe(El,e)}toString(){return P3(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0e extends M0{compare(e,n){const r=e.node.compareTo(n.node);return r===0?bd(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Pe.MIN}maxPost(){return Pe.MAX}makePost(e,n){const r=Dn(e);return new Pe(n,r)}toString(){return".value"}}const m0e=new p0e;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){return{type:"value",snapshotNode:t}}function zu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Qf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Xf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function g0e(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Qf(n,a)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(zu(n,r)):o.trackChildChange(Xf(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Dt,(i,s)=>{n.hasChild(i)||r.trackChildChange(Qf(i,s))}),n.isLeafNode()||n.forEachChild(Dt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Xf(i,s,o))}else r.trackChildChange(zu(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?he.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.indexedFilter_=new WI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zf.getStartPost_(e),this.endPost_=Zf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Pe(n,r))||(r=he.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=he.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(he.EMPTY_NODE);const s=this;return n.forEachChild(Dt,(o,a)=>{s.matches(new Pe(o,a))||(i=i.updateImmediateChild(o,he.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0e{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Zf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Pe(n,r))||(r=he.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=he.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=he.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(he.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,he.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;V(a.numChildren()===this.limit_,"");const l=new Pe(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(Xf(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Qf(n,d));const m=a.updateImmediateChild(n,he.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(zu(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Qf(c.name,c.node)),s.trackChildChange(zu(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,he.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bu}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:El}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dt}copy(){const e=new HI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function y0e(t){return t.loadsAllData()?new WI(t.getIndex()):t.hasLimit()?new v0e(t):new Zf(t)}function G2(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Dt?n="$priority":t.index_===m0e?n="$value":t.index_===uu?n="$key":(V(t.index_ instanceof f0e,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=dn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=dn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+dn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=dn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+dn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function K2(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Dt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends I3{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=am("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Ny.getListenId_(e,r),a={};this.listens_[o]=a;const l=G2(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Ru(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Ny.getListenId_(e,n);delete this.listens_[r]}get(e){const n=G2(e._queryParams),r=e._path.toString(),i=new Cx;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fd(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Pf(a.responseText)}catch{Ar("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ar("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0e{constructor(){this.rootNode_=he.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){return{value:null,children:new Map}}function V3(t,e,n){if(Oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ne(e);t.children.has(r)||t.children.set(r,Oy());const i=t.children.get(r);e=ct(e),V3(i,e,n)}}function FE(t,e,n){t.value!==null?n(e,t.value):b0e(t,(r,i)=>{const s=new ot(e.toString()+"/"+r);FE(i,s,n)})}function b0e(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0e{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=10*1e3,S0e=30*1e3,E0e=5*60*1e3;class T0e{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new w0e(e);const r=Y2+(S0e-Y2)*Math.random();Uh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;vr(e,(i,s)=>{s>0&&Zs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Uh(this.reportStats_.bind(this),Math.floor(Math.random()*2*E0e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fi||(fi={}));function j3(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function GI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=fi.ACK_USER_WRITE,this.source=j3()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ot(e));return new Dy(Je(),n,this.revert)}}else return V(Ne(this.path)===e,"operationForChild called for unrelated child."),new Dy(ct(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.source=e,this.path=n,this.type=fi.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new Jf(this.source,Je()):new Jf(this.source,ct(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=fi.OVERWRITE}operationForChild(e){return Oe(this.path)?new Tl(this.source,Je(),this.snap.getImmediateChild(e)):new Tl(this.source,ct(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=fi.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new ot(e));return n.isEmpty()?null:n.value?new Tl(this.source,Je(),n.value):new ep(this.source,Je(),n)}else return V(Ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ep(this.source,ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0e{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function x0e(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(g0e(o.childName,o.snapshotNode))}),Yd(t,i,"child_removed",e,r,n),Yd(t,i,"child_added",e,r,n),Yd(t,i,"child_moved",s,r,n),Yd(t,i,"child_changed",e,r,n),Yd(t,i,"value",e,r,n),i}function Yd(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>k0e(t,a,l)),o.forEach(a=>{const l=I0e(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function I0e(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function k0e(t,e,n){if(e.childName==null||n.childName==null)throw hd("Should only compare child_ events.");const r=new Pe(e.childName,e.snapshotNode),i=new Pe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t,e){return{eventCache:t,serverCache:e}}function Wh(t,e,n,r){return $0(new Cl(e,n,r),t.serverCache)}function B3(t,e,n,r){return $0(t.eventCache,new Cl(e,n,r))}function VE(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function xl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xw;const A0e=()=>(Xw||(Xw=new cr(f_e)),Xw);class gt{constructor(e,n=A0e()){this.value=e,this.children=n}static fromObject(e){let n=new gt(null);return vr(e,(r,i)=>{n=n.set(new ot(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Je(),value:this.value};if(Oe(e))return null;{const r=Ne(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ct(e),n);return s!=null?{path:en(new ot(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=Ne(e),r=this.children.get(n);return r!==null?r.subtree(ct(e)):new gt(null)}}set(e,n){if(Oe(e))return new gt(n,this.children);{const r=Ne(e),s=(this.children.get(r)||new gt(null)).set(ct(e),n),o=this.children.insert(r,s);return new gt(this.value,o)}}remove(e){if(Oe(e))return this.children.isEmpty()?new gt(null):new gt(null,this.children);{const n=Ne(e),r=this.children.get(n);if(r){const i=r.remove(ct(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new gt(null):new gt(this.value,s)}else return this}}get(e){if(Oe(e))return this.value;{const n=Ne(e),r=this.children.get(n);return r?r.get(ct(e)):null}}setTree(e,n){if(Oe(e))return n;{const r=Ne(e),s=(this.children.get(r)||new gt(null)).setTree(ct(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new gt(this.value,o)}}fold(e){return this.fold_(Je(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(en(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Je(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Oe(e))return null;{const s=Ne(e),o=this.children.get(s);return o?o.findOnPath_(ct(e),en(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Je(),n)}foreachOnPath_(e,n,r){if(Oe(e))return this;{this.value&&r(n,this.value);const i=Ne(e),s=this.children.get(i);return s?s.foreachOnPath_(ct(e),en(n,i),r):new gt(null)}}foreach(e){this.foreach_(Je(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(en(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.writeTree_=e}static empty(){return new _i(new gt(null))}}function Hh(t,e,n){if(Oe(e))return new _i(new gt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=lr(i,e);return s=s.updateChild(o,n),new _i(t.writeTree_.set(i,s))}else{const i=new gt(n),s=t.writeTree_.setTree(e,i);return new _i(s)}}}function Q2(t,e,n){let r=t;return vr(n,(i,s)=>{r=Hh(r,en(e,i),s)}),r}function X2(t,e){if(Oe(e))return _i.empty();{const n=t.writeTree_.setTree(e,new gt(null));return new _i(n)}}function jE(t,e){return Ul(t,e)!=null}function Ul(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(lr(n.path,e)):null}function Z2(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Dt,(r,i)=>{e.push(new Pe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Pe(r,i.value))}),e}function zo(t,e){if(Oe(e))return t;{const n=Ul(t,e);return n!=null?new _i(new gt(n)):new _i(t.writeTree_.subtree(e))}}function BE(t){return t.writeTree_.isEmpty()}function Uu(t,e){return z3(Je(),t.writeTree_,e)}function z3(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(V(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=z3(en(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(en(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e){return q3(e,t)}function P0e(t,e,n,r,i){V(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Hh(t.visibleWrites,e,n)),t.lastWriteId=r}function R0e(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function N0e(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);V(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&O0e(a,r.path)?i=!1:hi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return D0e(t),!0;if(r.snap)t.visibleWrites=X2(t.visibleWrites,r.path);else{const a=r.children;vr(a,l=>{t.visibleWrites=X2(t.visibleWrites,en(r.path,l))})}return!0}else return!1}function O0e(t,e){if(t.snap)return hi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&hi(en(t.path,n),e))return!0;return!1}function D0e(t){t.visibleWrites=U3(t.allWrites,M0e,Je()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function M0e(t){return t.visible}function U3(t,e,n){let r=_i.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)hi(n,o)?(a=lr(n,o),r=Hh(r,a,s.snap)):hi(o,n)&&(a=lr(o,n),r=Hh(r,Je(),s.snap.getChild(a)));else if(s.children){if(hi(n,o))a=lr(n,o),r=Q2(r,a,s.children);else if(hi(o,n))if(a=lr(o,n),Oe(a))r=Q2(r,Je(),s.children);else{const l=Ru(s.children,Ne(a));if(l){const c=l.getChild(ct(a));r=Hh(r,Je(),c)}}}else throw hd("WriteRecord should have .snap or .children")}}return r}function W3(t,e,n,r,i){if(!r&&!i){const s=Ul(t.visibleWrites,e);if(s!=null)return s;{const o=zo(t.visibleWrites,e);if(BE(o))return n;if(n==null&&!jE(o,Je()))return null;{const a=n||he.EMPTY_NODE;return Uu(o,a)}}}else{const s=zo(t.visibleWrites,e);if(!i&&BE(s))return n;if(!i&&n==null&&!jE(s,Je()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(hi(c.path,e)||hi(e,c.path))},a=U3(t.allWrites,o,e),l=n||he.EMPTY_NODE;return Uu(a,l)}}}function $0e(t,e,n){let r=he.EMPTY_NODE;const i=Ul(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Dt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=zo(t.visibleWrites,e);return n.forEachChild(Dt,(o,a)=>{const l=Uu(zo(s,new ot(o)),a);r=r.updateImmediateChild(o,l)}),Z2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=zo(t.visibleWrites,e);return Z2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function L0e(t,e,n,r,i){V(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=en(e,n);if(jE(t.visibleWrites,s))return null;{const o=zo(t.visibleWrites,s);return BE(o)?i.getChild(n):Uu(o,i.getChild(n))}}function F0e(t,e,n,r){const i=en(e,n),s=Ul(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=zo(t.visibleWrites,i);return Uu(o,r.getNode().getImmediateChild(n))}else return null}function V0e(t,e){return Ul(t.visibleWrites,e)}function j0e(t,e,n,r,i,s,o){let a;const l=zo(t.visibleWrites,e),c=Ul(l,Je());if(c!=null)a=c;else if(n!=null)a=Uu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function B0e(){return{visibleWrites:_i.empty(),allWrites:[],lastWriteId:-1}}function My(t,e,n,r){return W3(t.writeTree,t.treePath,e,n,r)}function YI(t,e){return $0e(t.writeTree,t.treePath,e)}function J2(t,e,n,r){return L0e(t.writeTree,t.treePath,e,n,r)}function $y(t,e){return V0e(t.writeTree,en(t.treePath,e))}function z0e(t,e,n,r,i,s){return j0e(t.writeTree,t.treePath,e,n,r,i,s)}function QI(t,e,n){return F0e(t.writeTree,t.treePath,e,n)}function H3(t,e){return q3(en(t.treePath,e),t.writeTree)}function q3(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0e{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;V(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),V(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Xf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Qf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,zu(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Xf(r,e.snapshotNode,i.oldSnap));else throw hd("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0e{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const G3=new W0e;class XI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Cl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return QI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xl(this.viewCache_),s=z0e(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0e(t){return{filter:t}}function q0e(t,e){V(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function G0e(t,e,n,r,i){const s=new U0e;let o,a;if(n.type===fi.OVERWRITE){const c=n;c.source.fromUser?o=zE(t,e,c.path,c.snap,r,i,s):(V(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Oe(c.path),o=Ly(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===fi.MERGE){const c=n;c.source.fromUser?o=Y0e(t,e,c.path,c.children,r,i,s):(V(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=UE(t,e,c.path,c.children,r,i,a,s))}else if(n.type===fi.ACK_USER_WRITE){const c=n;c.revert?o=Z0e(t,e,c.path,r,i,s):o=Q0e(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===fi.LISTEN_COMPLETE)o=X0e(t,e,n.path,r,s);else throw hd("Unknown operation type: "+n.type);const l=s.getChanges();return K0e(e,o,l),{viewCache:o,changes:l}}function K0e(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=VE(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(F3(VE(e)))}}function K3(t,e,n,r,i,s){const o=e.eventCache;if($y(r,n)!=null)return e;{let a,l;if(Oe(n))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=xl(e),u=c instanceof he?c:he.EMPTY_NODE,d=YI(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=My(r,xl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Ne(n);if(c===".priority"){V(ea(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=J2(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=ct(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=J2(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=QI(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Wh(e,a,o.isFullyInitialized()||Oe(n),t.filter.filtersNodes())}}function Ly(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Oe(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Ne(n);if(!l.isCompleteForPath(n)&&ea(n)>1)return e;const p=ct(n),b=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?c=u.updatePriority(l.getNode(),b):c=u.updateChild(l.getNode(),f,b,p,G3,null)}const d=B3(e,c,l.isFullyInitialized()||Oe(n),u.filtersNodes()),h=new XI(i,d,s);return K3(t,d,n,i,h,a)}function zE(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new XI(i,e,s);if(Oe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Wh(e,c,!0,t.filter.filtersNodes());else{const d=Ne(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Wh(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ct(n),f=a.getNode().getImmediateChild(d);let p;if(Oe(h))p=r;else{const m=u.getCompleteChild(d);m!=null?A3(h)===".priority"&&m.getChild(R3(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=he.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=Wh(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function eD(t,e){return t.eventCache.isCompleteForChild(e)}function Y0e(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=en(n,l);eD(e,Ne(u))&&(a=zE(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=en(n,l);eD(e,Ne(u))||(a=zE(t,a,u,c,i,s,o))}),a}function tD(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function UE(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Oe(n)?c=r:c=new gt(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=tD(t,f,h);l=Ly(t,l,new ot(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=tD(t,p,h);l=Ly(t,l,new ot(d),m,i,s,o,a)}}),l}function Q0e(t,e,n,r,i,s,o){if($y(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Oe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ly(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Oe(n)){let c=new gt(null);return l.getNode().forEachChild(uu,(u,d)=>{c=c.set(new ot(u),d)}),UE(t,e,n,c,i,s,a,o)}else return e}else{let c=new gt(null);return r.foreach((u,d)=>{const h=en(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),UE(t,e,n,c,i,s,a,o)}}function X0e(t,e,n,r,i){const s=e.serverCache,o=B3(e,s.getNode(),s.isFullyInitialized()||Oe(n),s.isFiltered());return K3(t,o,n,r,G3,i)}function Z0e(t,e,n,r,i,s){let o;if($y(r,n)!=null)return e;{const a=new XI(r,e,i),l=e.eventCache.getNode();let c;if(Oe(n)||Ne(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=My(r,xl(e));else{const d=e.serverCache.getNode();V(d instanceof he,"serverChildren would be complete if leaf node"),u=YI(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Ne(n);let d=QI(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ct(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,he.EMPTY_NODE,ct(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=My(r,xl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||$y(r,Je())!=null,Wh(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0e{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new WI(r.getIndex()),s=y0e(r);this.processor_=H0e(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(he.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(he.EMPTY_NODE,a.getNode(),null),u=new Cl(l,o.isFullyInitialized(),i.filtersNodes()),d=new Cl(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=$0(d,u),this.eventGenerator_=new C0e(this.query_)}get query(){return this.query_}}function ebe(t){return t.viewCache_.serverCache.getNode()}function tbe(t,e){const n=xl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(Ne(e)).isEmpty())?n.getChild(e):null}function nD(t){return t.eventRegistrations_.length===0}function nbe(t,e){t.eventRegistrations_.push(e)}function rD(t,e,n){const r=[];if(n){V(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function iD(t,e,n,r){e.type===fi.MERGE&&e.source.queryId!==null&&(V(xl(t.viewCache_),"We should always have a full cache before handling merges"),V(VE(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=G0e(t.processor_,i,e,n,r);return q0e(t.processor_,s.viewCache),V(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Y3(t,s.changes,s.viewCache.eventCache.getNode(),null)}function rbe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Dt,(s,o)=>{r.push(zu(s,o))}),n.isFullyInitialized()&&r.push(F3(n.getNode())),Y3(t,r,n.getNode(),e)}function Y3(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return x0e(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fy;class ibe{constructor(){this.views=new Map}}function sbe(t){V(!Fy,"__referenceConstructor has already been defined"),Fy=t}function obe(){return V(Fy,"Reference.ts has not been loaded"),Fy}function abe(t){return t.views.size===0}function ZI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return V(s!=null,"SyncTree gave us an op for an invalid query."),iD(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(iD(o,e,n,r));return s}}function lbe(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=My(n,i?r:null),l=!1;a?l=!0:r instanceof he?(a=YI(n,r),l=!1):(a=he.EMPTY_NODE,l=!1);const c=$0(new Cl(a,l,!1),new Cl(r,i,!1));return new J0e(e,c)}return o}function cbe(t,e,n,r,i,s){const o=lbe(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),nbe(o,n),rbe(o,n)}function ube(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=ta(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(rD(c,n,r)),nD(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(rD(l,n,r)),nD(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ta(t)&&s.push(new(obe())(e._repo,e._path)),{removed:s,events:o}}function Q3(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function du(t,e){let n=null;for(const r of t.views.values())n=n||tbe(r,e);return n}function X3(t,e){if(e._queryParams.loadsAllData())return L0(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Z3(t,e){return X3(t,e)!=null}function ta(t){return L0(t)!=null}function L0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vy;function dbe(t){V(!Vy,"__referenceConstructor has already been defined"),Vy=t}function hbe(){return V(Vy,"Reference.ts has not been loaded"),Vy}let fbe=1;class sD{constructor(e){this.listenProvider_=e,this.syncPointTree_=new gt(null),this.pendingWriteTree_=B0e(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pbe(t,e,n,r,i){return P0e(t.pendingWriteTree_,e,n,r,i),i?um(t,new Tl(j3(),e,n)):[]}function zc(t,e,n=!1){const r=R0e(t.pendingWriteTree_,e);if(N0e(t.pendingWriteTree_,e)){let s=new gt(null);return r.snap!=null?s=s.set(Je(),!0):vr(r.children,o=>{s=s.set(new ot(o),!0)}),um(t,new Dy(r.path,s,n))}else return[]}function F0(t,e,n){return um(t,new Tl(qI(),e,n))}function mbe(t,e,n){const r=gt.fromObject(n);return um(t,new ep(qI(),e,r))}function gbe(t,e){return um(t,new Jf(qI(),e))}function vbe(t,e,n){const r=JI(t,n);if(r){const i=ek(r),s=i.path,o=i.queryId,a=lr(s,e),l=new Jf(GI(o),a);return tk(t,s,l)}else return[]}function WE(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||Z3(o,e))){const l=ube(o,e,n,r);abe(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>ta(f));if(u&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=bbe(h);for(let p=0;p<f.length;++p){const m=f[p],b=m.query,y=nU(t,m);t.listenProvider_.startListening(qh(b),jy(t,b),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(qh(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(V0(h));t.listenProvider_.stopListening(qh(h),f)}))}wbe(t,c)}return a}function ybe(t,e,n,r){const i=JI(t,r);if(i!=null){const s=ek(i),o=s.path,a=s.queryId,l=lr(o,e),c=new Tl(GI(a),l,n);return tk(t,o,c)}else return[]}function _be(t,e,n,r){const i=JI(t,r);if(i){const s=ek(i),o=s.path,a=s.queryId,l=lr(o,e),c=gt.fromObject(n),u=new ep(GI(a),l,c);return tk(t,o,u)}else return[]}function oD(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=lr(h,i);s=s||du(f,p),o=o||ta(f)});let a=t.syncPointTree_.get(i);a?(o=o||ta(a),s=s||du(a,Je())):(a=new ibe,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=he.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const m=du(p,Je());m&&(s=s.updateImmediateChild(f,m))}));const c=Z3(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=V0(e);V(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=Sbe();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=KI(t.pendingWriteTree_,i);let d=cbe(a,e,n,u,s,l);if(!c&&!o&&!r){const h=X3(a,e);d=d.concat(Ebe(t,e,h))}return d}function J3(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=lr(o,e),c=du(a,l);if(c)return c});return W3(i,e,s,n,!0)}function um(t,e){return eU(e,t.syncPointTree_,null,KI(t.pendingWriteTree_,Je()))}function eU(t,e,n,r){if(Oe(t.path))return tU(t,e,n,r);{const i=e.get(Je());n==null&&i!=null&&(n=du(i,Je()));let s=[];const o=Ne(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=H3(r,o);s=s.concat(eU(a,l,c,u))}return i&&(s=s.concat(ZI(i,t,r,n))),s}}function tU(t,e,n,r){const i=e.get(Je());n==null&&i!=null&&(n=du(i,Je()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=H3(r,o),u=t.operationForChild(o);u&&(s=s.concat(tU(u,a,l,c)))}),i&&(s=s.concat(ZI(i,t,r,n))),s}function nU(t,e){const n=e.query,r=jy(t,n);return{hashFn:()=>(ebe(e)||he.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?vbe(t,n._path,r):gbe(t,n._path);{const s=g_e(i,n);return WE(t,n,null,s)}}}}function jy(t,e){const n=V0(e);return t.queryToTagMap.get(n)}function V0(t){return t._path.toString()+"$"+t._queryIdentifier}function JI(t,e){return t.tagToQueryMap.get(e)}function ek(t){const e=t.indexOf("$");return V(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ot(t.substr(0,e))}}function tk(t,e,n){const r=t.syncPointTree_.get(e);V(r,"Missing sync point for query tag that we're tracking");const i=KI(t.pendingWriteTree_,e);return ZI(r,n,i,null)}function bbe(t){return t.fold((e,n,r)=>{if(n&&ta(n))return[L0(n)];{let i=[];return n&&(i=Q3(n)),vr(r,(s,o)=>{i=i.concat(o)}),i}})}function qh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hbe())(t._repo,t._path):t}function wbe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=V0(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Sbe(){return fbe++}function Ebe(t,e,n){const r=e._path,i=jy(t,e),s=nU(t,n),o=t.listenProvider_.startListening(qh(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)V(!ta(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Oe(c)&&u&&ta(u))return[L0(u).query];{let h=[];return u&&(h=h.concat(Q3(u).map(f=>f.query))),vr(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(qh(u),jy(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new nk(n)}node(){return this.node_}}class rk{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=en(this.path_,e);return new rk(this.syncTree_,n)}node(){return J3(this.syncTree_,this.path_)}}const Tbe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},aD=function(t,e,n){if(!t||typeof t!="object")return t;if(V(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Cbe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return xbe(t[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Cbe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:V(!1,"Unexpected server value: "+t)}},xbe=function(t,e,n){t.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&V(!1,"Unexpected increment value: "+r);const i=e.node();if(V(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Ibe=function(t,e,n,r){return ik(e,new rk(n,t),r)},kbe=function(t,e,n){return ik(t,new nk(e),n)};function ik(t,e,n){const r=t.getPriority().val(),i=aD(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=aD(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new an(a,Dn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new an(i))),o.forEachChild(Dt,(a,l)=>{const c=ik(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ok(t,e){let n=e instanceof ot?e:new ot(e),r=t,i=Ne(n);for(;i!==null;){const s=Ru(r.node.children,i)||{children:{},childCount:0};r=new sk(i,r,s),n=ct(n),i=Ne(n)}return r}function wd(t){return t.node.value}function rU(t,e){t.node.value=e,HE(t)}function iU(t){return t.node.childCount>0}function Abe(t){return wd(t)===void 0&&!iU(t)}function j0(t,e){vr(t.node.children,(n,r)=>{e(new sk(n,t,r))})}function sU(t,e,n,r){n&&!r&&e(t),j0(t,i=>{sU(i,e,!0,r)}),n&&r&&e(t)}function Pbe(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function dm(t){return new ot(t.parent===null?t.name:dm(t.parent)+"/"+t.name)}function HE(t){t.parent!==null&&Rbe(t.parent,t.name,t)}function Rbe(t,e,n){const r=Abe(n),i=Zs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,HE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,HE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nbe=/[\[\].#$\/\u0000-\u001F\u007F]/,Obe=/[\[\].#$\u0000-\u001F\u007F]/,Zw=10*1024*1024,oU=function(t){return typeof t=="string"&&t.length!==0&&!Nbe.test(t)},aU=function(t){return typeof t=="string"&&t.length!==0&&!Obe.test(t)},Dbe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),aU(t)},lU=function(t,e,n){const r=n instanceof ot?new Q_e(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ka(r));if(typeof e=="function")throw new Error(t+"contains a function "+ka(r)+" with contents = "+e.toString());if(c3(e))throw new Error(t+"contains "+e.toString()+" "+ka(r));if(typeof e=="string"&&e.length>Zw/3&&J_(e)>Zw)throw new Error(t+"contains a string greater than "+Zw+" utf8 bytes "+ka(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(vr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!oU(o)))throw new Error(t+" contains an invalid key ("+o+") "+ka(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);X_e(r,o),lU(t,a,r),Z_e(r)}),i&&s)throw new Error(t+' contains ".value" child '+ka(r)+" in addition to actual children.")}},cU=function(t,e,n,r){if(!(r&&n===void 0)&&!aU(n))throw new Error(tB(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Mbe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cU(t,e,n,r)},$be=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!oU(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Dbe(n))throw new Error(tB(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lbe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function uU(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!BI(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function dU(t,e,n){uU(t,n),hU(t,r=>BI(r,e))}function Wl(t,e,n){uU(t,n),hU(t,r=>hi(r,e)||hi(e,r))}function hU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Fbe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Fbe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();rl&&On("event: "+n.toString()),lm(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vbe="repo_interrupt",jbe=25;class Bbe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lbe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oy(),this.transactionQueueTree_=new sk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zbe(t,e,n){if(t.stats_=VI(t.repoInfo_),t.forceRestClient_||b_e())t.server_=new Ny(t.repoInfo_,(r,i,s,o)=>{lD(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>cD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ds(t.repoInfo_,e,(r,i,s,o)=>{lD(t,r,i,s,o)},r=>{cD(t,r)},r=>{Wbe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=x_e(t.repoInfo_,()=>new T0e(t.stats_,t.server_)),t.infoData_=new _0e,t.infoSyncTree_=new sD({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=F0(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),ak(t,"connected",!1),t.serverSyncTree_=new sD({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Wl(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Ube(t){const n=t.infoData_.getNode(new ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fU(t){return Tbe({timestamp:Ube(t)})}function lD(t,e,n,r,i){t.dataUpdateCount++;const s=new ot(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=ly(n,c=>Dn(c));o=_be(t.serverSyncTree_,s,l,i)}else{const l=Dn(n);o=ybe(t.serverSyncTree_,s,l,i)}else if(r){const l=ly(n,c=>Dn(c));o=mbe(t.serverSyncTree_,s,l)}else{const l=Dn(n);o=F0(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ck(t,s)),Wl(t.eventQueue_,a,o)}function cD(t,e){ak(t,"connected",e),e===!1&&qbe(t)}function Wbe(t,e){vr(e,(n,r)=>{ak(t,n,r)})}function ak(t,e,n){const r=new ot("/.info/"+e),i=Dn(n);t.infoData_.updateSnapshot(r,i);const s=F0(t.infoSyncTree_,r,i);Wl(t.eventQueue_,r,s)}function Hbe(t){return t.nextWriteId_++}function qbe(t){pU(t,"onDisconnectEvents");const e=fU(t),n=Oy();FE(t.onDisconnect_,Je(),(i,s)=>{const o=Ibe(i,s,t.serverSyncTree_,e);V3(n,i,o)});let r=[];FE(n,Je(),(i,s)=>{r=r.concat(F0(t.serverSyncTree_,i,s));const o=Xbe(t,i);ck(t,o)}),t.onDisconnect_=Oy(),Wl(t.eventQueue_,Je(),r)}function Gbe(t,e,n){let r;Ne(e._path)===".info"?r=oD(t.infoSyncTree_,e,n):r=oD(t.serverSyncTree_,e,n),dU(t.eventQueue_,e._path,r)}function uD(t,e,n){let r;Ne(e._path)===".info"?r=WE(t.infoSyncTree_,e,n):r=WE(t.serverSyncTree_,e,n),dU(t.eventQueue_,e._path,r)}function Kbe(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Vbe)}function pU(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),On(n,...e)}function mU(t,e,n){return J3(t.serverSyncTree_,e,n)||he.EMPTY_NODE}function lk(t,e=t.transactionQueueTree_){if(e||B0(t,e),wd(e)){const n=vU(t,e);V(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Ybe(t,dm(e),n)}else iU(e)&&j0(e,n=>{lk(t,n)})}function Ybe(t,e,n){const r=n.map(c=>c.currentWriteId),i=mU(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];V(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=lr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{pU(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(zc(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();B0(t,ok(t.transactionQueueTree_,e)),lk(t,t.transactionQueueTree_),Wl(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)lm(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ar("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ck(t,e)}},o)}function ck(t,e){const n=gU(t,e),r=dm(n),i=vU(t,n);return Qbe(t,i,r),r}function Qbe(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=lr(n,l.path);let u=!1,d;if(V(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(zc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=jbe)u=!0,d="maxretry",i=i.concat(zc(t.serverSyncTree_,l.currentWriteId,!0));else{const h=mU(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){lU("transaction failed: Data returned ",f,l.path);let p=Dn(f);typeof f=="object"&&f!=null&&Zs(f,".priority")||(p=p.updatePriority(h.getPriority()));const b=l.currentWriteId,y=fU(t),v=kbe(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Hbe(t),o.splice(o.indexOf(b),1),i=i.concat(pbe(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(zc(t.serverSyncTree_,b,!0))}else u=!0,d="nodata",i=i.concat(zc(t.serverSyncTree_,l.currentWriteId,!0))}Wl(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}B0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)lm(r[a]);lk(t,t.transactionQueueTree_)}function gU(t,e){let n,r=t.transactionQueueTree_;for(n=Ne(e);n!==null&&wd(r)===void 0;)r=ok(r,n),e=ct(e),n=Ne(e);return r}function vU(t,e){const n=[];return yU(t,e,n),n.sort((r,i)=>r.order-i.order),n}function yU(t,e,n){const r=wd(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);j0(e,i=>{yU(t,i,n)})}function B0(t,e){const n=wd(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,rU(e,n.length>0?n:void 0)}j0(e,r=>{B0(t,r)})}function Xbe(t,e){const n=dm(gU(t,e)),r=ok(t.transactionQueueTree_,e);return Pbe(r,i=>{Jw(t,i)}),Jw(t,r),sU(r,i=>{Jw(t,i)}),n}function Jw(t,e){const n=wd(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(V(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(V(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(zc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?rU(e,void 0):n.length=s+1,Wl(t.eventQueue_,dm(e),i);for(let o=0;o<r.length;o++)lm(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zbe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Jbe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ar(`Invalid query segment '${n}' in query '${t}'`)}return e}const dD=function(t,e){const n=ewe(t),r=n.namespace;n.domain==="firebase.com"&&Sl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Sl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||d_e();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new E_e(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ot(n.pathString)}},ewe=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Zbe(t.substring(u,d)));const h=Jbe(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dn(this.snapshot.exportVal())}}class bU{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class twe{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Oe(this._path)?null:A3(this._path)}get ref(){return new eo(this._repo,this._path)}get _queryIdentifier(){const e=K2(this._queryParams),n=LI(e);return n==="{}"?"default":n}get _queryObject(){return K2(this._queryParams)}isEqual(e){if(e=zt(e),!(e instanceof uk))return!1;const n=this._repo===e._repo,r=BI(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Y_e(this._path)}}class eo extends uk{constructor(e,n){super(e,n,new HI,!1)}get parent(){const e=R3(this._path);return e===null?null:new eo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class tp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ot(e),r=qE(this.ref,e);return new tp(this._node.getChild(n),r,Dt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new tp(i,qE(this.ref,r),Dt)))}hasChild(e){const n=new ot(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qE(t,e){return t=zt(t),Ne(t._path)===null?Mbe("child","path",e,!1):cU("child","path",e,!1),new eo(t._repo,en(t._path,e))}class dk{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new _U("value",this,new tp(e.snapshotNode,new eo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new bU(this,e,n):null}matches(e){return e instanceof dk?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class hk{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new bU(this,e,n):null}createEvent(e,n){V(e.childName!=null,"Child events should have a childName.");const r=qE(new eo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new _U(e.type,this,new tp(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof hk?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function hm(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{uD(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new twe(n,s||void 0),a=e==="value"?new dk(o):new hk(e,o);return Gbe(t._repo,t,a),()=>uD(t._repo,t,a)}function nwe(t,e,n,r){return hm(t,"value",e,n,r)}function rwe(t,e,n,r){return hm(t,"child_added",e,n,r)}function iwe(t,e,n,r){return hm(t,"child_changed",e,n,r)}function swe(t,e,n,r){return hm(t,"child_moved",e,n,r)}function owe(t,e,n,r){return hm(t,"child_removed",e,n,r)}sbe(eo);dbe(eo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const awe="FIREBASE_DATABASE_EMULATOR_HOST",GE={};let lwe=!1;function cwe(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Sl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),On("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=dD(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[awe]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=dD(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new ME(ME.OWNER):new S_e(t.name,t.options,e);$be("Invalid Firebase Database URL",o),Oe(o.path)||Sl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=dwe(a,t,u,new w_e(t.name,n));return new hwe(d,t)}function uwe(t,e){const n=GE[e];(!n||n[t.key]!==t)&&Sl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Kbe(t),delete n[t.key]}function dwe(t,e,n,r){let i=GE[e.name];i||(i={},GE[e.name]=i);let s=i[t.toURLString()];return s&&Sl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Bbe(t,lwe,n,r),i[t.toURLString()]=s,s}class hwe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zbe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new eo(this._repo,Je())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uwe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Sl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fwe(t){o_e(Js),ri(new Dr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return cwe(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Qt(R2,N2,t),Qt(R2,N2,"esm2017")}Ds.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ds.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};fwe();var pwe="firebase",mwe="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt(pwe,mwe,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gwe="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vwe{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="us-central1";class ywe{constructor(e,n,r,i,s=hD,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new vwe(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=hD}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const fD="@firebase/functions",pD="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _we="auth-internal",bwe="app-check-internal",wwe="messaging-internal";function Swe(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(_we),a=r.getProvider(wwe),l=r.getProvider(bwe);return new ywe(s,o,a,l,i,t)};ri(new Dr(gwe,n,"PUBLIC").setMultipleInstances(!0)),Qt(fD,pD,e),Qt(fD,pD,"esm2017")}Swe(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="firebasestorage.googleapis.com",Ewe="storageBucket",Twe=2*60*1e3,Cwe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends ii{constructor(e,n,r=0){super(eS(e),`Firebase Storage: ${n} (${eS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ds.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var os;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(os||(os={}));function eS(t){return"storage/"+t}function xwe(){const t="An unknown error occurred, please check the error payload for server response.";return new ds(os.UNKNOWN,t)}function Iwe(){return new ds(os.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kwe(){return new ds(os.CANCELED,"User canceled the upload/download.")}function Awe(t){return new ds(os.INVALID_URL,"Invalid URL '"+t+"'.")}function Pwe(t){return new ds(os.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mD(t){return new ds(os.INVALID_ARGUMENT,t)}function SU(){return new ds(os.APP_DELETED,"The Firebase app was deleted.")}function Rwe(t){return new ds(os.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=pi.makeFromUrl(e,n)}catch{return new pi(e,"")}if(r.path==="")return r;throw Pwe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===wU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${b}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<w.length;S++){const C=w[S],x=C.regex.exec(e);if(x){const T=x[C.indices.bucket];let A=x[C.indices.path];A||(A=""),r=new pi(T,A),C.postModify(r);break}}if(r==null)throw Awe(e);return r}}class Nwe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Owe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(f,l())},b)}function h(){s&&clearTimeout(s)}function f(b,...y){if(c){h();return}if(b){h(),u.call(null,b,...y);return}if(l()||o){h(),u.call(null,b,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let p=!1;function m(b){p||(p=!0,h(),!c&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function Dwe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mwe(t){return t!==void 0}function gD(t,e,n,r){if(r<e)throw mD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mD(`Invalid value for '${t}'. Expected ${n} or less.`)}function $we(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var By;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(By||(By={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lwe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fwe{constructor(e,n,r,i,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new bg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===By.NO_ERROR,l=s.getStatus();if(!a||Lwe(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===By.ABORT;r(!1,new bg(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new bg(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Mwe(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=xwe();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?SU():kwe();o(l)}else{const l=Iwe();o(l)}};this.canceled_?n(!1,new bg(!1,null,!0)):this.backoffId_=Owe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Dwe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Vwe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jwe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Bwe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zwe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Uwe(t,e,n,r,i,s,o=!0){const a=$we(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Bwe(c,e),Vwe(c,n),jwe(c,s),zwe(c,r),new Fwe(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wwe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Hwe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this._service=e,n instanceof pi?this._location=n:this._location=pi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zy(e,n)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hwe(this._location.path)}get storage(){return this._service}get parent(){const e=Wwe(this._location.path);if(e===null)return null;const n=new pi(this._location.bucket,e);return new zy(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Rwe(e)}}function vD(t,e){const n=e==null?void 0:e[Ewe];return n==null?null:pi.makeFromBucketSpec(n,t)}class qwe{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=wU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Twe,this._maxUploadRetryTime=Cwe,this._requests=new Set,i!=null?this._bucket=pi.makeFromBucketSpec(i,this._host):this._bucket=vD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=vD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zy(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Nwe(SU());{const o=Uwe(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const yD="@firebase/storage",_D="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gwe="storage";function Kwe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qwe(n,r,i,e,Js)}function Ywe(){ri(new Dr(Gwe,Kwe,"PUBLIC").setMultipleInstances(!0)),Qt(yD,_D,""),Qt(yD,_D,"esm2017")}Ywe();const Qwe=(t,e)=>e.some(n=>t instanceof n);let bD,wD;function Xwe(){return bD||(bD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zwe(){return wD||(wD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EU=new WeakMap,KE=new WeakMap,TU=new WeakMap,tS=new WeakMap,fk=new WeakMap;function Jwe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Uo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EU.set(n,t)}).catch(()=>{}),fk.set(e,t),e}function eSe(t){if(KE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});KE.set(t,e)}let YE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return KE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tSe(t){YE=t(YE)}function nSe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nS(this),e,...n);return TU.set(r,e.sort?e.sort():[e]),Uo(r)}:Zwe().includes(t)?function(...e){return t.apply(nS(this),e),Uo(EU.get(this))}:function(...e){return Uo(t.apply(nS(this),e))}}function rSe(t){return typeof t=="function"?nSe(t):(t instanceof IDBTransaction&&eSe(t),Qwe(t,Xwe())?new Proxy(t,YE):t)}function Uo(t){if(t instanceof IDBRequest)return Jwe(t);if(tS.has(t))return tS.get(t);const e=rSe(t);return e!==t&&(tS.set(t,e),fk.set(e,t)),e}const nS=t=>fk.get(t);function iSe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Uo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Uo(o.result),l.oldVersion,l.newVersion,Uo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const sSe=["get","getKey","getAll","getAllKeys","count"],oSe=["put","add","delete","clear"],rS=new Map;function SD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rS.get(e))return rS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oSe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sSe.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return rS.set(e,s),s}tSe(t=>({...t,get:(e,n,r)=>SD(e,n)||t.get(e,n,r),has:(e,n)=>!!SD(e,n)||t.has(e,n)}));const CU="@firebase/installations",pk="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=1e4,IU=`w:${pk}`,kU="FIS_v2",aSe="https://firebaseinstallations.googleapis.com/v1",lSe=60*60*1e3,cSe="installations",uSe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dSe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Il=new Vl(cSe,uSe,dSe);function AU(t){return t instanceof ii&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU({projectId:t}){return`${aSe}/projects/${t}/installations`}function RU(t){return{token:t.token,requestStatus:2,expiresIn:fSe(t.expiresIn),creationTime:Date.now()}}async function NU(t,e){const r=(await e.json()).error;return Il.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function OU({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hSe(t,{refreshToken:e}){const n=OU(t);return n.append("Authorization",pSe(e)),n}async function DU(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fSe(t){return Number(t.replace("s","000"))}function pSe(t){return`${kU} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mSe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=PU(t),i=OU(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:kU,appId:t.appId,sdkVersion:IU},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await DU(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:RU(c.authToken)}}else throw await NU("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gSe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vSe=/^[cdef][\w-]{21}$/,QE="";function ySe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_Se(t);return vSe.test(n)?n:QE}catch{return QE}}function _Se(t){return gSe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=new Map;function LU(t,e){const n=z0(t);FU(n,e),bSe(n,e)}function FU(t,e){const n=$U.get(t);if(n)for(const r of n)r(e)}function bSe(t,e){const n=wSe();n&&n.postMessage({key:t,fid:e}),SSe()}let Ua=null;function wSe(){return!Ua&&"BroadcastChannel"in self&&(Ua=new BroadcastChannel("[Firebase] FID Change"),Ua.onmessage=t=>{FU(t.data.key,t.data.fid)}),Ua}function SSe(){$U.size===0&&Ua&&(Ua.close(),Ua=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ESe="firebase-installations-database",TSe=1,kl="firebase-installations-store";let iS=null;function mk(){return iS||(iS=iSe(ESe,TSe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(kl)}}})),iS}async function Uy(t,e){const n=z0(t),i=(await mk()).transaction(kl,"readwrite"),s=i.objectStore(kl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&LU(t,e.fid),e}async function VU(t){const e=z0(t),r=(await mk()).transaction(kl,"readwrite");await r.objectStore(kl).delete(e),await r.done}async function U0(t,e){const n=z0(t),i=(await mk()).transaction(kl,"readwrite"),s=i.objectStore(kl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&LU(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t){let e;const n=await U0(t.appConfig,r=>{const i=CSe(r),s=xSe(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===QE?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function CSe(t){const e=t||{fid:ySe(),registrationStatus:0};return jU(e)}function xSe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Il.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ISe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kSe(t)}:{installationEntry:e}}async function ISe(t,e){try{const n=await mSe(t,e);return Uy(t.appConfig,n)}catch(n){throw AU(n)&&n.customData.serverCode===409?await VU(t.appConfig):await Uy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kSe(t){let e=await ED(t.appConfig);for(;e.registrationStatus===1;)await MU(100),e=await ED(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await gk(t);return r||n}return e}function ED(t){return U0(t,e=>{if(!e)throw Il.create("installation-not-found");return jU(e)})}function jU(t){return ASe(t)?{fid:t.fid,registrationStatus:0}:t}function ASe(t){return t.registrationStatus===1&&t.registrationTime+xU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PSe({appConfig:t,heartbeatServiceProvider:e},n){const r=RSe(t,n),i=hSe(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:IU,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await DU(()=>fetch(r,a));if(l.ok){const c=await l.json();return RU(c)}else throw await NU("Generate Auth Token",l)}function RSe(t,{fid:e}){return`${PU(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(t,e=!1){let n;const r=await U0(t.appConfig,s=>{if(!BU(s))throw Il.create("not-registered");const o=s.authToken;if(!e&&DSe(o))return s;if(o.requestStatus===1)return n=NSe(t,e),s;{if(!navigator.onLine)throw Il.create("app-offline");const a=$Se(s);return n=OSe(t,a),a}});return n?await n:r.authToken}async function NSe(t,e){let n=await TD(t.appConfig);for(;n.authToken.requestStatus===1;)await MU(100),n=await TD(t.appConfig);const r=n.authToken;return r.requestStatus===0?vk(t,e):r}function TD(t){return U0(t,e=>{if(!BU(e))throw Il.create("not-registered");const n=e.authToken;return LSe(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function OSe(t,e){try{const n=await PSe(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Uy(t.appConfig,r),n}catch(n){if(AU(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await VU(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Uy(t.appConfig,r)}throw n}}function BU(t){return t!==void 0&&t.registrationStatus===2}function DSe(t){return t.requestStatus===2&&!MSe(t)}function MSe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+lSe}function $Se(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function LSe(t){return t.requestStatus===1&&t.requestTime+xU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FSe(t){const e=t,{installationEntry:n,registrationPromise:r}=await gk(e);return r?r.catch(console.error):vk(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VSe(t,e=!1){const n=t;return await jSe(n),(await vk(n,e)).token}async function jSe(t){const{registrationPromise:e}=await gk(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BSe(t){if(!t||!t.options)throw sS("App Configuration");if(!t.name)throw sS("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw sS(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function sS(t){return Il.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="installations",zSe="installations-internal",USe=t=>{const e=t.getProvider("app").getImmediate(),n=BSe(e),r=Vp(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},WSe=t=>{const e=t.getProvider("app").getImmediate(),n=Vp(e,zU).getImmediate();return{getId:()=>FSe(n),getToken:i=>VSe(n,i)}};function HSe(){ri(new Dr(zU,USe,"PUBLIC")),ri(new Dr(zSe,WSe,"PRIVATE"))}HSe();Qt(CU,pk);Qt(CU,pk,"esm2017");const oS="@firebase/remote-config",CD="0.4.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qSe="remote-config";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GSe={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},or=new Vl("remoteconfig","Remote Config",GSe);function KSe(t){const e=zt(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YSe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}async fetch(e){const[n,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=await this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),await Promise.all(s),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QSe(t=navigator){return t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XSe{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}async fetch(e){const[n,r]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:QSe()},l={method:"POST",headers:o,body:JSON.stringify(a)},c=fetch(s,l),u=new Promise((b,y)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",y(v)})});let d;try{await Promise.race([c,u]),d=await c}catch(b){let y="fetch-client-network";throw(b==null?void 0:b.name)==="AbortError"&&(y="fetch-timeout"),or.create(y,{originalErrorMessage:b==null?void 0:b.message})}let h=d.status;const f=d.headers.get("ETag")||void 0;let p,m;if(d.status===200){let b;try{b=await d.json()}catch(y){throw or.create("fetch-client-parse",{originalErrorMessage:y==null?void 0:y.message})}p=b.entries,m=b.state}if(m==="INSTANCE_STATE_UNSPECIFIED"?h=500:m==="NO_CHANGE"?h=304:(m==="NO_TEMPLATE"||m==="EMPTY_CONFIG")&&(p={}),h!==304&&h!==200)throw or.create("fetch-status",{httpStatus:h});return{status:h,eTag:f,config:p}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZSe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(or.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function JSe(t){if(!(t instanceof ii)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class e1e{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){await ZSe(e.signal,n);try{const i=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),i}catch(i){if(!JSe(i))throw i;const s={throttleEndTimeMillis:Date.now()+Wde(r),backoffCount:r+1};return await this.storage.setThrottleMetadata(s),this.attemptFetch(e,s)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1e=60*1e3,n1e=12*60*60*1e3;class r1e{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:t1e,minimumFetchIntervalMillis:n1e},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t,e){const n=t.target.error||void 0;return or.create(e,{originalErrorMessage:n&&(n==null?void 0:n.message)})}const Aa="app_namespace_store",i1e="firebase_remote_config",s1e=1;function o1e(){return new Promise((t,e)=>{try{const n=indexedDB.open(i1e,s1e);n.onerror=r=>{e(uv(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Aa,{keyPath:"compositeKey"})}}}catch(n){e(or.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}})}class a1e{constructor(e,n,r,i=o1e()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const n=await this.openDbPromise;return new Promise((r,i)=>{const o=n.transaction([Aa],"readonly").objectStore(Aa),a=this.createCompositeKey(e);try{const l=o.get(a);l.onerror=c=>{i(uv(c,"storage-get"))},l.onsuccess=c=>{const u=c.target.result;r(u?u.value:void 0)}}catch(l){i(or.create("storage-get",{originalErrorMessage:l==null?void 0:l.message}))}})}async set(e,n){const r=await this.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Aa],"readwrite").objectStore(Aa),l=this.createCompositeKey(e);try{const c=a.put({compositeKey:l,value:n});c.onerror=u=>{s(uv(u,"storage-set"))},c.onsuccess=()=>{i()}}catch(c){s(or.create("storage-set",{originalErrorMessage:c==null?void 0:c.message}))}})}async delete(e){const n=await this.openDbPromise;return new Promise((r,i)=>{const o=n.transaction([Aa],"readwrite").objectStore(Aa),a=this.createCompositeKey(e);try{const l=o.delete(a);l.onerror=c=>{i(uv(c,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){i(or.create("storage-delete",{originalErrorMessage:l==null?void 0:l.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=await e;i&&(this.lastFetchStatus=i);const s=await n;s&&(this.lastSuccessfulFetchTimestampMillis=s);const o=await r;o&&(this.activeConfig=o)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1e(){ri(new Dr(qSe,t,"PUBLIC").setMultipleInstances(!0)),Qt(oS,CD),Qt(oS,CD,"esm2017");function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw or.create("registration-window");if(!J4())throw or.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw or.create("registration-project-id");if(!o)throw or.create("registration-api-key");if(!a)throw or.create("registration-app-id");n=n||"firebase";const l=new a1e(a,r.name,n),c=new l1e(l),u=new Fp(oS);u.logLevel=Re.ERROR;const d=new XSe(i,Js,n,s,o,a),h=new e1e(d,l),f=new YSe(h,l,c,u),p=new r1e(r,f,c,l,u);return KSe(p),p}}c1e();var XE=function(t,e){return XE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},XE(t,e)};function to(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");XE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function u1e(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function UU(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Wu(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hu(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function qu(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function hu(t){return this instanceof hu?(this.v=t,this):new hu(t)}function d1e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{l(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){h.value instanceof hu?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function h1e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Wu=="function"?Wu(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function nn(t){return typeof t=="function"}function yk(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var aS=yk(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function Wy(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var fm=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Wu(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(nn(u))try{u()}catch(m){s=m instanceof aS?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=Wu(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{xD(p)}catch(m){s=s??[],m instanceof aS?s=qu(qu([],Hu(s)),Hu(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new aS(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)xD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Wy(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Wy(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),WU=fm.EMPTY;function HU(t){return t instanceof fm||t&&"closed"in t&&nn(t.remove)&&nn(t.add)&&nn(t.unsubscribe)}function xD(t){nn(t)?t():t.unsubscribe()}var qU={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},f1e={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,qu([t,e],Hu(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function GU(t){f1e.setTimeout(function(){throw t})}function ID(){}function dv(t){t()}var _k=function(t){to(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,HU(n)&&n.add(r)):r.destination=v1e,r}return e.create=function(n,r,i){return new np(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(fm),p1e=Function.prototype.bind;function lS(t,e){return p1e.call(t,e)}var m1e=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){wg(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){wg(r)}else wg(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){wg(n)}},t}(),np=function(t){to(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(nn(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&qU.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&lS(n.next,a),error:n.error&&lS(n.error,a),complete:n.complete&&lS(n.complete,a)}):o=n}return s.destination=new m1e(o),s}return e}(_k);function wg(t){GU(t)}function g1e(t){throw t}var v1e={closed:!0,next:ID,error:g1e,complete:ID},bk=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function KU(t){return t}function y1e(t){return t.length===0?KU:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var Xn=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=b1e(e)?e:new np(e,n,r);return dv(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=kD(n),new n(function(i,s){var o=new np({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[bk]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return y1e(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=kD(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function kD(t){var e;return(e=t??qU.Promise)!==null&&e!==void 0?e:Promise}function _1e(t){return t&&nn(t.next)&&nn(t.error)&&nn(t.complete)}function b1e(t){return t&&t instanceof _k||_1e(t)&&HU(t)}function w1e(t){return nn(t==null?void 0:t.lift)}function Hl(t){return function(e){if(w1e(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Gu(t,e,n,r,i){return new S1e(t,e,n,r,i)}var S1e=function(t){to(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(c){try{r(c)}catch(u){n.error(u)}}:t.prototype._next,l._error=s?function(c){try{s(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(_k),E1e=yk(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),W0=function(t){to(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new AD(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new E1e},e.prototype.next=function(n){var r=this;dv(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Wu(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;dv(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;dv(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?WU:(this.currentObservers=null,a.push(n),new fm(function(){r.currentObservers=null,Wy(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new Xn;return n.source=this,n},e.create=function(n,r){return new AD(n,r)},e}(Xn),AD=function(t){to(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:WU},e}(W0),wk={now:function(){return(wk.delegate||Date).now()},delegate:void 0},T1e=function(t){to(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=wk);var s=t.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!n.closed;l+=s?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),c=0,u=1;u<s.length&&s[u]<=l;u+=2)c=u;c&&s.splice(0,c+1)}},e}(W0),C1e=function(t){to(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(fm),ZE={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=ZE.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,qu([t,e],Hu(n))):setInterval.apply(void 0,qu([t,e],Hu(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},x1e=function(t){to(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),ZE.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;ZE.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Wy(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(C1e),PD=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=wk.now,t}(),I1e=function(t){to(e,t);function e(n,r){r===void 0&&(r=PD.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(PD);new I1e(x1e);var k1e=new Xn(function(t){return t.complete()});function A1e(t){return t?P1e(t):k1e}function P1e(t){return new Xn(function(e){return t.schedule(function(){return e.complete()})})}function R1e(t){return t&&nn(t.schedule)}function N1e(t){return t[t.length-1]}function O1e(t){return R1e(N1e(t))?t.pop():void 0}var YU=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function QU(t){return nn(t==null?void 0:t.then)}function XU(t){return nn(t[bk])}function ZU(t){return Symbol.asyncIterator&&nn(t==null?void 0:t[Symbol.asyncIterator])}function JU(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function D1e(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var e9=D1e();function t9(t){return nn(t==null?void 0:t[e9])}function n9(t){return d1e(this,arguments,function(){var e,n,r,i;return UU(this,function(s){switch(s.label){case 0:e=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,hu(e.read())];case 3:return n=s.sent(),r=n.value,i=n.done,i?[4,hu(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,hu(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function r9(t){return nn(t==null?void 0:t.getReader)}function Sd(t){if(t instanceof Xn)return t;if(t!=null){if(XU(t))return M1e(t);if(YU(t))return $1e(t);if(QU(t))return L1e(t);if(ZU(t))return i9(t);if(t9(t))return F1e(t);if(r9(t))return V1e(t)}throw JU(t)}function M1e(t){return new Xn(function(e){var n=t[bk]();if(nn(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $1e(t){return new Xn(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function L1e(t){return new Xn(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,GU)})}function F1e(t){return new Xn(function(e){var n,r;try{for(var i=Wu(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function i9(t){return new Xn(function(e){j1e(t,e).catch(function(n){return e.error(n)})})}function V1e(t){return i9(n9(t))}function j1e(t,e){var n,r,i,s;return u1e(this,void 0,void 0,function(){var o,a;return UU(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=h1e(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function il(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function s9(t,e){return e===void 0&&(e=0),Hl(function(n,r){n.subscribe(Gu(r,function(i){return il(r,t,function(){return r.next(i)},e)},function(){return il(r,t,function(){return r.complete()},e)},function(i){return il(r,t,function(){return r.error(i)},e)}))})}function o9(t,e){return e===void 0&&(e=0),Hl(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function B1e(t,e){return Sd(t).pipe(o9(e),s9(e))}function z1e(t,e){return Sd(t).pipe(o9(e),s9(e))}function U1e(t,e){return new Xn(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function W1e(t,e){return new Xn(function(n){var r;return il(n,e,function(){r=t[e9](),il(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return nn(r==null?void 0:r.return)&&r.return()}})}function a9(t,e){if(!t)throw new Error("Iterable cannot be null");return new Xn(function(n){il(n,e,function(){var r=t[Symbol.asyncIterator]();il(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function H1e(t,e){return a9(n9(t),e)}function q1e(t,e){if(t!=null){if(XU(t))return B1e(t,e);if(YU(t))return U1e(t,e);if(QU(t))return z1e(t,e);if(ZU(t))return a9(t,e);if(t9(t))return W1e(t,e);if(r9(t))return H1e(t,e)}throw JU(t)}function l9(t,e){return e?q1e(t,e):Sd(t)}function RD(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=O1e(t);return l9(t,n)}yk(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function H0(t,e){return Hl(function(n,r){var i=0;n.subscribe(Gu(r,function(s){r.next(t.call(e,s,i++))}))})}function c9(t){return Hl(function(e,n){var r=null,i=!1,s;r=e.subscribe(Gu(n,void 0,void 0,function(o){s=Sd(t(o,c9(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function G1e(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new W0}:e,r=t.resetOnError,i=r===void 0?!0:r,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,l=a===void 0?!0:a;return function(c){var u,d,h,f=0,p=!1,m=!1,b=function(){d==null||d.unsubscribe(),d=void 0},y=function(){b(),u=h=void 0,p=m=!1},v=function(){var w=u;y(),w==null||w.unsubscribe()};return Hl(function(w,S){f++,!m&&!p&&b();var C=h=h??n();S.add(function(){f--,f===0&&!m&&!p&&(d=cS(v,l))}),C.subscribe(S),!u&&f>0&&(u=new np({next:function(x){return C.next(x)},error:function(x){m=!0,b(),d=cS(y,i,x),C.error(x)},complete:function(){p=!0,b(),d=cS(y,o),C.complete()}}),Sd(w).subscribe(u))})(c)}}function cS(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new np({next:function(){i.unsubscribe(),t()}});return e.apply(void 0,qu([],Hu(n))).subscribe(i)}}function K1e(t,e,n){var r,i,s,o,a=!1;return t&&typeof t=="object"?(r=t.bufferSize,o=r===void 0?1/0:r,i=t.windowTime,e=i===void 0?1/0:i,s=t.refCount,a=s===void 0?!1:s,n=t.scheduler):o=t??1/0,G1e({connector:function(){return new T1e(o,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Y1e(t,e){return Hl(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(Gu(r,function(l){i==null||i.unsubscribe();var c=0,u=s++;Sd(t(l,u)).subscribe(i=Gu(r,function(d){return r.next(e?e(l,d,u,c++):d)},function(){i=null,a()}))},function(){o=!0,a()}))})}function Q1e(t,e,n){var r=nn(t)||e||n?{next:t,error:e,complete:n}:t;return r?Hl(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(Gu(s,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},function(){var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):KU}function u9(t){return new Xn(function(e){var n=qz(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}const X1e="[DEFAULT]",d9=g.createContext(void 0),h9=g.createContext(!1),Z1e="4.2.3",J1e=(t,e)=>t===e||[...Object.keys(t),...Object.keys(e)].every(n=>t[n]===e[n]);function eEe(t){const{firebaseConfig:e,appName:n,suspense:r}=t,i=g.useMemo(()=>{if(t.firebaseApp)return t.firebaseApp;const s=Bhe().find(o=>o.name===(n||X1e));if(s){if(e&&J1e(s.options,e))return s;throw new Error(`Does not match the options already provided to the ${n||"default"} firebase app instance, give this new instance a different appName.`)}else{if(!e)throw new Error("No firebaseConfig provided");const o=g.version||"unknown";return Qt("react",o),Qt("reactfire",Z1e),iB(e,n)}},[t.firebaseApp,e,n]);return g.createElement(d9.Provider,{value:i},g.createElement(h9.Provider,Object.assign({value:r??!1},t)))}function tEe(t){let e=g.useContext(h9);return t!==void 0?t:e}function f9(){const t=g.useContext(d9);if(!t)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return t}function nEe(t){const e=G0(),n=`auth:user:${e.name}`,r=u9(e);return q0(n,r,t)}function p9(t){if(t!=null&&t.hasOwnProperty("requiredClaims")&&(t!=null&&t.hasOwnProperty("validateCustomClaims")))throw new Error('Cannot have both "requiredClaims" and "validateCustomClaims". Use one or the other.');const e=G0();let n=`auth:signInCheck:${e.name}::forceRefresh:${!!(t!=null&&t.forceRefresh)}`;t!=null&&t.forceRefresh&&(n=`${n}:forceRefresh:${t.forceRefresh}`),t!=null&&t.hasOwnProperty("requiredClaims")?n=`${n}:requiredClaims:${JSON.stringify(t.requiredClaims)}`:t!=null&&t.hasOwnProperty("validateCustomClaims")&&(n=`${n}:validateCustomClaims:${JSON.stringify(t.validateCustomClaims)}`);const r=u9(e).pipe(Y1e(i=>{var s;return i?t&&(t.hasOwnProperty("requiredClaims")||t.hasOwnProperty("validateCustomClaims"))?l9(i.getIdTokenResult((s=t==null?void 0:t.forceRefresh)!==null&&s!==void 0?s:!1)).pipe(H0(o=>{let a;t.hasOwnProperty("requiredClaims")?a=rEe(t.requiredClaims):a=t.validateCustomClaims;const{hasRequiredClaims:l,errors:c}=a(o.claims);return{signedIn:!0,hasRequiredClaims:l,errors:c,user:i}})):RD({signedIn:!0,hasRequiredClaims:!0,errors:{},user:i}):RD({signedIn:!1,hasRequiredClaims:!1,errors:{},user:null})}));return q0(n,r)}function rEe(t){return function(e){const n={};return Object.keys(t).forEach(r=>{t[r]!==e[r]&&(n[r]=[new Sk("auth/missing-claim",`Expected "${t[r]}", but user has "${e[r]}" instead`)])}),{hasRequiredClaims:Object.keys(n).length===0,errors:n}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa,Oa;(function(t){t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value"})(Oa||(Oa={}));Object.freeze((wa={},wa[Oa.added]=rwe,wa[Oa.removed]=owe,wa[Oa.changed]=iwe,wa[Oa.moved]=swe,wa[Oa.value]=nwe,wa));const iEe=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=iEe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sEe={includeMetadataChanges:!1};function m9(t,e){return e===void 0&&(e=sEe),new Xn(function(n){var r=sve(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oEe(t){return m9(t,{includeMetadataChanges:!0})}function aEe(t,e){return e===void 0&&(e={}),oEe(t).pipe(H0(function(n){return g9(n,e)}))}function g9(t,e){e===void 0&&(e={});var n=t.data();return!t.exists()||typeof n!="object"||n===null||e.idField&&(n[e.idField]=t.id),n}function lEe(t){return m9(t,{includeMetadataChanges:!0}).pipe(H0(function(e){return e.docs}))}function cEe(t,e){return e===void 0&&(e={}),lEe(t).pipe(H0(function(n){return n.map(function(r){return g9(r,e)})}))}class uEe extends W0{constructor(e,n){super(),this._timeoutWindow=n,this._hasValue=!1,this._error=void 0,this._firstEmission=new Promise(r=>this._resolveFirstEmission=r),this._innerObservable=e.pipe(Q1e({next:r=>{this._next(r)},error:r=>{this._error=r,this._resolveFirstEmission()}}),c9(()=>A1e()),K1e(1)),this._warmupSubscription=this._innerObservable.subscribe(),this._timeoutHandler=setTimeout(this._reset.bind(this),this._timeoutWindow)}get hasValue(){return this._hasValue||!!this._error}get value(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}get firstEmission(){return this._firstEmission}_next(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()}_reset(){this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise(e=>this._resolveFirstEmission=e)}_subscribe(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber}get ourError(){return this._error}}const dEe=3e4,hv=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=hv);function hEe(t,e){if(hv.has(e))return hv.get(e);{const n=new uEe(t,dEe);return hv.set(e,n),n}}function fEe(t){return function(e,n){const r=Object.assign(Object.assign({},e),{hasEmitted:e.hasEmitted||t.hasValue,error:t.ourError,firstValuePromise:t.firstEmission});switch(t.hasValue&&(r.data=t.value),n){case"value":return r.status="success",r;case"error":return r.status="error",r;case"complete":return r.isComplete=!0,r;default:throw new Error(`invalid action "${n}"`)}}}function q0(t,e,n={}){var r;if(!t)throw new Error("cannot call useObservable without an observableId");const i=hEe(e,t),s=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),o=i.hasValue||s;if(tEe(n.suspense)===!0&&!o)throw i.firstEmission;const a={status:o?"success":"loading",hasEmitted:o,isComplete:!1,data:i.hasValue?i.value:(r=n==null?void 0:n.initialData)!==null&&r!==void 0?r:n==null?void 0:n.startWithValue,error:i.ourError,firstValuePromise:i.firstEmission},[l,c]=g.useReducer(fEe(i),a);return g.useEffect(()=>{const u=i.subscribe({next:()=>{c("value")},error:d=>{throw c("error"),d},complete:()=>{c("complete")}});return()=>u.unsubscribe()},[i]),l}const JE=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=JE);function pEe(t){const e=JE.findIndex(n=>Bge(n,t));return e>-1?e:JE.push(t)-1}function mEe(t,e){const n=e?S9(e):"NO_ID_FIELD",r=`firestore:docData:${t.firestore.app.name}:${t.path}:idField=${n}`,i=aEe(t,{idField:n});return q0(r,i,e)}function gEe(t,e){const n=e?S9(e):"NO_ID_FIELD",r=`firestore:collectionData:${pEe(t)}:idField=${n}`,i=cEe(t,{idField:n});return q0(r,i,e)}g.createContext(void 0);const v9=g.createContext(void 0);g.createContext(void 0);g.createContext(void 0);const y9=g.createContext(void 0);g.createContext(void 0);g.createContext(void 0);g.createContext(void 0);g.createContext(void 0);function _9(t){return function(e){var n,r;if(!e.sdk)throw new Error("no sdk provided");const i=f9().name;if(((r=(n=e==null?void 0:e.sdk)===null||n===void 0?void 0:n.app)===null||r===void 0?void 0:r.name)!==i)throw new Error("sdk was initialized with a different firebase app");return g.createElement(t.Provider,Object.assign({value:e.sdk},e))}}function b9(t){const e=g.useContext(t);if(!e)throw new Error("SDK not found. useSdk must be called from within a provider");return e}const vEe=_9(v9),yEe=_9(y9),G0=()=>b9(v9),w9=()=>b9(y9);class Sk extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="ReactFireError",Object.setPrototypeOf(this,Sk.prototype)}}function _Ee(t,e){if(e==="idField"||e==="initialData"||e==="suspense")return t?t[e]:void 0;throw new Error(`Field "${e}" is not a valid key in ReactFireOptions`)}function S9(t){return _Ee(t,"idField")}function es(t,{pathSegments:e=[],idField:n="id",orderBy:r,orderByDesc:i=!1}={}){const s=w9(),o=jge(s,t,...e),a=r?d2(o,Jge(r,i?"desc":"asc")):d2(o),l=gEe(a,{idField:n});return{...l,isLoading:l.status==="loading",col:o,add:c=>ive(o,c),remove:c=>Cz(_I(s,t,c[n]))}}var E9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ND=Cr.createContext&&Cr.createContext(E9),Wo=globalThis&&globalThis.__assign||function(){return Wo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wo.apply(this,arguments)},bEe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function T9(t){return t&&t.map(function(e,n){return Cr.createElement(e.tag,Wo({key:n},e.attr),T9(e.child))})}function pm(t){return function(e){return Cr.createElement(wEe,Wo({attr:Wo({},t.attr)},e),T9(t.child))}}function wEe(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=bEe(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Cr.createElement("svg",Wo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Wo(Wo({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Cr.createElement("title",null,s),t.children)};return ND!==void 0?Cr.createElement(ND.Consumer,null,function(n){return e(n)}):e(E9)}function SEe(t){return pm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function EEe(t){return pm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(t)}function Ek(t){return pm({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(t)}function TEe(t){return pm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(t)}function C9(t){return pm({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function x9({children:t,title:e,addLabel:n,add:r}){return _.jsxs(_.Fragment,{children:[_.jsxs(Dp,{mb:10,children:[_.jsx(ua,{as:"h1",flex:1,children:e}),_.jsx(Rp,{title:n,"aria-label":n,icon:_.jsx($n,{as:Ek}),colorScheme:"green",onClick:r})]}),_.jsx(ad,{align:"stretch",gap:"var(--chakra-space-4)",divider:_.jsx(Yj,{borderColor:"gray.200"}),children:t})]})}let OD=!0;function mm({gridArea:t,label:e,onConfirm:n}){const{isOpen:r,onOpen:i,onClose:s}=Rae(),o=g.useCallback(()=>{s(),n()},[n]),a=g.useCallback(()=>{OD=!1,o()},[o]);return _.jsxs(_.Fragment,{children:[_.jsx(Rp,{gridArea:t,title:e,"aria-label":e,icon:_.jsx(C9,{}),colorScheme:"red",onClick:OD?i:n}),_.jsxs(p4,{isOpen:r,onClose:s,children:[_.jsx(T4,{}),_.jsxs(w4,{children:[_.jsxs(E4,{children:[e,"?"]}),_.jsx(C4,{}),_.jsxs(S4,{children:[_.jsx(Dh,{colorScheme:"yellow",mr:3,onClick:a,children:"Si a todo"}),_.jsx(Kj,{}),_.jsx(Dh,{variant:"ghost",onClick:s,children:"Cancelar"}),_.jsx(Dh,{colorScheme:"red",mr:3,onClick:o,children:"Borrar"})]})]})]})]})}mm.displayName="DeleteButton";function I9(t,e){function n(r){const i={...e,...r};return g.createElement(t,i)}return Object.assign(n,t)}const CEe=I9(qj,{as:U4}),xEe=I9(Fae,{as:U4});function k9({children:t,name:e,remove:n,removeLabel:r,tag:i,url:s}){const o=Array.isArray(i)?i:[i];return _.jsxs(ad,{align:"stretch",gap:"var(--chakra-space-4)",role:"group",children:[_.jsxs(Zj,{as:Nr,templateColumns:"1fr auto auto",gap:"var(--chakra-space-2)",children:[_.jsx(ua,{as:"h3",fontSize:"1.5rem",transition:"transform 0.125s ease-out",_groupHover:{transform:"translateX(0.3rem)"},children:_.jsx(xEe,{to:s,children:e})}),_.jsx(Dp,{children:o.filter(Boolean).map(a=>_.jsx(vx,{variant:"solid",cursor:"default",children:a},a))}),_.jsx(mm,{label:r,onConfirm:n})]}),_.jsx(t4,{whiteSpace:"nowrap",flexWrap:"wrap",gap:"var(--chakra-space-2)",children:t})]})}const Tk=t=>t,K0=Tk(["l","ml","kg","g","u"]);function Ck(t){switch(t){case"l":case"ml":return["l","ml"];case"kg":case"g":return["kg","g"];case"u":return["u"]}}const IEe={l:{ml:1e3},ml:{l:.001},kg:{g:1e3},g:{kg:.001}};function A9(t,e,n){if(e===n)return t;try{const r=IEe[e][n];return t*r}catch(r){throw console.error(`Can't convert from "${e}" to "${n}"`),r}}function P9(t){return Ck(t).pop()}function kEe(t){return Ck(t).shift()}function sl(t,e){return t<1&&(e==="kg"||e==="l")?(t=t*1e3,e=P9(e)):t>=1e3&&(e==="g"||e==="ml")&&(t=t/1e3,e=kEe(e)),`${t.toLocaleString(void 0,{maximumSignificantDigits:3})} ${e}`}function AEe(t=new Date){const e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`}function PEe(t){return t?Intl.DateTimeFormat(void 0,{day:"numeric",month:"short",year:"numeric"}).format(t):""}function REe(){const t=Z_(),{isLoading:e,data:n=[],add:r,remove:i}=es("pasteles"),s=g.useMemo(()=>[...n.filter(a=>!a.date),...n.filter(a=>a.date).sort((a,l)=>`${a.date}`.localeCompare(`${l.date}`))],[n]);if(e)return _.jsx(Xs,{});async function o(){const a=await r({name:"Nuevo pastel",pax:"",cost:0,multiplier:4,recipes:[],ingredients:[]});t(`/pasteles/${a.id}`)}return _.jsx(x9,{title:"Pasteles",addLabel:"Aadir pastel",add:o,children:s.map(a=>{var l;return _.jsxs(k9,{name:a.name||"(sin nombre)",remove:()=>i(a),removeLabel:`Borrar pastel ${a.name||""}`,tag:[sl(a.cost*a.multiplier,""),PEe((l=a.date)==null?void 0:l.toDate()),`${a.pax||"0"} PAX`],url:`/pasteles/${a.id}`,children:[a.recipes.map(c=>_.jsx(Z1,{colorScheme:"orange",tooltip:sl(c.amount,c.unit),children:c.name},c.id)),a.ingredients.map(c=>_.jsx(Z1,{tooltip:sl(c.amount,c.unit),children:c.name},c.id))]},a.id)})})}const xk=500;var NEe=function(e){return OEe(e)&&!DEe(e)};function OEe(t){return!!t&&typeof t=="object"}function DEe(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||LEe(t)}var MEe=typeof Symbol=="function"&&Symbol.for,$Ee=MEe?Symbol.for("react.element"):60103;function LEe(t){return t.$$typeof===$Ee}function FEe(t){return Array.isArray(t)?[]:{}}function Hy(t,e){return e.clone!==!1&&e.isMergeableObject(t)?rp(FEe(t),t,e):t}function VEe(t,e,n){return t.concat(e).map(function(r){return Hy(r,n)})}function jEe(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Hy(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Hy(e[i],n):r[i]=rp(t[i],e[i],n)}),r}function rp(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||VEe,n.isMergeableObject=n.isMergeableObject||NEe;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):jEe(t,e,n):Hy(e,n)}rp.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return rp(r,i,n)},{})};var eT=rp,BEe=typeof global=="object"&&global&&global.Object===Object&&global;const R9=BEe;var zEe=typeof self=="object"&&self&&self.Object===Object&&self,UEe=R9||zEe||Function("return this")();const hs=UEe;var WEe=hs.Symbol;const na=WEe;var N9=Object.prototype,HEe=N9.hasOwnProperty,qEe=N9.toString,Qd=na?na.toStringTag:void 0;function GEe(t){var e=HEe.call(t,Qd),n=t[Qd];try{t[Qd]=void 0;var r=!0}catch{}var i=qEe.call(t);return r&&(e?t[Qd]=n:delete t[Qd]),i}var KEe=Object.prototype,YEe=KEe.toString;function QEe(t){return YEe.call(t)}var XEe="[object Null]",ZEe="[object Undefined]",DD=na?na.toStringTag:void 0;function ql(t){return t==null?t===void 0?ZEe:XEe:DD&&DD in Object(t)?GEe(t):QEe(t)}function O9(t,e){return function(n){return t(e(n))}}var JEe=O9(Object.getPrototypeOf,Object);const Ik=JEe;function Gl(t){return t!=null&&typeof t=="object"}var eTe="[object Object]",tTe=Function.prototype,nTe=Object.prototype,D9=tTe.toString,rTe=nTe.hasOwnProperty,iTe=D9.call(Object);function MD(t){if(!Gl(t)||ql(t)!=eTe)return!1;var e=Ik(t);if(e===null)return!0;var n=rTe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&D9.call(n)==iTe}var $D=Array.isArray,LD=Object.keys,sTe=Object.prototype.hasOwnProperty,oTe=typeof Element<"u";function tT(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=$D(t),r=$D(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!tT(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var c=t instanceof RegExp,u=e instanceof RegExp;if(c!=u)return!1;if(c&&u)return t.toString()==e.toString();var d=LD(t);if(s=d.length,s!==LD(e).length)return!1;for(i=s;i--!==0;)if(!sTe.call(e,d[i]))return!1;if(oTe&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!tT(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var aTe=function(e,n){try{return tT(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const po=yp(aTe);var lTe=!0;function kk(t,e){if(!lTe){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function cTe(){this.__data__=[],this.size=0}function M9(t,e){return t===e||t!==t&&e!==e}function Y0(t,e){for(var n=t.length;n--;)if(M9(t[n][0],e))return n;return-1}var uTe=Array.prototype,dTe=uTe.splice;function hTe(t){var e=this.__data__,n=Y0(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():dTe.call(e,n,1),--this.size,!0}function fTe(t){var e=this.__data__,n=Y0(e,t);return n<0?void 0:e[n][1]}function pTe(t){return Y0(this.__data__,t)>-1}function mTe(t,e){var n=this.__data__,r=Y0(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function no(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}no.prototype.clear=cTe;no.prototype.delete=hTe;no.prototype.get=fTe;no.prototype.has=pTe;no.prototype.set=mTe;function gTe(){this.__data__=new no,this.size=0}function vTe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function yTe(t){return this.__data__.get(t)}function _Te(t){return this.__data__.has(t)}function gm(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bTe="[object AsyncFunction]",wTe="[object Function]",STe="[object GeneratorFunction]",ETe="[object Proxy]";function $9(t){if(!gm(t))return!1;var e=ql(t);return e==wTe||e==STe||e==bTe||e==ETe}var TTe=hs["__core-js_shared__"];const uS=TTe;var FD=function(){var t=/[^.]+$/.exec(uS&&uS.keys&&uS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function CTe(t){return!!FD&&FD in t}var xTe=Function.prototype,ITe=xTe.toString;function Kl(t){if(t!=null){try{return ITe.call(t)}catch{}try{return t+""}catch{}}return""}var kTe=/[\\^$.*+?()[\]{}|]/g,ATe=/^\[object .+?Constructor\]$/,PTe=Function.prototype,RTe=Object.prototype,NTe=PTe.toString,OTe=RTe.hasOwnProperty,DTe=RegExp("^"+NTe.call(OTe).replace(kTe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MTe(t){if(!gm(t)||CTe(t))return!1;var e=$9(t)?DTe:ATe;return e.test(Kl(t))}function $Te(t,e){return t==null?void 0:t[e]}function Yl(t,e){var n=$Te(t,e);return MTe(n)?n:void 0}var LTe=Yl(hs,"Map");const ip=LTe;var FTe=Yl(Object,"create");const sp=FTe;function VTe(){this.__data__=sp?sp(null):{},this.size=0}function jTe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var BTe="__lodash_hash_undefined__",zTe=Object.prototype,UTe=zTe.hasOwnProperty;function WTe(t){var e=this.__data__;if(sp){var n=e[t];return n===BTe?void 0:n}return UTe.call(e,t)?e[t]:void 0}var HTe=Object.prototype,qTe=HTe.hasOwnProperty;function GTe(t){var e=this.__data__;return sp?e[t]!==void 0:qTe.call(e,t)}var KTe="__lodash_hash_undefined__";function YTe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=sp&&e===void 0?KTe:e,this}function Al(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Al.prototype.clear=VTe;Al.prototype.delete=jTe;Al.prototype.get=WTe;Al.prototype.has=GTe;Al.prototype.set=YTe;function QTe(){this.size=0,this.__data__={hash:new Al,map:new(ip||no),string:new Al}}function XTe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Q0(t,e){var n=t.__data__;return XTe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function ZTe(t){var e=Q0(this,t).delete(t);return this.size-=e?1:0,e}function JTe(t){return Q0(this,t).get(t)}function eCe(t){return Q0(this,t).has(t)}function tCe(t,e){var n=Q0(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ma(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ma.prototype.clear=QTe;ma.prototype.delete=ZTe;ma.prototype.get=JTe;ma.prototype.has=eCe;ma.prototype.set=tCe;var nCe=200;function rCe(t,e){var n=this.__data__;if(n instanceof no){var r=n.__data__;if(!ip||r.length<nCe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ma(r)}return n.set(t,e),this.size=n.size,this}function Ed(t){var e=this.__data__=new no(t);this.size=e.size}Ed.prototype.clear=gTe;Ed.prototype.delete=vTe;Ed.prototype.get=yTe;Ed.prototype.has=_Te;Ed.prototype.set=rCe;function iCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var sCe=function(){try{var t=Yl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const VD=sCe;function L9(t,e,n){e=="__proto__"&&VD?VD(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var oCe=Object.prototype,aCe=oCe.hasOwnProperty;function F9(t,e,n){var r=t[e];(!(aCe.call(t,e)&&M9(r,n))||n===void 0&&!(e in t))&&L9(t,e,n)}function X0(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?L9(n,a,l):F9(n,a,l)}return n}function lCe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var cCe="[object Arguments]";function jD(t){return Gl(t)&&ql(t)==cCe}var V9=Object.prototype,uCe=V9.hasOwnProperty,dCe=V9.propertyIsEnumerable,hCe=jD(function(){return arguments}())?jD:function(t){return Gl(t)&&uCe.call(t,"callee")&&!dCe.call(t,"callee")};const fCe=hCe;var pCe=Array.isArray;const vm=pCe;function mCe(){return!1}var j9=typeof Er=="object"&&Er&&!Er.nodeType&&Er,BD=j9&&typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,gCe=BD&&BD.exports===j9,zD=gCe?hs.Buffer:void 0,vCe=zD?zD.isBuffer:void 0,yCe=vCe||mCe;const B9=yCe;var _Ce=9007199254740991,bCe=/^(?:0|[1-9]\d*)$/;function wCe(t,e){var n=typeof t;return e=e??_Ce,!!e&&(n=="number"||n!="symbol"&&bCe.test(t))&&t>-1&&t%1==0&&t<e}var SCe=9007199254740991;function z9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=SCe}var ECe="[object Arguments]",TCe="[object Array]",CCe="[object Boolean]",xCe="[object Date]",ICe="[object Error]",kCe="[object Function]",ACe="[object Map]",PCe="[object Number]",RCe="[object Object]",NCe="[object RegExp]",OCe="[object Set]",DCe="[object String]",MCe="[object WeakMap]",$Ce="[object ArrayBuffer]",LCe="[object DataView]",FCe="[object Float32Array]",VCe="[object Float64Array]",jCe="[object Int8Array]",BCe="[object Int16Array]",zCe="[object Int32Array]",UCe="[object Uint8Array]",WCe="[object Uint8ClampedArray]",HCe="[object Uint16Array]",qCe="[object Uint32Array]",mt={};mt[FCe]=mt[VCe]=mt[jCe]=mt[BCe]=mt[zCe]=mt[UCe]=mt[WCe]=mt[HCe]=mt[qCe]=!0;mt[ECe]=mt[TCe]=mt[$Ce]=mt[CCe]=mt[LCe]=mt[xCe]=mt[ICe]=mt[kCe]=mt[ACe]=mt[PCe]=mt[RCe]=mt[NCe]=mt[OCe]=mt[DCe]=mt[MCe]=!1;function GCe(t){return Gl(t)&&z9(t.length)&&!!mt[ql(t)]}function Ak(t){return function(e){return t(e)}}var U9=typeof Er=="object"&&Er&&!Er.nodeType&&Er,Gh=U9&&typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,KCe=Gh&&Gh.exports===U9,dS=KCe&&R9.process,YCe=function(){try{var t=Gh&&Gh.require&&Gh.require("util").types;return t||dS&&dS.binding&&dS.binding("util")}catch{}}();const Ku=YCe;var UD=Ku&&Ku.isTypedArray,QCe=UD?Ak(UD):GCe;const XCe=QCe;var ZCe=Object.prototype,JCe=ZCe.hasOwnProperty;function W9(t,e){var n=vm(t),r=!n&&fCe(t),i=!n&&!r&&B9(t),s=!n&&!r&&!i&&XCe(t),o=n||r||i||s,a=o?lCe(t.length,String):[],l=a.length;for(var c in t)(e||JCe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||wCe(c,l)))&&a.push(c);return a}var exe=Object.prototype;function Pk(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||exe;return t===n}var txe=O9(Object.keys,Object);const nxe=txe;var rxe=Object.prototype,ixe=rxe.hasOwnProperty;function sxe(t){if(!Pk(t))return nxe(t);var e=[];for(var n in Object(t))ixe.call(t,n)&&n!="constructor"&&e.push(n);return e}function H9(t){return t!=null&&z9(t.length)&&!$9(t)}function Rk(t){return H9(t)?W9(t):sxe(t)}function oxe(t,e){return t&&X0(e,Rk(e),t)}function axe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var lxe=Object.prototype,cxe=lxe.hasOwnProperty;function uxe(t){if(!gm(t))return axe(t);var e=Pk(t),n=[];for(var r in t)r=="constructor"&&(e||!cxe.call(t,r))||n.push(r);return n}function Nk(t){return H9(t)?W9(t,!0):uxe(t)}function dxe(t,e){return t&&X0(e,Nk(e),t)}var q9=typeof Er=="object"&&Er&&!Er.nodeType&&Er,WD=q9&&typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,hxe=WD&&WD.exports===q9,HD=hxe?hs.Buffer:void 0,qD=HD?HD.allocUnsafe:void 0;function fxe(t,e){if(e)return t.slice();var n=t.length,r=qD?qD(n):new t.constructor(n);return t.copy(r),r}function G9(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function pxe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function K9(){return[]}var mxe=Object.prototype,gxe=mxe.propertyIsEnumerable,GD=Object.getOwnPropertySymbols,vxe=GD?function(t){return t==null?[]:(t=Object(t),pxe(GD(t),function(e){return gxe.call(t,e)}))}:K9;const Ok=vxe;function yxe(t,e){return X0(t,Ok(t),e)}function Y9(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _xe=Object.getOwnPropertySymbols,bxe=_xe?function(t){for(var e=[];t;)Y9(e,Ok(t)),t=Ik(t);return e}:K9;const Q9=bxe;function wxe(t,e){return X0(t,Q9(t),e)}function X9(t,e,n){var r=e(t);return vm(t)?r:Y9(r,n(t))}function Sxe(t){return X9(t,Rk,Ok)}function Exe(t){return X9(t,Nk,Q9)}var Txe=Yl(hs,"DataView");const nT=Txe;var Cxe=Yl(hs,"Promise");const rT=Cxe;var xxe=Yl(hs,"Set");const iT=xxe;var Ixe=Yl(hs,"WeakMap");const sT=Ixe;var KD="[object Map]",kxe="[object Object]",YD="[object Promise]",QD="[object Set]",XD="[object WeakMap]",ZD="[object DataView]",Axe=Kl(nT),Pxe=Kl(ip),Rxe=Kl(rT),Nxe=Kl(iT),Oxe=Kl(sT),Pa=ql;(nT&&Pa(new nT(new ArrayBuffer(1)))!=ZD||ip&&Pa(new ip)!=KD||rT&&Pa(rT.resolve())!=YD||iT&&Pa(new iT)!=QD||sT&&Pa(new sT)!=XD)&&(Pa=function(t){var e=ql(t),n=e==kxe?t.constructor:void 0,r=n?Kl(n):"";if(r)switch(r){case Axe:return ZD;case Pxe:return KD;case Rxe:return YD;case Nxe:return QD;case Oxe:return XD}return e});const Dk=Pa;var Dxe=Object.prototype,Mxe=Dxe.hasOwnProperty;function $xe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Mxe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Lxe=hs.Uint8Array;const JD=Lxe;function Mk(t){var e=new t.constructor(t.byteLength);return new JD(e).set(new JD(t)),e}function Fxe(t,e){var n=e?Mk(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Vxe=/\w*$/;function jxe(t){var e=new t.constructor(t.source,Vxe.exec(t));return e.lastIndex=t.lastIndex,e}var eM=na?na.prototype:void 0,tM=eM?eM.valueOf:void 0;function Bxe(t){return tM?Object(tM.call(t)):{}}function zxe(t,e){var n=e?Mk(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Uxe="[object Boolean]",Wxe="[object Date]",Hxe="[object Map]",qxe="[object Number]",Gxe="[object RegExp]",Kxe="[object Set]",Yxe="[object String]",Qxe="[object Symbol]",Xxe="[object ArrayBuffer]",Zxe="[object DataView]",Jxe="[object Float32Array]",eIe="[object Float64Array]",tIe="[object Int8Array]",nIe="[object Int16Array]",rIe="[object Int32Array]",iIe="[object Uint8Array]",sIe="[object Uint8ClampedArray]",oIe="[object Uint16Array]",aIe="[object Uint32Array]";function lIe(t,e,n){var r=t.constructor;switch(e){case Xxe:return Mk(t);case Uxe:case Wxe:return new r(+t);case Zxe:return Fxe(t,n);case Jxe:case eIe:case tIe:case nIe:case rIe:case iIe:case sIe:case oIe:case aIe:return zxe(t,n);case Hxe:return new r;case qxe:case Yxe:return new r(t);case Gxe:return jxe(t);case Kxe:return new r;case Qxe:return Bxe(t)}}var nM=Object.create,cIe=function(){function t(){}return function(e){if(!gm(e))return{};if(nM)return nM(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const uIe=cIe;function dIe(t){return typeof t.constructor=="function"&&!Pk(t)?uIe(Ik(t)):{}}var hIe="[object Map]";function fIe(t){return Gl(t)&&Dk(t)==hIe}var rM=Ku&&Ku.isMap,pIe=rM?Ak(rM):fIe;const mIe=pIe;var gIe="[object Set]";function vIe(t){return Gl(t)&&Dk(t)==gIe}var iM=Ku&&Ku.isSet,yIe=iM?Ak(iM):vIe;const _Ie=yIe;var bIe=1,wIe=2,SIe=4,Z9="[object Arguments]",EIe="[object Array]",TIe="[object Boolean]",CIe="[object Date]",xIe="[object Error]",J9="[object Function]",IIe="[object GeneratorFunction]",kIe="[object Map]",AIe="[object Number]",e6="[object Object]",PIe="[object RegExp]",RIe="[object Set]",NIe="[object String]",OIe="[object Symbol]",DIe="[object WeakMap]",MIe="[object ArrayBuffer]",$Ie="[object DataView]",LIe="[object Float32Array]",FIe="[object Float64Array]",VIe="[object Int8Array]",jIe="[object Int16Array]",BIe="[object Int32Array]",zIe="[object Uint8Array]",UIe="[object Uint8ClampedArray]",WIe="[object Uint16Array]",HIe="[object Uint32Array]",lt={};lt[Z9]=lt[EIe]=lt[MIe]=lt[$Ie]=lt[TIe]=lt[CIe]=lt[LIe]=lt[FIe]=lt[VIe]=lt[jIe]=lt[BIe]=lt[kIe]=lt[AIe]=lt[e6]=lt[PIe]=lt[RIe]=lt[NIe]=lt[OIe]=lt[zIe]=lt[UIe]=lt[WIe]=lt[HIe]=!0;lt[xIe]=lt[J9]=lt[DIe]=!1;function Kh(t,e,n,r,i,s){var o,a=e&bIe,l=e&wIe,c=e&SIe;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!gm(t))return t;var u=vm(t);if(u){if(o=$xe(t),!a)return G9(t,o)}else{var d=Dk(t),h=d==J9||d==IIe;if(B9(t))return fxe(t,a);if(d==e6||d==Z9||h&&!i){if(o=l||h?{}:dIe(t),!a)return l?wxe(t,dxe(o,t)):yxe(t,oxe(o,t))}else{if(!lt[d])return i?t:{};o=lIe(t,d,a)}}s||(s=new Ed);var f=s.get(t);if(f)return f;s.set(t,o),_Ie(t)?t.forEach(function(b){o.add(Kh(b,e,n,b,t,s))}):mIe(t)&&t.forEach(function(b,y){o.set(y,Kh(b,e,n,y,t,s))});var p=c?l?Exe:Sxe:l?Nk:Rk,m=u?void 0:p(t);return iCe(m||t,function(b,y){m&&(y=b,b=t[y]),F9(o,y,Kh(b,e,n,y,t,s))}),o}var qIe=4;function sM(t){return Kh(t,qIe)}function t6(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var GIe="[object Symbol]";function $k(t){return typeof t=="symbol"||Gl(t)&&ql(t)==GIe}var KIe="Expected a function";function Lk(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(KIe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Lk.Cache||ma),n}Lk.Cache=ma;var YIe=500;function QIe(t){var e=Lk(t,function(r){return n.size===YIe&&n.clear(),r}),n=e.cache;return e}var XIe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZIe=/\\(\\)?/g,JIe=QIe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(XIe,function(n,r,i,s){e.push(i?s.replace(ZIe,"$1"):r||n)}),e});const eke=JIe;var tke=1/0;function nke(t){if(typeof t=="string"||$k(t))return t;var e=t+"";return e=="0"&&1/t==-tke?"-0":e}var rke=1/0,oM=na?na.prototype:void 0,aM=oM?oM.toString:void 0;function n6(t){if(typeof t=="string")return t;if(vm(t))return t6(t,n6)+"";if($k(t))return aM?aM.call(t):"";var e=t+"";return e=="0"&&1/t==-rke?"-0":e}function ike(t){return t==null?"":n6(t)}function r6(t){return vm(t)?t6(t,nke):$k(t)?[t]:G9(eke(ike(t)))}var ske=1,oke=4;function ake(t){return Kh(t,ske|oke)}function Rt(){return Rt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rt.apply(this,arguments)}function lke(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Fk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Z0=g.createContext(void 0);Z0.displayName="FormikContext";var cke=Z0.Provider,uke=Z0.Consumer;function Ql(){var t=g.useContext(Z0);return t||kk(!1),t}var cM=function(e){return Array.isArray(e)&&e.length===0},nr=function(e){return typeof e=="function"},Td=function(e){return e!==null&&typeof e=="object"},dke=function(e){return String(Math.floor(Number(e)))===e},hS=function(e){return Object.prototype.toString.call(e)==="[object String]"},i6=function(e){return g.Children.count(e)===0},fS=function(e){return Td(e)&&nr(e.then)};function on(t,e,n,r){r===void 0&&(r=0);for(var i=r6(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function ts(t,e,n){for(var r=sM(t),i=r,s=0,o=r6(e);s<o.length-1;s++){var a=o[s],l=on(t,o.slice(0,s+1));if(l&&(Td(l)||Array.isArray(l)))i=i[a]=sM(l);else{var c=o[s+1];i=i[a]=dke(c)&&Number(c)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function s6(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];Td(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},s6(a,e,n,r[o])):r[o]=e}return r}function hke(t,e){switch(e.type){case"SET_VALUES":return Rt({},t,{values:e.payload});case"SET_TOUCHED":return Rt({},t,{touched:e.payload});case"SET_ERRORS":return po(t.errors,e.payload)?t:Rt({},t,{errors:e.payload});case"SET_STATUS":return Rt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Rt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Rt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Rt({},t,{values:ts(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Rt({},t,{touched:ts(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Rt({},t,{errors:ts(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Rt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Rt({},t,{touched:s6(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Rt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Rt({},t,{isSubmitting:!1});default:return t}}var Sa={},Sg={};function fke(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,c=l===void 0?!1:l,u=t.onSubmit,d=Fk(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=Rt({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:u},d),f=g.useRef(h.initialValues),p=g.useRef(h.initialErrors||Sa),m=g.useRef(h.initialTouched||Sg),b=g.useRef(h.initialStatus),y=g.useRef(!1),v=g.useRef({});g.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]);var w=g.useState(0),S=w[1],C=g.useRef({values:h.initialValues,errors:h.initialErrors||Sa,touched:h.initialTouched||Sg,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),x=C.current,T=g.useCallback(function(P){var j=C.current;C.current=hke(j,P),j!==C.current&&S(function(Q){return Q+1})},[]),A=g.useCallback(function(P,j){return new Promise(function(Q,te){var Ee=h.validate(P,j);Ee==null?Q(Sa):fS(Ee)?Ee.then(function(Fe){Q(Fe||Sa)},function(Fe){te(Fe)}):Q(Ee)})},[h.validate]),O=g.useCallback(function(P,j){var Q=h.validationSchema,te=nr(Q)?Q(j):Q,Ee=j&&te.validateAt?te.validateAt(j,P):gke(P,te);return new Promise(function(Fe,at){Ee.then(function(){Fe(Sa)},function(Vr){Vr.name==="ValidationError"?Fe(mke(Vr)):at(Vr)})})},[h.validationSchema]),N=g.useCallback(function(P,j){return new Promise(function(Q){return Q(v.current[P].validate(j))})},[]),z=g.useCallback(function(P){var j=Object.keys(v.current).filter(function(te){return nr(v.current[te].validate)}),Q=j.length>0?j.map(function(te){return N(te,on(P,te))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Q).then(function(te){return te.reduce(function(Ee,Fe,at){return Fe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Fe&&(Ee=ts(Ee,j[at],Fe)),Ee},{})})},[N]),ve=g.useCallback(function(P){return Promise.all([z(P),h.validationSchema?O(P):{},h.validate?A(P):{}]).then(function(j){var Q=j[0],te=j[1],Ee=j[2],Fe=eT.all([Q,te,Ee],{arrayMerge:vke});return Fe})},[h.validate,h.validationSchema,z,A,O]),ne=Ur(function(P){return P===void 0&&(P=x.values),T({type:"SET_ISVALIDATING",payload:!0}),ve(P).then(function(j){return y.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:j})),j})});g.useEffect(function(){o&&y.current===!0&&po(f.current,h.initialValues)&&ne(f.current)},[o,ne]);var le=g.useCallback(function(P){var j=P&&P.values?P.values:f.current,Q=P&&P.errors?P.errors:p.current?p.current:h.initialErrors||{},te=P&&P.touched?P.touched:m.current?m.current:h.initialTouched||{},Ee=P&&P.status?P.status:b.current?b.current:h.initialStatus;f.current=j,p.current=Q,m.current=te,b.current=Ee;var Fe=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!P&&!!P.isSubmitting,errors:Q,touched:te,status:Ee,values:j,isValidating:!!P&&!!P.isValidating,submitCount:P&&P.submitCount&&typeof P.submitCount=="number"?P.submitCount:0}})};if(h.onReset){var at=h.onReset(x.values,Ft);fS(at)?at.then(Fe):Fe()}else Fe()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);g.useEffect(function(){y.current===!0&&!po(f.current,h.initialValues)&&c&&(f.current=h.initialValues,le(),o&&ne(f.current))},[c,h.initialValues,le,o,ne]),g.useEffect(function(){c&&y.current===!0&&!po(p.current,h.initialErrors)&&(p.current=h.initialErrors||Sa,T({type:"SET_ERRORS",payload:h.initialErrors||Sa}))},[c,h.initialErrors]),g.useEffect(function(){c&&y.current===!0&&!po(m.current,h.initialTouched)&&(m.current=h.initialTouched||Sg,T({type:"SET_TOUCHED",payload:h.initialTouched||Sg}))},[c,h.initialTouched]),g.useEffect(function(){c&&y.current===!0&&!po(b.current,h.initialStatus)&&(b.current=h.initialStatus,T({type:"SET_STATUS",payload:h.initialStatus}))},[c,h.initialStatus,h.initialTouched]);var xe=Ur(function(P){if(v.current[P]&&nr(v.current[P].validate)){var j=on(x.values,P),Q=v.current[P].validate(j);return fS(Q)?(T({type:"SET_ISVALIDATING",payload:!0}),Q.then(function(te){return te}).then(function(te){T({type:"SET_FIELD_ERROR",payload:{field:P,value:te}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:P,value:Q}}),Promise.resolve(Q))}else if(h.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),O(x.values,P).then(function(te){return te}).then(function(te){T({type:"SET_FIELD_ERROR",payload:{field:P,value:on(te,P)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),me=g.useCallback(function(P,j){var Q=j.validate;v.current[P]={validate:Q}},[]),ye=g.useCallback(function(P){delete v.current[P]},[]),$=Ur(function(P,j){T({type:"SET_TOUCHED",payload:P});var Q=j===void 0?i:j;return Q?ne(x.values):Promise.resolve()}),U=g.useCallback(function(P){T({type:"SET_ERRORS",payload:P})},[]),J=Ur(function(P,j){var Q=nr(P)?P(x.values):P;T({type:"SET_VALUES",payload:Q});var te=j===void 0?n:j;return te?ne(Q):Promise.resolve()}),Y=g.useCallback(function(P,j){T({type:"SET_FIELD_ERROR",payload:{field:P,value:j}})},[]),ae=Ur(function(P,j,Q){T({type:"SET_FIELD_VALUE",payload:{field:P,value:j}});var te=Q===void 0?n:Q;return te?ne(ts(x.values,P,j)):Promise.resolve()}),ce=g.useCallback(function(P,j){var Q=j,te=P,Ee;if(!hS(P)){P.persist&&P.persist();var Fe=P.target?P.target:P.currentTarget,at=Fe.type,Vr=Fe.name,Xl=Fe.id,Zl=Fe.value,bm=Fe.checked,tb=Fe.outerHTML,wm=Fe.options,nb=Fe.multiple;Q=j||Vr||Xl,te=/number|range/.test(at)?(Ee=parseFloat(Zl),isNaN(Ee)?"":Ee):/checkbox/.test(at)?_ke(on(x.values,Q),bm,Zl):wm&&nb?yke(wm):Zl}Q&&ae(Q,te)},[ae,x.values]),fe=Ur(function(P){if(hS(P))return function(j){return ce(j,P)};ce(P)}),Ie=Ur(function(P,j,Q){j===void 0&&(j=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:P,value:j}});var te=Q===void 0?i:Q;return te?ne(x.values):Promise.resolve()}),De=g.useCallback(function(P,j){P.persist&&P.persist();var Q=P.target,te=Q.name,Ee=Q.id,Fe=Q.outerHTML,at=j||te||Ee;Ie(at,!0)},[Ie]),Be=Ur(function(P){if(hS(P))return function(j){return De(j,P)};De(P)}),tt=g.useCallback(function(P){nr(P)?T({type:"SET_FORMIK_STATE",payload:P}):T({type:"SET_FORMIK_STATE",payload:function(){return P}})},[]),Lt=g.useCallback(function(P){T({type:"SET_STATUS",payload:P})},[]),Ut=g.useCallback(function(P){T({type:"SET_ISSUBMITTING",payload:P})},[]),Pt=Ur(function(){return T({type:"SUBMIT_ATTEMPT"}),ne().then(function(P){var j=P instanceof Error,Q=!j&&Object.keys(P).length===0;if(Q){var te;try{if(te=fs(),te===void 0)return}catch(Ee){throw Ee}return Promise.resolve(te).then(function(Ee){return y.current&&T({type:"SUBMIT_SUCCESS"}),Ee}).catch(function(Ee){if(y.current)throw T({type:"SUBMIT_FAILURE"}),Ee})}else if(y.current&&(T({type:"SUBMIT_FAILURE"}),j))throw P})}),ze=Ur(function(P){P&&P.preventDefault&&nr(P.preventDefault)&&P.preventDefault(),P&&P.stopPropagation&&nr(P.stopPropagation)&&P.stopPropagation(),Pt().catch(function(j){console.warn("Warning: An unhandled error was caught from submitForm()",j)})}),Ft={resetForm:le,validateForm:ne,validateField:xe,setErrors:U,setFieldError:Y,setFieldTouched:Ie,setFieldValue:ae,setStatus:Lt,setSubmitting:Ut,setTouched:$,setValues:J,setFormikState:tt,submitForm:Pt},fs=Ur(function(){return u(x.values,Ft)}),Se=Ur(function(P){P&&P.preventDefault&&nr(P.preventDefault)&&P.preventDefault(),P&&P.stopPropagation&&nr(P.stopPropagation)&&P.stopPropagation(),le()}),Zt=g.useCallback(function(P){return{value:on(x.values,P),error:on(x.errors,P),touched:!!on(x.touched,P),initialValue:on(f.current,P),initialTouched:!!on(m.current,P),initialError:on(p.current,P)}},[x.errors,x.touched,x.values]),vn=g.useCallback(function(P){return{setValue:function(Q,te){return ae(P,Q,te)},setTouched:function(Q,te){return Ie(P,Q,te)},setError:function(Q){return Y(P,Q)}}},[ae,Ie,Y]),ki=g.useCallback(function(P){var j=Td(P),Q=j?P.name:P,te=on(x.values,Q),Ee={name:Q,value:te,onChange:fe,onBlur:Be};if(j){var Fe=P.type,at=P.value,Vr=P.as,Xl=P.multiple;Fe==="checkbox"?at===void 0?Ee.checked=!!te:(Ee.checked=!!(Array.isArray(te)&&~te.indexOf(at)),Ee.value=at):Fe==="radio"?(Ee.checked=te===at,Ee.value=at):Vr==="select"&&Xl&&(Ee.value=Ee.value||[],Ee.multiple=!0)}return Ee},[Be,fe,x.values]),ga=g.useMemo(function(){return!po(f.current,x.values)},[f.current,x.values]),tr=g.useMemo(function(){return typeof a<"u"?ga?x.errors&&Object.keys(x.errors).length===0:a!==!1&&nr(a)?a(h):a:x.errors&&Object.keys(x.errors).length===0},[a,ga,x.errors,h]),Ai=Rt({},x,{initialValues:f.current,initialErrors:p.current,initialTouched:m.current,initialStatus:b.current,handleBlur:Be,handleChange:fe,handleReset:Se,handleSubmit:ze,resetForm:le,setErrors:U,setFormikState:tt,setFieldTouched:Ie,setFieldValue:ae,setFieldError:Y,setStatus:Lt,setSubmitting:Ut,setTouched:$,setValues:J,submitForm:Pt,validateForm:ne,validateField:xe,isValid:tr,dirty:ga,unregisterField:ye,registerField:me,getFieldProps:ki,getFieldMeta:Zt,getFieldHelpers:vn,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return Ai}function pke(t){var e=fke(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return g.useImperativeHandle(s,function(){return e}),g.createElement(cke,{value:e},n?g.createElement(n,e):i?i(e):r?nr(r)?r(e):i6(r)?null:g.Children.only(r):null)}function mke(t){var e={};if(t.inner){if(t.inner.length===0)return ts(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;on(e,o.path)||(e=ts(e,o.path,o.message))}}return e}function gke(t,e,n,r){n===void 0&&(n=!1);var i=oT(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function oT(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||MD(i)?oT(i):i!==""?i:void 0}):MD(t[r])?e[r]=oT(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function vke(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?eT(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=eT(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function yke(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function _ke(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var bke=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect;function Ur(t){var e=g.useRef(t);return bke(function(){e.current=t}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function o6(t){var e=Ql(),n=e.getFieldProps,r=e.getFieldMeta,i=e.getFieldHelpers,s=e.registerField,o=e.unregisterField,a=Td(t),l=a?t:{name:t},c=l.name,u=l.validate;g.useEffect(function(){return c&&s(c,{validate:u}),function(){c&&o(c)}},[s,o,c,u]),c||kk(!1);var d=g.useMemo(function(){return i(c)},[i,c]);return[n(l),r(c),d]}var a6=g.forwardRef(function(t,e){var n=t.action,r=Fk(t,["action"]),i=n??"#",s=Ql(),o=s.handleReset,a=s.handleSubmit;return g.createElement("form",Rt({onSubmit:a,ref:e,onReset:o,action:i},r))});a6.displayName="Form";function wke(t){var e=function(i){return g.createElement(uke,null,function(s){return s||kk(!1),g.createElement(t,Rt({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",B8(e,t)}var Ske=function(e,n,r){var i=Pl(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},Eke=function(e,n,r){var i=Pl(e),s=i[n];return i[n]=i[r],i[r]=s,i},pS=function(e,n,r){var i=Pl(e);return i.splice(n,0,r),i},Tke=function(e,n,r){var i=Pl(e);return i[n]=r,i},Pl=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(Rt({},e,{length:n+1}))}else return[]},uM=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||Td(i)){var s=Pl(i);return r(s)}return i}},l6=function(t){lke(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,c=l.name,u=l.formik.setFormikState;u(function(d){var h=uM(a,s),f=uM(o,s),p=ts(d.values,c,s(on(d.values,c))),m=a?h(on(d.errors,c)):void 0,b=o?f(on(d.touched,c)):void 0;return cM(m)&&(m=void 0),cM(b)&&(b=void 0),Rt({},d,{values:p,errors:a?ts(d.errors,c,m):d.errors,touched:o?ts(d.touched,c,b):d.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(Pl(o),[ake(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return Eke(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return Ske(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return pS(a,s,o)},function(a){return pS(a,s,null)},function(a){return pS(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return Tke(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(lM(i)),i.pop=i.pop.bind(lM(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!po(on(i.formik.values,i.name),on(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?Pl(o):[];return s||(s=a[i]),nr(a.splice)&&a.splice(i,1),nr(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,c=s.name,u=s.formik,d=Fk(u,["validate","validationSchema"]),h=Rt({},i,{form:d,name:c});return o?g.createElement(o,h):a?a(h):l?typeof l=="function"?l(h):i6(l)?null:g.Children.only(l):null},e}(g.Component);l6.defaultProps={validateOnChange:!0};var Cke=wke(l6);function xke(){const t=g.useMemo(()=>{let n="idle";return{get autoSaveState(){return n},set autoSaveState(r){n=r,console.log("Setting",r)}}},[]),e=Ql();return Object.defineProperty(e,"autoSaveState",Object.getOwnPropertyDescriptor(t,"autoSaveState")),e}var Vk={};Object.defineProperty(Vk,"__esModule",{value:!0});var c6=Vk.Scheduler=void 0;class Ike{constructor(e,n){this.milliseconds=e,this.action=n,this.timer=null}get isRunning(){return!!this.timer}start(){this.isRunning||(this.timer=setTimeout(()=>this.run(),this.milliseconds))}stop(){this.isRunning&&(clearTimeout(this.timer),this.timer=null)}restart(){this.stop(),this.start()}run(){this.stop(),this.action()}}c6=Vk.Scheduler=Ike;function kke(t,e){const[n]=g.useState({callback:e}),[r]=g.useState(new c6(t,()=>n.callback()));return n.callback=e,r}function Ake(t){const e={};for(const n of t.errors)e[n.path.filter(Boolean).join(".")]=n.message;return e}function Pke(t,e){return async n=>{const r=await t.safeParseAsync(n,e);if(!r.success)return Ake(r.error)}}function Rke({debounceMs:t}){const e=xke();e.autoSaveState||(e.autoSaveState="idle");const n=kke(t,()=>{e.autoSaveState="submitting",e.isValid&&e.submitForm()});function r(){n.isRunning&&n.run()}return e.autoSaveState==="submitting"&&!e.isSubmitting&&(e.autoSaveState="idle"),g.useEffect(()=>{e.isValidating&&(e.autoSaveState="scheduled",n.restart())},[e.isValidating]),g.useEffect(()=>(window.addEventListener("beforeunload",r),()=>window.removeEventListener("beforeunload",r)),[]),null}function jk({children:t,delayMs:e,validationSchema:n,...r}){return _.jsx(pke,{...r,validate:Pke(n),children:i=>(i.validationSchema=n,i.errors&&Object.keys(i.errors).length&&console.log("Form errors",i.errors),_.jsxs(a6,{children:[_.jsx(Rke,{debounceMs:e}),typeof t=="function"?t(i):t]}))})}function Bk(){const t=Ql();return Object.keys(t.errors).length>0?_.jsx($n,{as:C9,color:"red"}):t.autoSaveState==="idle"?_.jsx($n,{as:SEe,color:"green"}):t.autoSaveState==="submitting"?_.jsx($n,{as:TEe,color:"yellow"}):t.autoSaveState==="scheduled"?_.jsx($n,{as:EEe,color:"blue"}):null}function ym(){const t=ee(({name:e,isRequired:n,gridArea:r,isInvalid:i,...s},o)=>{const a=g.useId(),[l,c]=o6(e),u=g.useMemo(()=>s.onChange?d=>{l.onChange(d),s.onChange(d)}:l.onChange,[s.onChange,l.onChange]);return _.jsx(Yo,{isInvalid:i||!!(c.error&&c.touched),isRequired:n,gridArea:r,children:_.jsx(ei,{...l,...s,onChange:u,ref:o,name:e,id:a})})});return t.id="Input",t}function Nke(t){return typeof t=="string"||typeof t=="number"?_.jsx("option",{value:t,children:t},t):_.jsx("option",{value:t.value,children:t.label},t.value)}const Yu=ee((t,e)=>{if(!("options"in t))return _.jsx(G1,{ref:e,...t});const{options:n,...r}=t;return _.jsx(G1,{ref:e,...r,children:n.map(Nke)})}),Qu=ee((t,e)=>{const n=Ql(),r=g.useCallback(i=>{Number.isNaN(i.target.valueAsNumber)?n.setFieldValue(t.name,null):n.setFieldValue(t.name,i.target.valueAsNumber)},[n,t.name]);return _.jsx(ei,{...t,ref:e,type:"number",onChange:r})});function zk(t,...e){const n=w9(),r=_I(n,t,...e),i=mEe(r);return{...i,isLoading:i.status==="loading",remove:()=>Cz(r),set:(s,o)=>o?p2(r,s,o):p2(r,s),update:s=>rve(r,s)}}var qe;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(qe||(qe={}));var aT;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(aT||(aT={}));const W=qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wo=t=>{switch(typeof t){case"undefined":return W.undefined;case"string":return W.string;case"number":return isNaN(t)?W.nan:W.number;case"boolean":return W.boolean;case"function":return W.function;case"bigint":return W.bigint;case"symbol":return W.symbol;case"object":return Array.isArray(t)?W.array:t===null?W.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?W.promise:typeof Map<"u"&&t instanceof Map?W.map:typeof Set<"u"&&t instanceof Set?W.set:typeof Date<"u"&&t instanceof Date?W.date:W.object;default:return W.unknown}},F=qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Oke=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class bi extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bi.create=t=>new bi(t);const op=(t,e)=>{let n;switch(t.code){case F.invalid_type:t.received===W.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case F.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,qe.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:n=`Unrecognized key(s) in object: ${qe.joinValues(t.keys,", ")}`;break;case F.invalid_union:n="Invalid input";break;case F.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${qe.joinValues(t.options)}`;break;case F.invalid_enum_value:n=`Invalid enum value. Expected ${qe.joinValues(t.options)}, received '${t.received}'`;break;case F.invalid_arguments:n="Invalid function arguments";break;case F.invalid_return_type:n="Invalid function return type";break;case F.invalid_date:n="Invalid date";break;case F.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:qe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case F.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case F.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case F.custom:n="Invalid input";break;case F.invalid_intersection_types:n="Intersection results could not be merged";break;case F.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case F.not_finite:n="Number must be finite";break;default:n=e.defaultError,qe.assertNever(t)}return{message:n}};let u6=op;function Dke(t){u6=t}function qy(){return u6}const Gy=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Mke=[];function q(t,e){const n=Gy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,qy(),op].filter(r=>!!r)});t.common.issues.push(n)}class Un{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return we;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Un.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return we;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const we=Object.freeze({status:"aborted"}),d6=t=>({status:"dirty",value:t}),Zn=t=>({status:"valid",value:t}),lT=t=>t.status==="aborted",cT=t=>t.status==="dirty",ap=t=>t.status==="valid",Ky=t=>typeof Promise<"u"&&t instanceof Promise;var ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ie||(ie={}));class as{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dM=(t,e)=>{if(ap(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new bi(t.common.issues);return this._error=n,this._error}}};function Te(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class ke{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return wo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:wo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Un,ctx:{common:e.parent.common,data:e.data,parsedType:wo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ky(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wo(e)},s=this._parseSync({data:e,path:i.path,parent:i});return dM(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wo(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Ky(i)?i:Promise.resolve(i));return dM(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:F.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new xi({schema:this,typeName:de.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ms.create(this,this._def)}nullable(){return Ol.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wi.create(this,this._def)}promise(){return Zu.create(this,this._def)}or(e){return dp.create([this,e],this._def)}and(e){return hp.create(this,e,this._def)}transform(e){return new xi({...Te(this._def),schema:this,typeName:de.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new vp({...Te(this._def),innerType:this,defaultValue:n,typeName:de.ZodDefault})}brand(){return new f6({typeName:de.ZodBranded,type:this,...Te(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Zy({...Te(this._def),innerType:this,catchValue:n,typeName:de.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return _m.create(this,e)}readonly(){return e_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $ke=/^c[^\s-]{8,}$/i,Lke=/^[a-z][a-z0-9]*$/,Fke=/[0-9A-HJKMNP-TV-Z]{26}/,Vke=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jke=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bke=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,zke=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Uke=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Wke=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Hke(t,e){return!!((e==="v4"||!e)&&zke.test(t)||(e==="v6"||!e)&&Uke.test(t))}class mi extends ke{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(i=>e.test(i),{validation:n,code:F.invalid_string,...ie.errToObj(r)}),this.nonempty=e=>this.min(1,ie.errToObj(e)),this.trim=()=>new mi({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new mi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new mi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==W.string){const s=this._getOrReturnCtx(e);return q(s,{code:F.invalid_type,expected:W.string,received:s.parsedType}),we}const r=new Un;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:F.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:F.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?q(i,{code:F.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&q(i,{code:F.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")jke.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"email",code:F.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Bke.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"emoji",code:F.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Vke.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"uuid",code:F.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")$ke.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid",code:F.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Lke.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid2",code:F.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Fke.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ulid",code:F.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),q(i,{validation:"url",code:F.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"regex",code:F.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),q(i,{code:F.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:F.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:F.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Wke(s).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:F.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Hke(e.data,s.version)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ip",code:F.invalid_string,message:s.message}),r.dirty()):qe.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new mi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ie.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...ie.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ie.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ie.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ie.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ie.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}mi.create=t=>{var e;return new mi({checks:[],typeName:de.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};function qke(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class ra extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==W.number){const s=this._getOrReturnCtx(e);return q(s,{code:F.invalid_type,expected:W.number,received:s.parsedType}),we}let r;const i=new Un;for(const s of this._def.checks)s.kind==="int"?qe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:F.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?qke(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:F.not_finite,message:s.message}),i.dirty()):qe.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,i){return new ra({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(i)}]})}_addCheck(e){return new ra({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ie.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ra.create=t=>new ra({checks:[],typeName:de.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class ia extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==W.bigint){const s=this._getOrReturnCtx(e);return q(s,{code:F.invalid_type,expected:W.bigint,received:s.parsedType}),we}let r;const i=new Un;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):qe.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,i){return new ia({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(i)}]})}_addCheck(e){return new ia({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ia.create=t=>{var e;return new ia({checks:[],typeName:de.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};class lp extends ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==W.boolean){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:W.boolean,received:r.parsedType}),we}return Zn(e.data)}}lp.create=t=>new lp({typeName:de.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class Rl extends ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==W.date){const s=this._getOrReturnCtx(e);return q(s,{code:F.invalid_type,expected:W.date,received:s.parsedType}),we}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return q(s,{code:F.invalid_date}),we}const r=new Un;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:F.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:F.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):qe.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Rl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Rl.create=t=>new Rl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:de.ZodDate,...Te(t)});class Yy extends ke{_parse(e){if(this._getType(e)!==W.symbol){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:W.symbol,received:r.parsedType}),we}return Zn(e.data)}}Yy.create=t=>new Yy({typeName:de.ZodSymbol,...Te(t)});class cp extends ke{_parse(e){if(this._getType(e)!==W.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:W.undefined,received:r.parsedType}),we}return Zn(e.data)}}cp.create=t=>new cp({typeName:de.ZodUndefined,...Te(t)});class up extends ke{_parse(e){if(this._getType(e)!==W.null){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:W.null,received:r.parsedType}),we}return Zn(e.data)}}up.create=t=>new up({typeName:de.ZodNull,...Te(t)});class Xu extends ke{constructor(){super(...arguments),this._any=!0}_parse(e){return Zn(e.data)}}Xu.create=t=>new Xu({typeName:de.ZodAny,...Te(t)});class ol extends ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zn(e.data)}}ol.create=t=>new ol({typeName:de.ZodUnknown,...Te(t)});class Ks extends ke{_parse(e){const n=this._getOrReturnCtx(e);return q(n,{code:F.invalid_type,expected:W.never,received:n.parsedType}),we}}Ks.create=t=>new Ks({typeName:de.ZodNever,...Te(t)});class Qy extends ke{_parse(e){if(this._getType(e)!==W.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:W.void,received:r.parsedType}),we}return Zn(e.data)}}Qy.create=t=>new Qy({typeName:de.ZodVoid,...Te(t)});class wi extends ke{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==W.array)return q(n,{code:F.invalid_type,expected:W.array,received:n.parsedType}),we;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(q(n,{code:o?F.too_big:F.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(q(n,{code:F.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(q(n,{code:F.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new as(n,o,n.path,a)))).then(o=>Un.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new as(n,o,n.path,a)));return Un.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new wi({...this._def,minLength:{value:e,message:ie.toString(n)}})}max(e,n){return new wi({...this._def,maxLength:{value:e,message:ie.toString(n)}})}length(e,n){return new wi({...this._def,exactLength:{value:e,message:ie.toString(n)}})}nonempty(e){return this.min(1,e)}}wi.create=(t,e)=>new wi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:de.ZodArray,...Te(e)});function pc(t){if(t instanceof Ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ms.create(pc(r))}return new Ct({...t._def,shape:()=>e})}else return t instanceof wi?new wi({...t._def,type:pc(t.element)}):t instanceof Ms?Ms.create(pc(t.unwrap())):t instanceof Ol?Ol.create(pc(t.unwrap())):t instanceof ls?ls.create(t.items.map(e=>pc(e))):t}class Ct extends ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=qe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==W.object){const c=this._getOrReturnCtx(e);return q(c,{code:F.invalid_type,expected:W.object,received:c.parsedType}),we}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ks&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new as(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ks){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(q(i,{code:F.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new as(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key;c.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>Un.mergeObjectSync(r,c)):Un.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ie.errToObj,new Ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ie.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:de.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ct({...this._def,catchall:e})}pick(e){const n={};return qe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}omit(e){const n={};return qe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}deepPartial(){return pc(this)}partial(e){const n={};return qe.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Ct({...this._def,shape:()=>n})}required(e){const n={};return qe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ms;)s=s._def.innerType;n[r]=s}}),new Ct({...this._def,shape:()=>n})}keyof(){return h6(qe.objectKeys(this.shape))}}Ct.create=(t,e)=>new Ct({shape:()=>t,unknownKeys:"strip",catchall:Ks.create(),typeName:de.ZodObject,...Te(e)});Ct.strictCreate=(t,e)=>new Ct({shape:()=>t,unknownKeys:"strict",catchall:Ks.create(),typeName:de.ZodObject,...Te(e)});Ct.lazycreate=(t,e)=>new Ct({shape:t,unknownKeys:"strip",catchall:Ks.create(),typeName:de.ZodObject,...Te(e)});class dp extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new bi(a.ctx.common.issues));return q(n,{code:F.invalid_union,unionErrors:o}),we}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new bi(l));return q(n,{code:F.invalid_union,unionErrors:a}),we}}get options(){return this._def.options}}dp.create=(t,e)=>new dp({options:t,typeName:de.ZodUnion,...Te(e)});const fv=t=>t instanceof pp?fv(t.schema):t instanceof xi?fv(t.innerType()):t instanceof mp?[t.value]:t instanceof sa?t.options:t instanceof gp?Object.keys(t.enum):t instanceof vp?fv(t._def.innerType):t instanceof cp?[void 0]:t instanceof up?[null]:null;class J0 extends ke{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==W.object)return q(n,{code:F.invalid_type,expected:W.object,received:n.parsedType}),we;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(q(n,{code:F.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),we)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=fv(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new J0({typeName:de.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Te(r)})}}function uT(t,e){const n=wo(t),r=wo(e);if(t===e)return{valid:!0,data:t};if(n===W.object&&r===W.object){const i=qe.objectKeys(e),s=qe.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=uT(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===W.array&&r===W.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=uT(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===W.date&&r===W.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class hp extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(lT(s)||lT(o))return we;const a=uT(s.value,o.value);return a.valid?((cT(s)||cT(o))&&n.dirty(),{status:n.value,value:a.data}):(q(r,{code:F.invalid_intersection_types}),we)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}hp.create=(t,e,n)=>new hp({left:t,right:e,typeName:de.ZodIntersection,...Te(n)});class ls extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.array)return q(r,{code:F.invalid_type,expected:W.array,received:r.parsedType}),we;if(r.data.length<this._def.items.length)return q(r,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),we;!this._def.rest&&r.data.length>this._def.items.length&&(q(r,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new as(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Un.mergeArray(n,o)):Un.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ls({...this._def,rest:e})}}ls.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ls({items:t,typeName:de.ZodTuple,rest:null,...Te(e)})};class fp extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.object)return q(r,{code:F.invalid_type,expected:W.object,received:r.parsedType}),we;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new as(r,a,r.path,a)),value:o._parse(new as(r,r.data[a],r.path,a))});return r.common.async?Un.mergeObjectAsync(n,i):Un.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ke?new fp({keyType:e,valueType:n,typeName:de.ZodRecord,...Te(r)}):new fp({keyType:mi.create(),valueType:e,typeName:de.ZodRecord,...Te(n)})}}class Xy extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.map)return q(r,{code:F.invalid_type,expected:W.map,received:r.parsedType}),we;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new as(r,a,r.path,[c,"key"])),value:s._parse(new as(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return we;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return we;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Xy.create=(t,e,n)=>new Xy({valueType:e,keyType:t,typeName:de.ZodMap,...Te(n)});class Nl extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.set)return q(r,{code:F.invalid_type,expected:W.set,received:r.parsedType}),we;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(q(r,{code:F.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(q(r,{code:F.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return we;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new as(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Nl({...this._def,minSize:{value:e,message:ie.toString(n)}})}max(e,n){return new Nl({...this._def,maxSize:{value:e,message:ie.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Nl.create=(t,e)=>new Nl({valueType:t,minSize:null,maxSize:null,typeName:de.ZodSet,...Te(e)});class fu extends ke{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==W.function)return q(n,{code:F.invalid_type,expected:W.function,received:n.parsedType}),we;function r(a,l){return Gy({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,qy(),op].filter(c=>!!c),issueData:{code:F.invalid_arguments,argumentsError:l}})}function i(a,l){return Gy({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,qy(),op].filter(c=>!!c),issueData:{code:F.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Zu){const a=this;return Zn(async function(...l){const c=new bi([]),u=await a._def.args.parseAsync(l,s).catch(f=>{throw c.addIssue(r(l,f)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(f=>{throw c.addIssue(i(d,f)),c})})}else{const a=this;return Zn(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new bi([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new bi([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fu({...this._def,args:ls.create(e).rest(ol.create())})}returns(e){return new fu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new fu({args:e||ls.create([]).rest(ol.create()),returns:n||ol.create(),typeName:de.ZodFunction,...Te(r)})}}class pp extends ke{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}pp.create=(t,e)=>new pp({getter:t,typeName:de.ZodLazy,...Te(e)});class mp extends ke{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return q(n,{received:n.data,code:F.invalid_literal,expected:this._def.value}),we}return{status:"valid",value:e.data}}get value(){return this._def.value}}mp.create=(t,e)=>new mp({value:t,typeName:de.ZodLiteral,...Te(e)});function h6(t,e){return new sa({values:t,typeName:de.ZodEnum,...Te(e)})}class sa extends ke{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return q(n,{expected:qe.joinValues(r),received:n.parsedType,code:F.invalid_type}),we}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return q(n,{received:n.data,code:F.invalid_enum_value,options:r}),we}return Zn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return sa.create(e)}exclude(e){return sa.create(this.options.filter(n=>!e.includes(n)))}}sa.create=h6;class gp extends ke{_parse(e){const n=qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==W.string&&r.parsedType!==W.number){const i=qe.objectValues(n);return q(r,{expected:qe.joinValues(i),received:r.parsedType,code:F.invalid_type}),we}if(n.indexOf(e.data)===-1){const i=qe.objectValues(n);return q(r,{received:r.data,code:F.invalid_enum_value,options:i}),we}return Zn(e.data)}get enum(){return this._def.values}}gp.create=(t,e)=>new gp({values:t,typeName:de.ZodNativeEnum,...Te(e)});class Zu extends ke{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==W.promise&&n.common.async===!1)return q(n,{code:F.invalid_type,expected:W.promise,received:n.parsedType}),we;const r=n.parsedType===W.promise?n.data:Promise.resolve(n.data);return Zn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Zu.create=(t,e)=>new Zu({type:t,typeName:de.ZodPromise,...Te(e)});class xi extends ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===de.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{q(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ap(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ap(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);qe.assertNever(i)}}xi.create=(t,e,n)=>new xi({schema:t,typeName:de.ZodEffects,effect:e,...Te(n)});xi.createWithPreprocess=(t,e,n)=>new xi({schema:e,effect:{type:"preprocess",transform:t},typeName:de.ZodEffects,...Te(n)});class Ms extends ke{_parse(e){return this._getType(e)===W.undefined?Zn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ms.create=(t,e)=>new Ms({innerType:t,typeName:de.ZodOptional,...Te(e)});class Ol extends ke{_parse(e){return this._getType(e)===W.null?Zn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ol.create=(t,e)=>new Ol({innerType:t,typeName:de.ZodNullable,...Te(e)});class vp extends ke{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===W.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}vp.create=(t,e)=>new vp({innerType:t,typeName:de.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Te(e)});class Zy extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ky(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bi(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Zy.create=(t,e)=>new Zy({innerType:t,typeName:de.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Te(e)});class Jy extends ke{_parse(e){if(this._getType(e)!==W.nan){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:W.nan,received:r.parsedType}),we}return{status:"valid",value:e.data}}}Jy.create=t=>new Jy({typeName:de.ZodNaN,...Te(t)});const Gke=Symbol("zod_brand");class f6 extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class _m extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?we:s.status==="dirty"?(n.dirty(),d6(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?we:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new _m({in:e,out:n,typeName:de.ZodPipeline})}}class e_ extends ke{_parse(e){const n=this._def.innerType._parse(e);return ap(n)&&(n.value=Object.freeze(n.value)),n}}e_.create=(t,e)=>new e_({innerType:t,typeName:de.ZodReadonly,...Te(e)});const p6=(t,e={},n)=>t?Xu.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):Xu.create(),Kke={object:Ct.lazycreate};var de;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(de||(de={}));const Yke=(t,e={message:`Input not instance of ${t.name}`})=>p6(n=>n instanceof t,e),m6=mi.create,g6=ra.create,Qke=Jy.create,Xke=ia.create,v6=lp.create,Zke=Rl.create,Jke=Yy.create,eAe=cp.create,tAe=up.create,nAe=Xu.create,rAe=ol.create,iAe=Ks.create,sAe=Qy.create,oAe=wi.create,aAe=Ct.create,lAe=Ct.strictCreate,cAe=dp.create,uAe=J0.create,dAe=hp.create,hAe=ls.create,fAe=fp.create,pAe=Xy.create,mAe=Nl.create,gAe=fu.create,vAe=pp.create,yAe=mp.create,_Ae=sa.create,bAe=gp.create,wAe=Zu.create,hM=xi.create,SAe=Ms.create,EAe=Ol.create,TAe=xi.createWithPreprocess,CAe=_m.create,xAe=()=>m6().optional(),IAe=()=>g6().optional(),kAe=()=>v6().optional(),AAe={string:t=>mi.create({...t,coerce:!0}),number:t=>ra.create({...t,coerce:!0}),boolean:t=>lp.create({...t,coerce:!0}),bigint:t=>ia.create({...t,coerce:!0}),date:t=>Rl.create({...t,coerce:!0})},PAe=we;var He=Object.freeze({__proto__:null,defaultErrorMap:op,setErrorMap:Dke,getErrorMap:qy,makeIssue:Gy,EMPTY_PATH:Mke,addIssueToContext:q,ParseStatus:Un,INVALID:we,DIRTY:d6,OK:Zn,isAborted:lT,isDirty:cT,isValid:ap,isAsync:Ky,get util(){return qe},get objectUtil(){return aT},ZodParsedType:W,getParsedType:wo,ZodType:ke,ZodString:mi,ZodNumber:ra,ZodBigInt:ia,ZodBoolean:lp,ZodDate:Rl,ZodSymbol:Yy,ZodUndefined:cp,ZodNull:up,ZodAny:Xu,ZodUnknown:ol,ZodNever:Ks,ZodVoid:Qy,ZodArray:wi,ZodObject:Ct,ZodUnion:dp,ZodDiscriminatedUnion:J0,ZodIntersection:hp,ZodTuple:ls,ZodRecord:fp,ZodMap:Xy,ZodSet:Nl,ZodFunction:fu,ZodLazy:pp,ZodLiteral:mp,ZodEnum:sa,ZodNativeEnum:gp,ZodPromise:Zu,ZodEffects:xi,ZodTransformer:xi,ZodOptional:Ms,ZodNullable:Ol,ZodDefault:vp,ZodCatch:Zy,ZodNaN:Jy,BRAND:Gke,ZodBranded:f6,ZodPipeline:_m,ZodReadonly:e_,custom:p6,Schema:ke,ZodSchema:ke,late:Kke,get ZodFirstPartyTypeKind(){return de},coerce:AAe,any:nAe,array:oAe,bigint:Xke,boolean:v6,date:Zke,discriminatedUnion:uAe,effect:hM,enum:_Ae,function:gAe,instanceof:Yke,intersection:dAe,lazy:vAe,literal:yAe,map:pAe,nan:Qke,nativeEnum:bAe,never:iAe,null:tAe,nullable:EAe,number:g6,object:aAe,oboolean:kAe,onumber:IAe,optional:SAe,ostring:xAe,pipeline:CAe,preprocess:TAe,promise:wAe,record:fAe,set:mAe,strictObject:lAe,string:m6,symbol:Jke,transformer:hM,tuple:hAe,undefined:eAe,union:cAe,unknown:rAe,void:sAe,NEVER:PAe,ZodIssueCode:F,quotelessJson:Oke,ZodError:bi});const RAe=He.string(),NAe=He.object({name:He.string(),pkgSize:He.number().positive(),pkgUnit:He.enum(K0),pkgPrice:He.number().positive()});function y6(t,e,n){if(!t)return-1;if(!e||!n)return 0;const r=A9(e,n,t.pkgUnit);return t.pkgPrice/t.pkgSize*r}function Uk(t){const e=t.trim();return`${e[0].toUpperCase()}${e.substring(1)}`}const Eg=ym();function OAe({id:t,delayMs:e=1e3,remove:n}){const{isLoading:r,data:i,set:s}=zk("ingredientes",t),o=g.useCallback(a=>s({...a,name:Uk(a.name)}),[s]);return r?_.jsx(Xs,{}):_.jsx(jk,{initialValues:i,validationSchema:NAe,delayMs:e,onSubmit:o,children:_.jsxs(Nr,{alignItems:"center",gridTemplate:[` "name name name name"
            "size price save remove"
            / 8fr 7fr 2rem auto`,'"name size price save remove" / 1fr 8rem 7rem 2rem auto'],gap:"var(--chakra-space-2)",children:[_.jsx(Eg,{name:"name",gridArea:"name"}),_.jsxs(Ei,{gridArea:"size",children:[_.jsx(Eg,{name:"pkgSize",as:Qu}),_.jsx(od,{width:"4rem",children:_.jsx(Eg,{name:"pkgUnit",as:Yu,options:K0})})]}),_.jsxs(Ei,{gridArea:"price",children:[_.jsx(Eg,{name:"pkgPrice",as:Qu}),_.jsx(Qo,{children:""})]}),_.jsx(cx,{gridArea:"save",justifySelf:"center",children:_.jsx(Bk,{})}),_.jsx(mm,{gridArea:"remove",label:"Borrar ingrediente",onConfirm:n})]})})}function DAe(){const{isLoading:t,data:e,add:n,remove:r}=es("ingredientes",{orderBy:"name"});return t?_.jsx(Xs,{}):_.jsxs(_.Fragment,{children:[_.jsxs(Dp,{children:[_.jsx(ua,{as:"h1",flex:1,children:"Ingredientes"}),_.jsx(Rp,{title:"Aadir ingrediente","aria-label":"Aadir ingrediente",icon:_.jsx($n,{as:Ek}),colorScheme:"green",onClick:()=>n({name:"",pkgUnit:K0[0]})})]}),e.map(i=>_.jsx(OAe,{id:i.id,gap:0,delayMs:xk,remove:()=>r(i)},i.id))]})}const eb=Tk(["PAX","kg","g"]);function MAe(){const t=Z_(),{isLoading:e,data:n,add:r,remove:i}=es("recetas",{orderBy:"name"});if(e)return _.jsx(Xs,{});async function s(){const o=await r({name:"",cost:0,amount:8,unit:eb[0],ingredients:[]});t(`/recetas/${o.id}`)}return _.jsx(x9,{title:"Recetas",addLabel:"Aadir receta",add:s,children:n.map(o=>_.jsx(Zj,{children:_.jsx(k9,{name:o.name||"(sin nombre)",remove:()=>i(o),removeLabel:`Borrar receta ${o.name||""}`,tag:`${o.amount} ${o.unit}`,url:`/recetas/${o.id}`,children:o.ingredients.map(a=>_.jsx(Z1,{tooltip:sl(a.amount,a.unit),colorScheme:o.ingredients.some(l=>l!==a&&l.id===a.id)?"red":void 0,children:a.name},`${a.id}-${a.amount}`))})},o.id))})}const _6=[{path:"/ingredientes",title:"Ingredientes",Component:DAe},{path:"/recetas",title:"Recetas",Component:MAe},{path:"/pasteles",title:"Pasteles",Component:REe}];function $Ae({config:t,children:e}){return _.jsx(eEe,{firebaseConfig:t,children:_.jsx(LAe,{children:e})})}function LAe({children:t}){const e=f9(),n=Uge(e),r=s_e(e);return _.jsx(vEe,{sdk:r,children:_.jsx(yEe,{sdk:n,children:t})})}const fM={FIREBASE_CONFIGURATION:`{
  "apiKey": "AIzaSyB4Jvz_N7ttba_2eciS4K-5NHPsIr9Lync",
  "authDomain": "soliluna-be748.firebaseapp.com",
  "projectId": "soliluna-be748",
  "storageBucket": "soliluna-be748.appspot.com",
  "messagingSenderId": "347599334469",
  "appId": "1:347599334469:web:dcf2057bf844f12b81472c",
  "measurementId": "G-11781HE48Z"
}
`,VALID_USERS:'["amatiasq@gmail.com", "micaela.apau@gmail.com", "jordipuigagut@gmail.com"]'};function b6(t){if(!(t in fM))throw new Error("Environment variable must be manually added to readEnvironmentVariable.ts: "+t);const e=fM[t];if(!e)throw new Error(`Environment variable ${t} is required!`);try{return JSON.parse(e)}catch(n){throw new Error(`Environment variable ${t} can't be parsed!
${n}`)}}const FAe=b6("FIREBASE_CONFIGURATION");function VAe(){const{colorMode:t,toggleColorMode:e}=N_();return g.useEffect(()=>{t!=="dark"&&e()},[t]),_.jsxs(Nr,{templateColumns:"auto 1fr",alignItems:"baseline",marginBottom:8,children:[_.jsx(ua,{as:"h1",children:"Soliluna"}),_.jsx(Nr,{as:"nav",justifyContent:"center",templateColumns:"repeat(3, auto)",gap:["var(--chakra-space-2)","var(--chakra-space-8)"],children:_6.map(n=>_.jsx(CEe,{to:n.path,children:_.jsx(Fc,{textAlign:"center",children:n.title})},n.path))})]})}function jAe(){return _.jsx($Ae,{config:FAe,children:_.jsxs(Tse,{resetCSS:!0,children:[_.jsx(VAe,{}),_.jsx(e4,{paddingBottom:"var(--chakra-space-16)",maxW:"45rem",children:_.jsx(ad,{gap:"var(--chakra-space-2)",align:"stretch",children:_.jsx(rde,{})})})]})})}function Wk({label:t,info:e,name:n,addLabel:r,addItem:i,onRemove:s,gridArea:o,children:a,...l}){const c=Uj(),u=Ql(),{value:d}=u.getFieldMeta(n);return _.jsx(K_,{gridArea:o,children:_.jsx(Cke,{name:n,children:({push:h,remove:f,replace:p})=>_.jsxs(_.Fragment,{children:[_.jsxs(Yo,{paddingTop:16,paddingBottom:3,children:[_.jsxs(Nr,{templateColumns:"1fr auto",children:[_.jsx(fl,{htmlFor:c,children:_.jsx(ua,{as:"h3",fontSize:"2xl",children:t})}),_.jsx(Rp,{id:c,title:r,"aria-label":r,icon:_.jsx($n,{as:Ek}),colorScheme:"green",onClick:async()=>h(await i())})]}),e?_.jsx(oj,{children:e}):null]}),_.jsx(G_,{direction:"column",align:"stretch",...l,children:d.map((m,b)=>a({index:b,item:m,remove:s?()=>{s(m,b),f(b)}:()=>f(b),replace:p,all:d}))})]})})})}Wk.displayName="FormList";const w6=He.object({id:RAe,name:He.string(),cost:He.number(),amount:He.number(),unit:He.enum(K0)});function pM(t){return{id:t.id,name:t.name,cost:0,amount:"",unit:P9(t.pkgUnit)}}function S6(t,e){for(const n of t){const r=e.find(i=>i.id===n.id);n.cost=y6(r,n.amount,n.unit)}return t.reduce((n,r)=>n+r.cost,0)}function BAe(t,e=n=>n){const{unit:n}=t,r=e(t.amount);return n==="g"||n==="ml"?parseFloat(r):n==="kg"||n==="l"?A9(r,"kg","g"):/huevo/i.test(t.name)?65*r:0}function E6({target:t}){var n;const e=(n=t.closest(".chakra-form-control"))==null?void 0:n.parentElement;e&&setTimeout(()=>{const r=e.querySelector("input:not([readonly]):not([type=checkbox])");r&&r.select()},10)}function T6(t,e){const n=sl(e.amount,e.unit),r=`Borrando ${t}: ${e.name} (${n}`;alert(r),console.log(r)}const mS=ym();function C6({gridArea:t}){const{data:e,isLoading:n}=es("ingredientes",{orderBy:"name"});if(n)return _.jsx(Xs,{});const r=o=>e.find(a=>a.id===o),i=e.map(o=>({value:o.id,label:o.name})),[s]=e;return _.jsx(Wk,{gridArea:t,gap:["var(--chakra-space-6)","var(--chakra-space-2)"],name:"ingredients",label:"Ingredientes",addLabel:"Aadir ingrediente",addItem:()=>pM(s),children:({index:o,item:a,all:l,remove:c,replace:u})=>{const d=r(a.id),h=l.some(p=>p!==a&&p.id===a.id);if(!d)return T6("ingrediente desconocido",a),c(),null;const f=Ck(d.pkgUnit);return a.cost=y6(d,a.amount,a.unit),_.jsxs(Nr,{gap:"var(--chakra-space-2)",gridTemplate:[` "name name name"
                "quantity cost remove"
                / 8fr 7fr auto`,` "name quantity cost remove"
                / 1fr 8rem 7rem auto`],children:[_.jsx(mS,{gridArea:"name",name:`ingredients.${o}.id`,as:Yu,options:i,isInvalid:h,onChange:p=>{const m=p.target.value,b=r(m),y=pM(b);y.amount=a.amount,u(o,y),E6(p)}}),_.jsxs(Ei,{gridArea:"quantity",children:[_.jsx(mS,{name:`ingredients.${o}.amount`,as:Qu}),_.jsx(od,{width:"4rem",children:_.jsx(mS,{name:`ingredients.${o}.unit`,as:Yu,options:f,isDisabled:f.length===1})})]}),_.jsxs(Ei,{gridArea:"cost",children:[_.jsx(ei,{value:a.cost.toFixed(2),isReadOnly:!0}),_.jsx(Qo,{children:""})]}),_.jsx(mm,{gridArea:"remove",label:`Quitar ${a.name}`,onConfirm:c})]},o)}})}const zAe=He.string(),UAe=He.object({name:He.string(),amount:He.number(),unit:He.enum(eb),cost:He.number(),ingredients:He.array(w6)});function WAe(t,e){return t.amount?t.cost/t.amount*e:0}function HAe({ingredients:t,amountModifier:e=n=>n}){const n=t.reduce((r,i)=>r+BAe(i,e),0);return _.jsxs(Dp,{children:[_.jsx(Nr,{templateColumns:"1fr auto 1fr",gap:"var(--chakra-space-2)",flex:1,children:t.map((r,i)=>_.jsxs(g.Fragment,{children:[_.jsx(Fc,{textAlign:"right",children:sl(e(r.amount),r.unit)}),_.jsx(uj,{checked:!1}),_.jsx(Fc,{children:r.name})]},`${r.id}-${i}`))}),_.jsxs(K_,{children:[_.jsx(Fc,{children:"Total"}),_.jsx(Fc,{children:sl(n,"g")})]})]})}const mM=ym();function qAe({gridArea:t}){const{data:e,isLoading:n}=es("recetas",{orderBy:"name"}),r=es("ingredientes",{orderBy:"name"});if(n||r.isLoading)return _.jsx(Xs,{});const i=l=>e.find(c=>c.id===l),s=e.map(l=>({value:l.id,label:l.name})),[{ingredients:o,...a}]=e;return _.jsx(Wk,{gridArea:t,gap:["var(--chakra-space-6)","var(--chakra-space-2)"],name:"recipes",label:"Recetas",addLabel:"Aadir receta",addItem:()=>a,children:({index:l,item:c,all:u,remove:d,replace:h})=>{const f=i(c.id),p=u.some(m=>m!==c&&m.id===c.id);return f?(console.log(c),f.cost=S6(f.ingredients,r.data),c.cost=WAe(f,c.amount),_.jsxs(Nr,{gap:"var(--chakra-space-2)",gridTemplate:[` "name name name"
                "quantity cost remove"
                "ingredients ingredients ingredients"
                / 8fr 7fr auto`,` "name quantity cost remove"
                "ingredients ingredients ingredients ingredients"
                / 1fr 8rem 7rem auto`],children:[_.jsx(mM,{gridArea:"name",name:`recipes.${l}.id`,as:Yu,options:s,isInvalid:p,onChange:m=>{const b=m.target.value,{ingredients:y,...v}=i(b);h(l,v),E6(m)}}),_.jsxs(Ei,{gridArea:"quantity",children:[_.jsx(mM,{name:`recipes.${l}.amount`,as:Qu}),_.jsx(od,{width:"4rem",children:_.jsx(ei,{value:c.unit,isReadOnly:!0})})]}),_.jsxs(Ei,{gridArea:"cost",children:[_.jsx(ei,{value:c.cost.toFixed(2),isReadOnly:!0}),_.jsx(Qo,{children:""})]}),_.jsx(mm,{gridArea:"remove",label:`Quitar ${c.name}`,onConfirm:d}),_.jsx(cx,{gridArea:"ingredients",children:_.jsx(HAe,{ingredients:f.ingredients,amountModifier:m=>m/f.amount*c.amount})})]},l)):(T6("receta desconocida",c),d(),null)}})}const GAe=ee((t,e)=>{const n=Ql(),r=g.useCallback(s=>{const o=s.target.valueAsDate;n.setFieldValue(t.name,o&&Mt.fromDate(o))},[]),i=t.value instanceof Mt?AEe(t.value.toDate()):t.value||"";return _.jsx(ei,{...t,ref:e,type:"date",value:i,onChange:r})});function x6(){return ee(({name:t,label:e,isRequired:n,gridArea:r,children:i,...s},o)=>{const a=g.useId(),[l,c]=o6(t);return _.jsxs(Yo,{isInvalid:!!(c.error&&c.touched),isRequired:n,gridArea:r,children:[_.jsx(fl,{htmlFor:a,children:e}),_.jsx(ei,{...s,...l,ref:o,name:t,id:a}),_.jsx(aj,{children:c.error})]})})}const KAe=He.object({id:zAe,name:He.string(),amount:He.number(),unit:He.enum(eb),cost:He.number()}),YAe=He.object({name:He.string(),pax:He.number(),date:He.instanceof(Mt).optional(),notes:He.string().optional(),cost:He.number(),multiplier:He.any(),recipes:He.array(KAe),ingredients:He.array(w6)}),QAe=Tk([1,2,3,4,5,6]),XAe=QAe.map(t=>({value:t,label:`x${t}`})),Tg=x6(),ZAe=ym();function JAe(){const{id:t}=F4(),{isLoading:e,data:n,set:r}=zk("pasteles",t),i=g.useCallback(s=>r({...s,name:Uk(s.name)}),[r]);return e?_.jsx(Xs,{}):_.jsx(jk,{initialValues:n,validationSchema:YAe,delayMs:xk,onSubmit:i,children:({values:s})=>_.jsx(ePe,{values:s})})}function ePe({values:t}){return t.cost=t.recipes.reduce((e,n)=>e+n.cost,0)+t.ingredients.reduce((e,n)=>e+n.cost,0),_.jsxs(ad,{align:"stretch",children:[_.jsxs(Nr,{templateColumns:"1fr auto",alignItems:"center",children:[_.jsx(ua,{as:"h1",children:t.name}),_.jsx(Bk,{})]}),_.jsxs(Nr,{gap:"var(--chakra-space-2)",gridTemplate:[` "name name"
            "pax cost"
            "date price"
            "notes notes"
            "recipes recipes"
            "ingredients ingredients"
            / 1fr 1fr`,` "name name"
            "pax cost"
            "date price"
            "notes notes"
            "recipes recipes"
            "ingredients ingredients"
            / 1fr 2fr`],children:[_.jsx(Tg,{gridArea:"name",name:"name",label:"Nombre",autoFocus:!0}),_.jsx(Tg,{gridArea:"pax",name:"pax",label:"PAX",as:Qu}),_.jsx(Tg,{gridArea:"date",name:"date",label:"Fecha",as:GAe}),_.jsx(Tg,{gridArea:"notes",name:"notes",label:"Notas",as:P4}),_.jsx(qAe,{gridArea:"recipes",pax:t.pax}),_.jsx(C6,{gridArea:"ingredients"}),_.jsxs(Yo,{gridArea:"cost",children:[_.jsx(fl,{children:"Coste"}),_.jsxs(Ei,{children:[_.jsx(ei,{value:t.cost.toFixed(2),isReadOnly:!0}),_.jsx(Qo,{children:""})]})]}),_.jsxs(Yo,{gridArea:"price",children:[_.jsx(fl,{children:"Precio"}),_.jsxs(Ei,{children:[_.jsx(lx,{width:"4rem",children:_.jsx(ZAe,{name:"multiplier",as:Yu,options:XAe})}),_.jsx(ei,{value:(t.cost*t.multiplier).toFixed(2),isReadOnly:!0,paddingLeft:"6rem"}),_.jsx(Qo,{children:""})]})]})]})]})}function tPe(){const t=es("pasteles"),e=es("recetas"),n=es("ingredientes");if(t.isLoading||e.isLoading||n.isLoading)return _.jsx(Xs,{});const r={cakes:t.data,recipes:e.data,ingredients:n.data};console.log(r),console.log("copy(exportDb())");function i(){return`importDb(${JSON.stringify(r,null,2)})`}return Object.assign(window,{db:r,exportDb:i,importDb:nPe(t.add,e.add,n.add)}),_.jsx(_.Fragment,{children:"Done"})}function nPe(t,e,n){return async({cakes:r=[],recipes:i=[],ingredients:s=[]})=>{for(const o of s)await n(o);for(const o of i)await e(o);for(const o of r)await t(o)}}function rPe(){return _.jsx(_.Fragment,{children:"HOLA :)"})}function iPe(){const t=G0(),{status:e,data:n}=p9();return e==="loading"?_.jsx("span",{children:"Cargando..."}):n.signedIn?_.jsx(z4,{to:"/"}):(_ye(t,new ws),null)}const sPe=x6(),gM=ym();function oPe(){const{id:t}=F4(),{isLoading:e,data:n,set:r}=zk("recetas",t),i=es("ingredientes"),s=g.useCallback(o=>r({...o,name:Uk(o.name)}),[r]);return e||i.isLoading?_.jsx(Xs,{}):_.jsx(jk,{initialValues:n,validationSchema:UAe,delayMs:xk,onSubmit:s,children:({values:o})=>(o.cost=S6(o.ingredients,i.data),_.jsxs(ad,{align:"stretch",children:[_.jsxs(Nr,{templateColumns:"1fr auto",alignItems:"center",children:[_.jsx(ua,{as:"h1",children:n.name}),_.jsx(Bk,{})]}),_.jsx(sPe,{name:"name",label:"Nombre",autoFocus:!0}),_.jsxs(Nr,{templateColumns:"1fr 1fr",gap:"var(--chakra-space-2)",children:[_.jsxs(Yo,{children:[_.jsx(fl,{children:"Cantidad"}),_.jsxs(Ei,{children:[_.jsx(gM,{name:"amount",as:Qu}),_.jsx(od,{width:"5rem",children:_.jsx(gM,{name:"unit",as:Yu,options:eb})})]})]}),_.jsxs(Yo,{children:[_.jsx(fl,{children:"Coste"}),_.jsxs(Ei,{children:[_.jsx(ei,{value:o.cost.toFixed(2),isReadOnly:!0}),_.jsx(Qo,{children:""})]})]})]}),_.jsx(C6,{})]}))})}const aPe=b6("VALID_USERS");function lPe({children:t}){const e=G0(),{status:n,data:r}=p9(),{data:i}=nEe();if(n==="loading")return _.jsx("span",{children:"Cargando..."});if(!r.signedIn)return _.jsx(z4,{to:"/login",state:{from:`${location}`}});if(aPe.includes(i==null?void 0:i.email))return t;const s=()=>{e.signOut(),location.reload()};return _.jsx("button",{style:{fontSize:"3rem",fontWeight:"bold"},onClick:s,children:"Who the fuck are you?"})}const Xd=t=>_.jsx(lPe,{children:t}),cPe=document.getElementById("app-root"),uPe=N4(cPe);uPe.render(_.jsxs(_.Fragment,{children:[_.jsx("div",{id:"firebaseui-auth-container"}),_.jsx(wq,{initialColorMode:"dark"}),_.jsxs(dde,{children:[_.jsx(mde,{}),_.jsx(sde,{children:_.jsxs(co,{path:"/",element:_.jsx(jAe,{}),children:[_.jsx(co,{index:!0,element:Xd(_.jsx(rPe,{}))}),_.jsx(co,{path:"/login",element:_.jsx(iPe,{})}),_6.map(t=>_.jsx(co,{path:t.path,element:Xd(_.jsx(t.Component,{}))},t.path)),_.jsx(co,{path:"/recetas/:id",element:Xd(_.jsx(oPe,{}))}),_.jsx(co,{path:"/pasteles/:id",element:Xd(_.jsx(JAe,{}))}),_.jsx(co,{path:"/export",element:Xd(_.jsx(tPe,{}))})]})})]})]}))});export default dPe();
